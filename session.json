{"cookies":[{"name":"asurascans_session","value":"eyJpdiI6IndkTlI5dllxMkhySFdvN0o5aE9GMFE9PSIsInZhbHVlIjoiN1p0SGt2SEdxc21YVVpKc282REdhSHJoWTFXRzdHc3RsenFMRmF0cDRNWHdiT2NzaGVLbTdUdTlMZ1BGV0oxV2tEbDErTW9PQXRNT1FHVCtYMVhpNlBIakVON2FNdjhWTzVtRlExcWJSeTVKUmhYS1NUNTRsc1hFT2p3VW5qTDQiLCJtYWMiOiIyYzkzNzViY2ZkY2NmNGZmZTM5ODQ2MzFkMWY5YTgyZTE5NWYxN2M0ZGFmMjI1MmUyMGMwZTkyNDJiYjg2OTRhIiwidGFnIjoiIn0%3D","domain":".asuracomic.net","path":"/","expires":1723245182.183371,"size":360,"httpOnly":true,"secure":false,"session":false,"sameSite":"Lax","priority":"Medium","sameParty":false,"sourceScheme":"Secure"},{"name":"cto_bidid","value":"Ed4iWF9jZ3JNc2tBS2NpTUFqNHVYdFgza2hablNNRjklMkIlMkI5blVZQzgwUzZ4cFVKdiUyQm1UUFJiWXMwYkt2cGpYMiUyQndSTHZRUlR1VmtkdjFWMUtldmROWEl1dkVnJTNEJTNE","domain":".asuracomic.net","path":"/","expires":1756343633,"size":149,"httpOnly":false,"secure":false,"session":false,"priority":"Medium","sameParty":false,"sourceScheme":"Secure"},{"name":"cto_bundle","value":"W8PgpF9QZ2N0MjdZUHNoSDFqT2FtbDc4ZzA3SXcwR09DbUYlMkJjdGRJRjZRcnFRajkzSG9xY1BZJTJGRnExZm5tUlVwSGdqd2pmJTJGTlBwYkVLb1pqJTJCT3BjQTlyeHBFJTJCWnZha2tQMUN5RGlLS0lJUG10WFRZaW5WRElxbiUyQlFhMnJTSG83NnF0Wg","domain":".asuracomic.net","path":"/","expires":1756343633,"size":204,"httpOnly":false,"secure":false,"session":false,"priority":"Medium","sameParty":false,"sourceScheme":"Secure"},{"name":"XSRF-TOKEN","value":"eyJpdiI6IlJVUUsySnUrNmNYZmhMMjZub2tGcXc9PSIsInZhbHVlIjoiSmF3aERMbk9VYmFyRkhmUW5GRlkvbXcyRDJqeGVyd0NVUlk4NHFPbm5oeDhkaDNOeldMeGh3SFUxUUpvY3RRbk1MQUtaL3JvZWJTYVpTak1jTmdaU0ZBOEVOSEo2TWEvTXlnUEJIdVgvTi9SQU9CNzQ2enZxTTJwcEhOam1rSVciLCJtYWMiOiI0YjYxNDM3YmEwMDBhN2JhZThjOWE3M2FiMDM2NzU4N2JkYzM5ODRhOWM0ZjQ3YzU1NTNjOTU2ZjIzYzEyYzNhIiwidGFnIjoiIn0%3D","domain":".asuracomic.net","path":"/","expires":1723245182.183292,"size":352,"httpOnly":false,"secure":true,"session":false,"sameSite":"Lax","priority":"Medium","sameParty":false,"sourceScheme":"Secure"},{"name":"cf_clearance","value":"ojuMFyJS2AyBByMPSwFZxtYlPqp0VLFtss1SZv5EbfU-1722640381-1.0.1.1-R8ZUZc3QJ_scp6fE2Ihu7BDK.eglNqazhJrCy7smfGwMNqAvxZHu7NbXVr5uA7S1fkclJDU9nUPgSdlrLBgIfQ","domain":".asuracomic.net","path":"/","expires":1754176381.953264,"size":161,"httpOnly":true,"secure":true,"session":false,"sameSite":"None","priority":"Medium","sameParty":false,"sourceScheme":"Secure","partitionKey":"https://asuracomic.net"}],"localStorageData":{"_sharedid_cst":"DCxkLPEs4w==","amxId":"amx*r*c0d60572-b276-448c-be73-077b31dbde46","id5id_1634_nb_exp":"Sun, 01 Sep 2024 23:13:03 GMT","_pf_time":"MTcyMjY0MDM4MjUwNA==","adagio":"{\"_navigation\":{\"totalPages\":1,\"totalSessions\":1},\"session\":{\"_firstPageviewId\":\"666f7619-45f8-4783-9ae3-5b6365c94584\",\"_pages\":1,\"_currentPagetype\":null,\"_previousPagetype\":null,\"_bidsSmplg\":0.1,\"lastActivityTime\":1722640384014,\"rnd\":0.5181057183729485,\"id\":\"3cb5131d-2d0d-4a70-8455-669df2adfdc2\",\"new\":true,\"initiator\":\"adgjs\",\"vwSmplg\":0.01,\"vwSmplgNxt\":0.01}}","id5id_last_exp":"Thu, 31 Oct 2024 23:13:08 GMT","id5id_v2_3273132596434857":"{\"data\":{\"response\":{\"created_at\":\"2024-08-02T23:13:08.562614535Z\",\"id5_consent\":false,\"original_uid\":\"0\",\"universal_uid\":\"0\",\"link_type\":0,\"cascade_needed\":false,\"privacy\":{\"jurisdiction\":\"gdpr\",\"id5_consent\":false},\"ext\":{\"linkType\":0,\"pba\":\"r+lx85pT21e0Oa4Ja48+5g==\"}},\"responseTimestamp\":1722640388554},\"expireAt\":1723936388555}","google_auto_fc_cmp_setting":"[1]","_sharedid":"bc61a7a7-1b29-4e02-b1e6-97fc2be00b4b","id5id_last":"Fri, 02 Aug 2024 23:13:08 GMT","_sharedid_exp":"Mon, 19 Apr 2027 23:13:54 GMT","id5id":"%7B%22universal_uid%22%3A%220%22%2C%22ext%22%3A%7B%22linkType%22%3A0%2C%22pba%22%3A%22r%2Blx85pT21e0Oa4Ja48%2B5g%3D%3D%22%7D%7D","_pf_cc":"RlI=","_pf_ip":"MjAwMTo4NjE6MjA3Ojk4MDA6ZDAzOmFlN2U6Y2RkYjpmNWY4","id5id_privacy_exp":"Sun, 01 Sep 2024 23:13:08 GMT","amxId_cst":"DCxkLPEs4w==","CMPList":"{\"lastUpdated\":\"2024-08-01T17:03:07Z\",\"CMP\":[\"2\",\"3\",\"5\",\"6\",\"7\",\"9\",\"10\",\"14\",\"18\",\"21\",\"23\",\"25\",\"27\",\"28\",\"30\",\"31\",\"35\",\"38\",\"44\",\"45\",\"46\",\"47\",\"50\",\"54\",\"58\",\"59\",\"61\",\"63\",\"65\",\"68\",\"69\",\"72\",\"76\",\"77\",\"79\",\"84\",\"90\",\"92\",\"96\",\"104\",\"105\",\"112\",\"113\",\"123\",\"125\",\"129\",\"134\",\"141\",\"162\",\"165\",\"167\",\"168\",\"170\",\"171\",\"181\",\"183\",\"185\",\"193\",\"198\",\"200\",\"212\",\"213\",\"217\",\"218\",\"221\",\"222\",\"224\",\"225\",\"227\",\"229\",\"231\",\"235\",\"236\",\"237\",\"242\",\"246\",\"247\",\"252\",\"258\",\"259\",\"260\",\"264\",\"273\",\"277\",\"279\",\"280\",\"282\",\"284\",\"287\",\"291\",\"292\",\"294\",\"297\",\"299\",\"300\",\"302\",\"303\",\"304\",\"305\",\"306\",\"307\",\"308\",\"309\",\"310\",\"311\",\"312\",\"316\",\"317\",\"318\",\"319\",\"321\",\"322\",\"323\",\"327\",\"329\",\"330\",\"332\",\"335\",\"338\",\"339\",\"340\",\"341\",\"343\",\"345\",\"348\",\"350\",\"351\",\"352\",\"353\",\"354\",\"355\",\"358\",\"359\",\"360\",\"361\",\"363\",\"364\",\"367\",\"369\",\"371\",\"372\",\"373\",\"374\",\"376\",\"378\",\"379\",\"380\",\"382\",\"383\",\"384\",\"385\",\"386\",\"387\",\"388\",\"390\",\"391\",\"392\",\"393\",\"396\",\"397\",\"399\",\"401\",\"403\",\"404\",\"405\",\"406\",\"407\",\"408\",\"409\",\"410\",\"411\",\"412\",\"413\",\"414\",\"415\",\"416\",\"417\",\"418\",\"419\",\"420\",\"421\",\"422\",\"423\",\"424\",\"425\",\"426\",\"427\",\"428\",\"429\",\"430\",\"431\",\"432\",\"433\",\"434\",\"435\",\"436\",\"437\",\"438\",\"439\",\"440\",\"441\",\"442\",\"443\",\"444\",\"445\"],\"expiry\":1722899582872}","adtrack-lib-criteo":"// Hash: kO/hfPmy8BYPzisIJV1MtbSXVma25CoeFJTiybfoRkQZ25q6U0fx6TW9pIs63DLuFnYvwfus2+ogZYV+p6TTT+KI0ALcmg+BVdZ/q1jnuCCxXeVIHD0iG39G3AqMusXuHFMCEVpB6UYhVjKwB1bhyTfSDZjNWPaXc+m1xs6LSZ0=\n!function(L){\"use strict\";var c,F=(!function(t){t[t.Error=0]=\"Error\",t[t.Warning=1]=\"Warning\",t[t.Debug=2]=\"Debug\"}(c=c||{}),[\"color: #fff;\",\"background: #ff8f1c;\",\"display: inline-block;\",\"padding: 1px 4px;\",\"border-radius: 3px;\"].join(\" \")),p=function(){function i(){}return i.Log=function(t,e){var n;i.LOGLEVEL<t||(t=c[t].toUpperCase(),n=0<(n=window.navigator.userAgent).indexOf(\"MSIE \")||0<n.indexOf(\"Trident/\"),window.console&&(n?console.log(\"[PubTag] \".concat(t,\": \").concat(e)):console.log(\"%cPubTag\",F,\"\".concat(t,\": \").concat(e))))},i.Debug=function(t){i.Log(c.Debug,t)},i.Warning=function(t){i.Log(c.Warning,t)},i.Error=function(t){i.Log(c.Error,t)},i.LOGLEVEL=c.Error,i}();function B(t){p.LOGLEVEL=t}function W(t){function e(){try{return i.apply(this,arguments)}catch(t){p.Error(\"Exception caught: \"+t.toString())}}var n,i=t;for(n in e.prototype=i.prototype,i)i.hasOwnProperty(n)&&(e[n]=i[n]);return e}function N(t){for(var e in t){var n;e in t&&(\"function\"==typeof(n=t[e])?t[e]=W(n):\"object\"==typeof n&&(t[e]=N(n)))}return t}function H(t){var e={push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(void 0!==t)for(var n=0,i=t;n<i.length;n++){var o=i[n];\"function\"==typeof o&&W(o)()}}};return t&&Array.isArray(t)&&e.push.apply(e,t),e}function r(t,e,n){return typeof t[e]===n?t[e]:void 0}var z=function(){function n(){this.allowedPixelLoaded=!1,this.blockedPixelFailed=!1}return n.prototype.isAdBlocked=function(t){var e=this;this.createPixel(n.allowedPixelUrl,function(){(e.allowedPixelLoaded=!0)===e.blockedPixelFailed&&t(!0)},function(){}),this.createPixel(n.blockedPixelUrl,function(){t(!1)},function(){(e.blockedPixelFailed=!0)===e.allowedPixelLoaded&&t(!0)})},n.prototype.createPixel=function(t,e,n){var i=document.createElement(\"img\");i.src=t,i.height=1,i.width=1,i.style.display=\"none\",i.onload=e,i.onerror=n},n.allowedPixelUrl=\"https://static.criteo.net/images/pixel.gif?ch=1\",n.blockedPixelUrl=\"https://static.criteo.net/images/pixel.gif?ch=2\",n}(),q=function(){function e(t){this.timerEnabled=!0,this.timerStarted=!1,this.localStorageHelper=t}return e.create=function(t){return new e(t)},e.prototype.adBlockFlagEnabled=function(){return null!==this.localStorageHelper.getItem(e.ADBLOCK_FLAG_KEY)},e.prototype.enableAdBlockFlag=function(){this.localStorageHelper.setItem(e.ADBLOCK_FLAG_KEY,\"1\",e.ADBLOCK_FLAG_LIFETIME)},e.prototype.disableAdBlockFlag=function(){this.localStorageHelper.removeItem(e.ADBLOCK_FLAG_KEY)},e.prototype.setAdBlockFlagTimer=function(t){var e=this;this.adBlockFlagEnabled()||!this.timerEnabled||this.timerStarted||(this.timerStarted=!0,setTimeout(function(){e.timerEnabled&&(e.refreshAdblockFlag(),e.timerEnabled=!1)},t))},e.prototype.disableAdBlockFlagTimer=function(){this.timerEnabled=!1,this.adBlockFlagEnabled()&&this.refreshAdblockFlag()},e.prototype.refreshAdblockFlag=function(){var e=this;(new z).isAdBlocked(function(t){t?e.enableAdBlockFlag():e.disableAdBlockFlag()})},e.ADBLOCK_FLAG_KEY=\"criteo_adblock_flag\",e.ADBLOCK_FLAG_LIFETIME=864e5,e}(),G=function(t,e){return(G=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}))(t,e)};function a(t,e){function n(){this.constructor=t}G(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var f=function(){return(f=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function V(t,e){for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(i,t[i]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(i[n],t[i[n]])}function j(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;0<=s;s--)(o=t[s])&&(a=(r<3?o(a):3<r?o(e,n,a):o(e,n))||a);3<r&&a&&Object.defineProperty(e,n,a)}function K(t,e){}function X(t,e){\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata&&Reflect.metadata(t,e)}function J(t,a,s,c){new(s=s||Promise)(function(n,e){function i(t){try{r(c.next(t))}catch(t){e(t)}}function o(t){try{r(c.throw(t))}catch(t){e(t)}}function r(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(i,o)}r((c=c.apply(t,a||[])).next())})}function Y(i,o){var r,a,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};function t(n){return function(t){var e=[n,t];if(r)throw new TypeError(\"Generator is already executing.\");for(;c;)try{if(r=1,a&&(s=2&e[0]?a.return:e[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,e[1])).done)return s;switch(a=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,a=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!(s=0<(s=c.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){c=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3]))c.label=e[1];else if(6===e[0]&&c.label<s[1])c.label=s[1],s=e;else{if(!(s&&c.label<s[2])){s[2]&&c.ops.pop(),c.trys.pop();continue}c.label=s[2],c.ops.push(e)}}e=o.call(i,c)}catch(t){e=[6,t],a=0}finally{r=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}t(0),t(1),t(2)}function Q(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function $(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return{value:(t=t&&i>=t.length?void 0:t)&&t[i++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function Z(t,e){var n=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(i=r.next()).done;)a.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function tt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Z(arguments[e]))}function et(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)i[o]=r[a]}function d(t){return this instanceof d?(this.v=t,this):new d(t)}function nt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var i=n.apply(t,e||[]),o=[];function r(t){i[t]&&(t,0)}function a(t,e){try{(n=i[t](e)).value instanceof d?Promise.resolve(n.value.v).then(s,c):u(o[0][2],n)}catch(t){u(o[0][3],t)}var n}function s(t){a(\"next\",t)}function c(t){a(\"throw\",t)}function u(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}r(\"next\"),r(\"throw\"),r(\"return\"),Symbol.asyncIterator}function it(n){var t;function e(t,e){t,n[t]}e(\"next\"),e(\"throw\",function(t){throw t}),e(\"return\"),Symbol.iterator}function ot(e){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var t=e[Symbol.asyncIterator];function n(t){t,e[t]}t?t.call(e):(e=\"function\"==typeof $?$(e):e[Symbol.iterator](),n(\"next\"),n(\"throw\"),n(\"return\"),Symbol.asyncIterator)}function rt(t,e){Object.defineProperty?Object.defineProperty(t,\"raw\",{value:e}):t.raw=e}function at(t){if(!t||!t.__esModule){if(null!=t)for(var e in t)Object.hasOwnProperty.call(t,e)&&(e,t[e]);0}}function st(t){t&&t.__esModule}function ct(t,e){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");e.get(t)}function ut(t,e,n){if(!e.has(t))throw new TypeError(\"attempted to set private field on non-instance\");e.set(t,n)}var u=function(){function a(t,e,n,i){void 0===i&&(i=!0),this.url=t,this.data=e,this.contentType=n,this.withCredentials=i}return a.prototype.send=function(t,e,n,i){var o=void 0!==this.data?\"POST\":\"GET\",r=this.getXMLHttpRequest(o,t,e,n,i);void 0!==r?r.send(this.data):void 0!==(r=this.getXDomainRequest(o,t,e,n,i))&&r.send(this.data)},a.prototype.getXMLHttpRequest=function(t,e,n,i,o){var r=new XMLHttpRequest;if(\"withCredentials\"in r)return r.open(t,this.url,!0),r.timeout=o||a.LOCAL_PASSBACK_TIMEOUT,this.contentType?r.setRequestHeader(\"Content-type\",this.contentType):\"POST\"===t&&r.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\"),r.withCredentials=this.withCredentials,r.onload=function(){4===r.readyState&&200===r.status?e(r.responseText):n(r.readyState,r.status)},r.onerror=function(){n(void 0,void 0)},i&&(r.ontimeout=i),r},a.prototype.getXDomainRequest=function(t,e,n,i,o){var r;if(\"undefined\"!=typeof XDomainRequest)return(r=new XDomainRequest).timeout=o||a.LOCAL_PASSBACK_TIMEOUT,r.open(t,this.url),r.onload=function(){void 0!==r.responseText?e(r.responseText):n(void 0,void 0)},r.onerror&&(r.onerror=function(){n(void 0,void 0)}),r.ontimeout&&i&&(r.ontimeout=i),r},a.LOCAL_PASSBACK_TIMEOUT=3e4,a}(),t=function(){},dt=function(i){function t(t,e){var n=i.call(this)||this,t=(n.containerId=e,t.getElementById(e));return t?n.element=t:p.Error(\"Target element '\"+e+\"' not found in the document\"),n}return a(t,i),t.prototype.ResizeFrame=function(t,e){},t.prototype.Write=function(t){this.element&&(this.element.innerHTML=t)},t.prototype.LoadScript=function(t){t+=-1===t.indexOf(\"?\")?\"?\":\"&\",t+=\"containerid=\"+encodeURIComponent(this.containerId);var e=new u(t);e.send(function(t){eval(t)},function(){},function(){})},t}(t);function lt(t){return t.replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\")}var pt=function(n){function t(t){var e=n.call(this)||this;return e.document=t,e}return a(t,n),t.prototype.ResizeFrame=function(t,e){var n;this.document.defaultView&&this.document.defaultView.frameElement&&((n=this.document.defaultView.frameElement).width=t.toString(),n.height=e.toString())},t.prototype.Write=function(t){this.document.open(),this.document.write(t),this.document.close()},t.prototype.LoadScript=function(t){this.Write(\"<script type='text/javascript' src='\"+lt(t)+\"'><\\/script>\")},t}(t),e=function(){function t(t){this.name=t}return t.prototype.eval=function(t){},t}();function S(t){try{return JSON.parse(t)}catch(t){}}function ht(t){var e=\"number\"==typeof window.PREBID_TIMEOUT?window.PREBID_TIMEOUT:void 0;return t&&e?Math.min(t,e):t||e||void 0}var ft=function(){function t(t){this.elapsed=0,this.isTimeout=!1,this.adapterStartElapsed=0,this.cdbCallStartElapsed=0,this.cdbCallEndElapsed=0,this.adapterEndElapsed=0,this.slotIdsMatchedByCache=[],this.events=[],this.metricsManager=t}return t.prototype.getMetricsManager=function(){return this.metricsManager},t.prototype.withElapsed=function(t){return this.elapsed=Math.round(t),this},t.prototype.withIsTimeout=function(t){return(this.isTimeout=t)&&this.events.push({eventId:\"CdbCallTimeout\"}),this},t.prototype.withAdapterStartElapsed=function(t){return this.adapterStartElapsed=Math.round(t),this.events.push({eventId:\"AdapterBidStart\",elapsed:this.adapterStartElapsed}),this},t.prototype.withCdbCallStartElapsed=function(t){return this.cdbCallStartElapsed=Math.round(t),this.events.push({eventId:\"CdbCallStart\",elapsed:this.cdbCallStartElapsed}),this},t.prototype.withCdbCallEndElapsed=function(t){return this.cdbCallEndElapsed=Math.round(t),this.events.push({eventId:\"CdbCallEnd\",elapsed:this.cdbCallEndElapsed}),this},t.prototype.withAdapterEndElapsed=function(t){return this.adapterEndElapsed=Math.round(t),this.events.push({eventId:\"AdapterBidEnd\",elapsed:this.adapterEndElapsed}),this},t.prototype.withAdapterTimeout=function(t){return this.adapterTimeout=t&&Math.round(t),this},t.prototype.withTimeToFirstByte=function(t){return this.timeToFirstByte=t&&Math.round(t),this.timeToFirstByte&&this.events.push({eventId:\"TimeToFirstByte\",elapsed:this.timeToFirstByte}),this},t.prototype.withConnectionEstablishmentTime=function(t){return this.connectionEstablishmentTime=t&&Math.round(t),this.connectionEstablishmentTime&&this.events.push({eventId:\"TcpConnectionElapsedTime\",elapsed:this.connectionEstablishmentTime}),this},t.prototype.withDomainLookupTime=function(t){return this.domainLookupTime=t&&Math.round(t),this.domainLookupTime&&this.events.push({eventId:\"DomainLookupElapsedTime\",elapsed:this.domainLookupTime}),this},t.prototype.buildEvents=function(t){if(this.events.length)return t={requestId:t,events:this.events},void 0!==this.adapterTimeout&&this.adapterEndElapsed>this.adapterTimeout&&t.events.push({eventId:\"AdapterTimeout\"}),t},t.prototype.clear=function(){this.events=[]},t}(),vt=function(){function t(){}return t.generateCacheBuster=function(){return Math.floor(99999999999*Math.random())},t}(),I;function gt(t){return\"amp\"!==t.toLowerCase()?I.Unspecified:I.AMP}!function(t){t[t.Unspecified=0]=\"Unspecified\",t[t.AMP=1]=\"AMP\"}(I=I||{});var s=156,l=184,mt=275,yt=334,wt=function(){function a(t){this.auditMode=t=void 0===t?!1:t}return a.prototype.buildUrl=function(t,e,n,i,o){void 0===n&&(n=I.Unspecified);var r=a.CRITEO_BIDDER_URL+this.getHandlerPath(t,e);return r+=\"?ptv=\"+s,!0===e.isAdBlocked&&(r+=\"&abp=1\"),r=this.appendCommonParameters(r,t,i,o),r=(r+=e.isOptOut?\"&optout=1\":\"\")+(e.bundle?\"&bundle=\"+e.bundle:\"\"),n!==I.Unspecified&&(r+=\"&im=\"+n),r=(r+=\"&cb=\"+String(vt.generateCacheBuster()))+e.getContextFlags()},a.prototype.buildErrorUrl=function(){return a.CRITEO_BIDDER_URL+a.CRITEO_ERROR_HANDLER},a.prototype.buildCsmEventsUrl=function(){return a.CRITEO_BIDDER_URL+a.CRITEO_CSM_EVENTS_HANDLER},a.prototype.buildCsmCountersUrl=function(){return a.CRITEO_BIDDER_URL+a.CRITEO_CSM_COUNTERS_HANDLER},a.prototype.appendCommonParameters=function(t,e,n,i){return t+=\"&profileId=\"+String(e),void 0!==n&&(t+=\"&av=\"+String(n)),void 0!==i&&(t+=\"&wv=\"+encodeURIComponent(i)),t},a.prototype.getHandlerPath=function(t,e){var n;if(this.auditMode)return a.CRITEO_BIDDER_AUDIT_HANDLER;if(t==yt&&void 0!==e.slotsExt)for(var i in e.slotsExt){i=e.slotsExt[i];if(void 0!==(null==(n=null==i?void 0:i.data)?void 0:n.gtin))return a.CRITEO_COMMERCE_EXPERIENCE_3_HANDLER;if(void 0!==(null==(n=null==i?void 0:i.data)?void 0:n.keyword))return a.CRITEO_COMMERCE_EXPERIENCE_4_HANDLER}return a.CRITEO_BIDDER_HANDLER},a.CRITEO_BIDDER_URL=\"https://bidder.criteo.com/\",a.CRITEO_BIDDER_HANDLER=\"cdb\",a.CRITEO_COMMERCE_EXPERIENCE_3_HANDLER=\"experiences/2023-10/dynamic-buttons\",a.CRITEO_COMMERCE_EXPERIENCE_4_HANDLER=\"experiences/2023-10/product-recommendation\",a.CRITEO_CSM_EVENTS_HANDLER=\"csm/events\",a.CRITEO_CSM_COUNTERS_HANDLER=\"csm/counters\",a.CRITEO_ERROR_HANDLER=\"error\",a.CRITEO_BIDDER_AUDIT_HANDLER=\"prebid/audit\",a}(),bt=function(){function t(){this.urlBuilder=new wt}return t.prototype.sendEventsToBeacon=function(t,e){navigator.sendBeacon&&t&&navigator.sendBeacon(e,JSON.stringify(t))},t}(),Ct=function(n){function t(t){var e=n.call(this)||this;return e.localStorageHelper=t,e}return a(t,n),t.prototype.getLocalStorageKeyCount=function(){return this.localStorageHelper.getAllItemsByPrefix(\"criteo_\").length+this.localStorageHelper.getAllItemsByPrefix(\"cto_\").length},t.prototype.sendEvents=function(t,e){this.sendEventsToBeacon(t.buildEvents(e),this.urlBuilder.buildCsmEventsUrl()),t.clear()},t}(bt),It=function(){function e(t,e,n,i,o,r,a,s,c,u,d,l,p,h,f,v,g,m,y,w,b,C){this.slots=t,this.context=e,this.urlBuilder=n,this.profileId=i,this.integrationMode=o||I.Unspecified,this.networkId=r,this.adapterVersion=a,this.privacyWrapper=s,this.wrapperVersion=c,this.viewportComputer=u,this.adapterTimeout=d,this.clientRequestId=l,this.userIds=p,this.auctionStart=h,this.source=f,this.regs=v,this.bcat=g,this.badv=m,this.bapp=y,this.fledgeEnabled=w||!1,this.publisherId=b,this.accountId=C}return e.prototype.isValid=function(){return 0<this.slots.length},e.prototype.getRequest=function(){for(var t=[],e=0,n=this.slots;e<n.length;e++){var i,o=n[e],r={slotid:o.slotId,impid:o.impId};if(void 0!==o.zoneId&&(r.zoneid=o.zoneId),void 0===o.nativeCallback&&!o.native||(r.native=!0),void 0!==o.transactionId&&(r.transactionid=o.transactionId),void 0!==o.publisherSubId&&(r.publishersubid=o.publisherSubId),void 0!==o.sizes){for(var a=[],s=0,c=o.sizes;s<c.length;s++){var u=c[s];a.push(u.width+\"x\"+u.height)}r.sizes=a}void 0!==o.video&&(i={context:o.video.context,playersizes:this.parsePlayerSizes(o.video.playersize),mimes:o.video.mimes,protocols:o.video.protocols,maxduration:o.video.maxduration,api:o.video.api,skip:o.video.skip,placement:o.video.placement,playbackmethod:o.video.playbackmethod,minduration:o.video.minduration,startdelay:o.video.startdelay,plcmt:o.video.plcmt,w:o.video.w,h:o.video.h,linearity:o.video.linearity,skipmin:o.video.skipmin,skipafter:o.video.skipafter,minbitrate:o.video.minbitrate,maxbitrate:o.video.maxbitrate,delivery:o.video.delivery,pos:o.video.pos,playbackend:o.video.playbackend,adPodDurationSec:o.video.adPodDurationSec,durationRangeSec:o.video.durationRangeSec},r.video=i),void 0!==this.viewportComputer&&void 0!==(i=this.viewportComputer.getSlotPosition(o))&&(r.position={top:i.top,left:i.left}),void 0!==o.ext&&(r.ext=o.ext),void 0!==o.rwdd&&(r.rwdd=o.rwdd),!this.fledgeEnabled&&null!=(o=r.ext)&&o.ae&&delete r.ext.ae,t.push(r)}var d=f(f({},this.context.getUser()),{ceh:this.context.ceh,uspOptout:this.context.ccpaOptout}),l=this.context.getSite(),p=this.context.getApp(),h=this.context.getDevice(),l=(void 0!==this.publisherId&&(void 0!==l?(l.publisher=l.publisher||{},l.publisher.id=this.publisherId):void 0!==p?(p.publisher=p.publisher||{},p.publisher.id=this.publisherId):l={publisher:{id:this.publisherId}}),this.context.getUserExtWithContextualData(),this.context.getPublisherExt(),{publisher:{url:this.context.highestAccessibleUrl},slots:t,user:d,site:l,bcat:this.bcat,badv:this.badv,bapp:this.bapp,app:p,device:h});return void 0!==this.networkId&&(l.publisher.networkid=this.networkId),void 0!==this.accountId&&(l.publisher.id=this.accountId),this.privacyWrapper&&(this.privacyWrapper.gdprConsent&&(l.gdprConsent=this.privacyWrapper.gdprConsent),this.privacyWrapper.ccpaIabConsent&&(d.uspIab=this.privacyWrapper.ccpaIabConsent.uspString),this.privacyWrapper.gppConsent)&&(void 0===this.regs&&(this.regs={}),this.regs.gpp=this.privacyWrapper.gppConsent.gpp,this.regs.gpp_sid=this.privacyWrapper.gppConsent.gppSid),void 0!==this.viewportComputer&&(p=this.viewportComputer.getViewport(),l.viewport={width:p.width,height:p.height,scrollTop:p.scrollTop,scrollLeft:p.scrollLeft}),void 0!==this.adapterTimeout&&(l.tmax=this.adapterTimeout),void 0!==this.auctionStart&&(l.auctionStart=this.auctionStart),void 0!==this.clientRequestId&&(l.id=this.clientRequestId),void 0!==this.userIds&&(l.eids=this.userIds),void 0!==this.source&&(l.source=this.source),void 0!==this.regs&&(l.regs=this.regs),l},e.parsePlayerSize=function(t){return t[0]+\"x\"+t[1]},e.prototype.parsePlayerSizes=function(t){return t&&(Array.isArray(t[0])?t.map(function(t){return e.parsePlayerSize(t)}):[e.parsePlayerSize(t)])},e.prototype.getUrl=function(){return this.urlBuilder.buildUrl(this.profileId,this.context,this.integrationMode,this.adapterVersion,this.wrapperVersion)},e}();function _t(t){var e={slots:void 0,time_to_next_call:0};return void 0!==t.exd&&(void 0!==t.exd.time_to_next_call&&(e.time_to_next_call=t.exd.time_to_next_call),e.slots=t.exd.slots,delete t.exd),e}var i=function(){function n(t){(t=void 0===t?!0:t)&&window.performance&&window.performance.now?this.now=window.performance.now.bind(window.performance):Date.now?this.now=Date.now:this.now=function(){return(new Date).getTime()}}return n.CreateRunning=function(){var t=new n;return t.start(),t},n.CreateWithStartTime=function(t){var e=new n(!1);return e.startTime=t,e},n.TimeSincePageLoad=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.timing&&window.performance.timing.navigationStart)return(new Date).getTime()-performance.timing.navigationStart}return 0},n.prototype.start=function(){this.startTime=this.now()},n.prototype.elapsed=function(){return this.now()-this.startTime},n}();function Et(t){if(window.performance&&window.performance.getEntries)for(var e=window.performance.getEntries(),n=e.length-1;0<=n;--n){var i=e[n];if(i.name===t&&i.duration)return Math.round(i.duration)}}var St=function(){function e(t,e,n){this.builder=t,this.timer=void 0!==e?i.CreateWithStartTime(e):i.CreateRunning();t=this.timer.elapsed();this.builder.withAdapterStartElapsed(t),void 0!==n&&this.builder.withAdapterTimeout(n)}return e.prototype.sendRequest=function(t){this.url=t,this.sendTime=i.CreateRunning(),this.builder.withCdbCallStartElapsed(this.timer.elapsed())},e.prototype.requestReceived=function(t){void 0===t&&(t=!1),this.builder.withElapsed(Et(this.url)||this.sendTime.elapsed()),this.builder.withCdbCallEndElapsed(this.timer.elapsed()),this.builder.withIsTimeout(t)},e.prototype.finish=function(){this.builder.withAdapterEndElapsed(this.timer.elapsed());var t=e.getLastCdbTiming();void 0!==t&&(this.builder.withTimeToFirstByte(e.computeTimeToFirstByte(t)),this.builder.withConnectionEstablishmentTime(e.computeConnectionEstablishmentTime(t)),this.builder.withDomainLookupTime(e.computeDomainLookupTime(t)))},e.getLastCdbTiming=function(){var t;return void 0!==window.performance&&void 0!==window.performance.getEntriesByType&&\"function\"==typeof window.performance.getEntriesByType&&void 0!==(t=window.performance.getEntriesByType(\"resource\"))&&void 0!==(t=t.filter(function(t){return 0<=t.name.indexOf(\"cdb\")}))&&0<t.length?t[t.length-1]:void 0},e.computeTimeToFirstByte=function(t){var e=t.responseStart,t=t.requestStart;if(void 0!==e&&void 0!==t)return e-t},e.computeConnectionEstablishmentTime=function(t){t=t.connectEnd-t.connectStart;return isNaN(t)?void 0:t},e.computeDomainLookupTime=function(t){t=t.domainLookupEnd-t.domainLookupStart;return isNaN(t)?void 0:t},e}();function h(t){try{return JSON.parse(t)}catch(t){}}var Pt=1,v=function(){function t(t,e,n){void 0===n&&(n=function(t){}),this.uspapiCallbacks={},this.currentWindow=t,this.timeout=e.uspApiTimeout,this.logger=n}return t.prototype.getCMPFrame=function(){for(var t,e=this.currentWindow,n=0;n<10;++n){try{e.frames.__uspapiLocator&&(t=e)}catch(t){}if(e===this.currentWindow.top)break;e=e.parent}return t},t.prototype.hasCallerFunctionInWindow=function(){return\"function\"==typeof this.currentWindow.__uspapi},t.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInWindow()||void 0!==this.getCMPFrame()},t.prototype.retrieveConsent=function(n){var i=this,o=!1,r=window.setTimeout(function(){o=!0,i.logger(\"Timeout: Unable to resolve CCPA consent after \".concat(i.timeout,\"ms\")),n(void 0)},this.timeout);this.executeCommand(\"getUSPData\",Pt,function(t,e){o||(clearTimeout(r),e?(i.logger(\"CCPA consent retrieved\"),i.processResponseData(t,n)):(i.logger(\"Error retrieving CCPA consent data from CMP\"),n(void 0)))})},t.prototype.processResponseData=function(t,e){t?e(t):(this.logger(\"Unable to read CCPA consent data from CMP\"),e(void 0))},t.prototype.executeCommand=function(t,e,n){var i,o=this;this.hasCallerFunctionInWindow()||(this.logger(\"No CCPA CMP defined on current frame\"),i=this.getCMPFrame(),this.currentWindow.__uspapi=function(t,e,n){i?(e={__uspapiCall:{command:t,parameter:e,callId:t=Math.random().toString(10)}},o.uspapiCallbacks[t]=n,i.postMessage(e,\"*\")):(o.logger(\"CCPA CMP not found in any frame\"),n({msg:\"CCPA CMP not found in any frame\"},!1))},this.currentWindow.addEventListener(\"message\",function(t){var t=\"string\"==typeof t.data?h(t.data):t.data;t&&t.__uspapiReturn&&t.__uspapiReturn.callId&&t.__uspapiReturn.returnValue&&(t=t.__uspapiReturn,o.uspapiCallbacks)&&o.uspapiCallbacks[t.callId]&&(o.uspapiCallbacks[t.callId](t.returnValue,t.success),delete o.uspapiCallbacks[t.callId])},!1)),this.currentWindow.__uspapi(t,e,n)},t.prototype.hasUserOptOut=function(t){return!(!t||!t.uspString||\"1YNY\"===t.uspString.toUpperCase()||\"1YNN\"===t.uspString.toUpperCase()||\"1YN-\"===t.uspString.toUpperCase()||\"1-N-\"===t.uspString.toUpperCase()||\"1-NN\"===t.uspString.toUpperCase()||\"1-NY\"===t.uspString.toUpperCase()||\"1---\"===t.uspString)},t}(),g=function(){function t(t,e,n){void 0===n&&(n=function(t){}),this.tcfv1ConsentProvider=t,this.tcfv2ConsentProvider=e,this.logger=n}return t.prototype.getReadyToRetrieveProvider=function(){return this.tcfv2ConsentProvider.hasCallerFunctionInFrame()?this.tcfv2ConsentProvider:this.tcfv1ConsentProvider.hasCallerFunctionInFrame()?this.tcfv1ConsentProvider:void 0!==this.tcfv2ConsentProvider.getCMPFrame()?this.tcfv2ConsentProvider:void 0!==this.tcfv1ConsentProvider.getCMPFrame()?this.tcfv1ConsentProvider:void 0},t.prototype.retrieveConsentForPassback=function(t){var e=this.getReadyToRetrieveProvider();void 0===e&&(this.logger(\"No compatible GDPR privacy provider found\"),t(void 0)),e===this.tcfv1ConsentProvider?this.tcfv1ConsentProvider.retrieveConsentForPassback(t):e===this.tcfv2ConsentProvider&&this.tcfv2ConsentProvider.retrieveConsent(t)},t.prototype.retrieveConsent=function(t){var e=this.getReadyToRetrieveProvider();void 0===e&&(this.logger(\"No compatible GDPR privacy provider found\"),t(void 0)),null!=e&&e.retrieveConsent(t)},t.prototype.readyToRetrieve=function(){return this.tcfv2ConsentProvider.readyToRetrieve()||this.tcfv1ConsentProvider.readyToRetrieve()},t}(),Tt=91,xt=function(){function t(t,e,n){void 0===n&&(n=function(t){}),this.cmpCallbacks={},this.currentWindow=t,this.timeout=e.tcfTimeout,this.pingTimeout=e.tcfPingTimeout,this.pingDelay=e.tcfPingDelay,this.cmpAutoDetect=e.cmpAutoDetect,this.logger=n}return t.prototype.getCMPFrame=function(){for(var t,e=this.currentWindow,n=0;n<10;++n){try{e.frames.__cmpLocator&&(t=e)}catch(t){}if(e===this.currentWindow.top)break;e=e.parent}return t},t.prototype.hasCallerFunctionInFrame=function(){return\"function\"==typeof this.currentWindow.__cmp},t.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||void 0!==this.getCMPFrame()},t.prototype.pingWithTimeout=function(i,t,e,n){function o(t,e){r.logger(e),clearTimeout(t),n()}var r=this;return window.setTimeout(function(){var n=window.setTimeout(function(){o(i,\"Timeout: Unable to get ping return after \".concat(t,\"ms\"))},t);r.executeCommand(\"ping\",null,function(t,e){clearTimeout(n),e?(r.logger(\"GDPR CMP ping returned\"),!0!==t.cmpLoaded&&o(i,\"GDPR ping returned cmpLoaded which is not true\"),r.logger(\"GDPR ping returned cmpLoaded which is true\")):o(i,\"Error sending ping to GDPR CMP\")})},e)},t.prototype.retrieveConsent=function(t){this.executeRetrieveConsent(\"getConsentData\",null,t)},t.prototype.retrieveConsentForPassback=function(t){this.executeRetrieveConsent(\"getVendorConsents\",[Tt],t)},t.prototype.executeRetrieveConsent=function(t,e,n){var i=this,o=!1,r=window.setTimeout(function(){o=!0,i.logger(\"Timeout: Unable to resolve GDPR consent after \".concat(i.timeout,\"ms\")),n(void 0)},this.timeout),a=!1!==this.cmpAutoDetect?this.pingWithTimeout(r,this.pingTimeout,this.pingDelay,function(){o=!0,i.logger(\"Timeout: Unable to ping GDPR API after \".concat(i.pingTimeout,\"ms\")),n(void 0)}):void 0;this.executeCommand(t,e,function(t,e){clearTimeout(a),o||(clearTimeout(r),e?(i.logger(\"GDPR consent retrieved\"),i.processConsentData(t,n)):(i.logger(\"Error retrieving GDPR consent data from CMP\"),n(void 0)))})},t.prototype.processConsentData=function(t,e){var n;t?(n={},\"undefined\"===t.consentData&&(t.consentData=\"\"),n.consentData=void 0!==t.consentData?t.consentData:\"\",void 0!==t.gdprApplies&&(n.gdprApplies=!!t.gdprApplies),e(n)):(this.logger(\"Unable to read GDPR consent data from CMP\"),e(void 0))},t.prototype.executeCommand=function(t,e,n){var i,o=this;this.hasCallerFunctionInFrame()||(this.logger(\"No GDPR CMP defined on current frame\"),i=this.getCMPFrame(),this.currentWindow.__cmp=function(t,e,n){i?(e={__cmpCall:{command:t,parameter:e,callId:t=Math.random().toString(10)}},o.cmpCallbacks[t]=n,i.postMessage(e,\"*\")):(o.logger(\"GDPR CMP not found in any frame\"),n({msg:\"GDPR CMP not found in any frame\"},!1))},this.currentWindow.addEventListener(\"message\",function(t){var t=\"string\"==typeof t.data?h(t.data):t.data;t&&t.__cmpReturn&&t.__cmpReturn.callId&&t.__cmpReturn.returnValue&&(t=t.__cmpReturn,o.cmpCallbacks)&&o.cmpCallbacks[t.callId]&&(o.cmpCallbacks[t.callId](t.returnValue,t.success),delete o.cmpCallbacks[t.callId])},!1)),this.currentWindow.__cmp(t,e,n)},t}(),m=2,y,At=(!function(t){t.LOADED=\"tcloaded\",t.UI_SHOWN=\"cmpuishown\",t.USER_ACTION_COMPLETE=\"useractioncomplete\"}(y=y||{}),function(){function t(t,e,n){void 0===n&&(n=function(t){}),this.cmpCallbacks={},this.currentWindow=t,this.timeout=e.tcfTimeout,this.pingTimeout=e.tcfPingTimeout,this.pingDelay=e.tcfPingDelay,this.cmpAutoDetect=e.cmpAutoDetect,this.logger=n}return t.prototype.getCMPFrame=function(){for(var t,e=this.currentWindow,n=0;n<10;++n){try{e.frames.__tcfapiLocator&&(t=e)}catch(t){}if(e===this.currentWindow.top)break;e=e.parent}return t},t.prototype.hasCallerFunctionInFrame=function(){return\"function\"==typeof this.currentWindow.__tcfapi},t.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||void 0!==this.getCMPFrame()},t.prototype.pingWithTimeout=function(n,t,e,i){function o(t,e){r.logger(e),clearTimeout(t),i()}var r=this;return window.setTimeout(function(){var e=window.setTimeout(function(){o(n,\"Timeout: Unable to get TCFv2 ping return after \".concat(t,\"ms\"))},t);r.executeCommand(\"ping\",m,function(t){clearTimeout(e),r.logger(\"TCFv2 CMP ping returned in ms\"),\"error\"===t.cmpStatus?o(n,\"Error status on ping to TCFv2 CMP\"):!0!==t.cmpLoaded?o(n,\"TCFv2 ping returned cmpLoaded = false\"):r.logger(\"TCFv2 ping returned cmpLoaded = true\")})},e)},t.prototype.retrieveConsent=function(n){var i,o,r=this,a=!1,s=window.setTimeout(function(){a=!0,o===y.UI_SHOWN?(r.logger(\"Timeout: User hasn't confirm their consent settings after \".concat(r.timeout,\"ms\")),n(i)):(r.logger(\"Timeout: Unable to resolve TCFv2 consent after \".concat(r.timeout,\"ms\")),n(void 0))},this.timeout),c=!1!==this.cmpAutoDetect?this.pingWithTimeout(s,this.pingTimeout,this.pingDelay,function(){a=!0,r.logger(\"Timeout: Unable to ping TCFv2 API after \".concat(r.pingTimeout,\"ms\")),n(void 0)}):void 0;this.executeCommand(\"addEventListener\",m,function(t,e){clearTimeout(c),a||((o=t.eventStatus)!==y.UI_SHOWN&&clearTimeout(s),e?(r.logger(\"TCFv2 consent retrieved in ms\"),t||(r.logger(\"Unable to read GDPR consent data from CMP\"),n(void 0)),i=r.processResponseData(t),o!==y.LOADED&&o!==y.USER_ACTION_COMPLETE||n(i)):(r.logger(\"Error retrieving TCFv2 consent data from CMP\"),n(void 0)))})},t.prototype.processResponseData=function(t){var e,n={};return\"undefined\"===t.tcString&&(t.tcString=\"\"),n.consentData=void 0!==t.tcString?t.tcString:\"\",void 0!==t.gdprApplies&&(n.gdprApplies=!!t.gdprApplies),n.version=t.tcfPolicyVersion||m,n.purposes=null==(e=null==t?void 0:t.purpose)?void 0:e.consents,n.vendorConsents=null==(e=null==t?void 0:t.vendor)?void 0:e.consents,n},t.prototype.executeCommand=function(t,e,n,i){var o,r=this;this.hasCallerFunctionInFrame()||(this.logger(\"No TCFv2 CMP defined on current frame\"),o=this.getCMPFrame(),this.currentWindow.__tcfapi=function(t,e,n,i){o?(e={__tcfapiCall:{command:t,version:e,parameter:i,callId:t=Math.random().toString(10)}},r.cmpCallbacks[t]=n,o.postMessage(e,\"*\")):(r.logger(\"TCFv2 CMP not found in any frame\"),n({msg:\"TCFv2 CMP not found in any frame\"},!1))},this.currentWindow.addEventListener(\"message\",function(t){var t=\"string\"==typeof t.data?h(t.data):t.data;t&&t.__tcfapiReturn&&t.__tcfapiReturn.callId&&t.__tcfapiReturn.returnValue&&(t=t.__tcfapiReturn,r.cmpCallbacks)&&r.cmpCallbacks[t.callId]&&\"function\"==typeof r.cmpCallbacks[t.callId]&&(r.cmpCallbacks[t.callId](t.returnValue,t.success),t.returnValue.eventStatus!==y.UI_SHOWN)&&delete r.cmpCallbacks[t.callId]},!1)),this.currentWindow.__tcfapi(t,e,n,i)},t}()),Rt=\"1.0\",kt=\"1.1\",w=function(){function t(t,e,n){void 0===n&&(n=function(t){}),this.cmpCallbacks={},this.currentWindow=t,this.timeout=e.gppTimeout,this.pingTimeout=e.gppPingTimeout,this.pingDelay=e.gppPingDelay,this.logger=n}return t.prototype.getCMPFrame=function(){for(var t,e=this.currentWindow,n=0;n<10;++n){try{void 0!==e&&e.frames.__gppLocator&&(t=e)}catch(t){}if(e===this.currentWindow.top)break;e=e.parent}return t},t.prototype.hasCallerFunctionInFrame=function(){return\"function\"==typeof this.currentWindow.__gpp},t.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||void 0!==this.getCMPFrame()},t.prototype.retrieveConsent=function(n){function i(t,e){o.logger(e),clearTimeout(t),r=!0,o.logger(\"Timeout: Unable to ping GPP after \".concat(o.pingTimeout,\"ms\")),n(void 0)}var o=this,r=!1,a=window.setTimeout(function(){r=!0,o.logger(\"Timeout: Unable to resolve GPP consent after \".concat(o.timeout,\"ms\")),n(void 0)},this.timeout);window.setTimeout(function(){var e=window.setTimeout(function(){i(a,\"Timeout: Unable to get GPP ping return after \".concat(o.pingTimeout,\"ms\"))},o.pingTimeout);o.executeCommand(\"ping\",function(t){clearTimeout(e),o.logger(\"GPP CMP ping has responsed\"),t.gppVersion===Rt?(o.logger(\"Detected GPP CMP 1.0\"),\"error\"===t.cmpStatus?i(a,\"Error status on ping to GPP CMP\"):\"loaded\"===t.cmpStatus?(o.logger(\"GPP ping returned cmpStatus = loaded\"),o.executeCommand(\"getGPPData\",function(t,e){r||(clearTimeout(a),e?(o.logger(\"GPP consent retrieved\"),o.processResponseData(t,n)):(o.logger(\"Error retrieving GPP consent data from CMP\"),n(void 0)))})):i(a,\"GPP ping returned cmpStatus != loaded\")):t.gppVersion===kt?(o.logger(\"Detected GPP CMP 1.1\"),\"ready\"===t.signalStatus?(clearTimeout(a),o.logger(\"GPP consent retrieved\"),o.processResponseData(t,n)):o.executeCommand(\"addEventListener\",function(t,e){r||\"signalStatus\"===t.eventName&&\"ready\"===t.pingData.signalStatus&&(clearTimeout(a),o.logger(\"GPP consent retrieved\"),o.processResponseData(t.pingData,n))})):i(a,\"Unknown GPP version \"+t.gppVersion)})},this.pingDelay)},t.prototype.processResponseData=function(t,e){var n;t?(n={},void 0!==t.gppString&&(n.gpp=t.gppString),void 0!==t.applicableSections&&(n.gppSid=t.applicableSections),e(n)):(this.logger(\"Unable to read GPP consent data from CMP\"),e(void 0))},t.prototype.executeCommand=function(t,e,n){var i,o=this;this.hasCallerFunctionInFrame()||(this.logger(\"No GPP CMP defined on current frame\"),i=this.getCMPFrame(),this.currentWindow.__gpp=function(t,e,n){i?(n={__gppCall:{command:t,parameter:n,callId:t=Math.random().toString(10)}},o.cmpCallbacks[t]=e,i.postMessage(n,\"*\")):(o.logger(\"GPP CMP not found in any frame\"),e({msg:\"GPP CMP not found in any frame\"},!1))},this.currentWindow.addEventListener(\"message\",function(t){var t=\"string\"==typeof t.data?h(t.data):t.data;t&&t.__gppReturn&&t.__gppReturn.callId&&t.__gppReturn.returnValue&&(t=t.__gppReturn,o.cmpCallbacks)&&o.cmpCallbacks[t.callId]&&\"function\"==typeof o.cmpCallbacks[t.callId]&&(o.cmpCallbacks[t.callId](t.returnValue,t.success),delete o.cmpCallbacks[t.callId])},!1)),this.currentWindow.__gpp(t,e,n)},t}();function Dt(t){return{uspApiTimeout:parseInt(\"50\",10),tcfTimeout:parseInt(\"10000\",10),tcfPingTimeout:Math.min(parseInt(\"10000\",10),parseInt(\"50\",10)),tcfPingDelay:Math.min(parseInt(\"10000\",10),parseInt(\"1000\",10)),gppTimeout:parseInt(\"10000\",10),gppPingTimeout:Math.min(parseInt(\"10000\",10),parseInt(\"50\",10)),gppPingDelay:Math.min(parseInt(\"10000\",10),parseInt(\"1000\",10)),cmpAutoDetect:null==t?void 0:t.cmpAutoDetect}}function Ot(t){try{return t.localStorage}catch(t){}}var Mt=function(){function t(t,e){this.EXPIRE_SUFFIX=\"_expires\",this.CHECK_STORAGE_KEY=\"criteo_localstorage_check\",this.localStorage=Ot(t||window),this.localStorageEnabled=this.checkLocalStorage(e)}return t.prototype.checkLocalStorage=function(t){if(!this.localStorage)return!1;var e=this.CHECK_STORAGE_KEY;try{return this.checkTcfPurposeOne(t)?(this.localStorage.setItem(e,e),this.localStorage.removeItem(e),!0):(p.Debug(\"Purpose One not granted\"),!1)}catch(t){return!1}},t.prototype.checkTcfPurposeOne=function(t){return!(t&&t.gdprConsent&&t.gdprConsent.purposes)||!0===t.gdprConsent.purposes[1]},t.prototype.removeItem=function(t){this.localStorageEnabled&&(this.localStorage.removeItem(t),this.localStorage.removeItem(t+this.EXPIRE_SUFFIX))},t.prototype.getItem=function(t,e){var n,i;return this.localStorageEnabled?(n=(new Date).getTime(),-1!==(i=(i=this.localStorage.getItem(t+this.EXPIRE_SUFFIX))?parseInt(i,10):-1)&&i<n||e&&(-1===i||e<i-n)?(this.removeItem(t),null):this.localStorage.getItem(t)):null},t.prototype.setItem=function(t,e,n){if(this.localStorageEnabled)try{var i;this.localStorage.setItem(t,e),n&&(i=(new Date).getTime()+n,this.localStorage.setItem(t+this.EXPIRE_SUFFIX,i.toString()))}catch(t){}},t.prototype.getAllItemsByPrefix=function(t){var e=[];if(this.localStorageEnabled)for(var n in localStorage)0===n.indexOf(t)&&e.push(n);return e},t}(),Ut=function(){function t(t){this.publicTopTlds=[\"co.id\",\"co.il\",\"co.jp\",\"co.kr\",\"co.nz\",\"co.th\",\"co.uk\",\"com.au\",\"com.br\",\"com.mx\",\"com.my\",\"com.pl\",\"com.sg\",\"com.tr\",\"com.vn\"],this.cookiesEnabled=this.checkTcfPurposeOne(t)}return t.prototype.checkTcfPurposeOne=function(t){return!(t&&null!=t&&t.gdprConsent&&t.gdprConsent.purposes)||!0===t.gdprConsent.purposes[1]},t.prototype.setCookie=function(t,e,n,i,o){void 0===o&&(o=!1);var r=i||document,a=r.location.hostname,s=new Date,c=(s.setTime(s.getTime()+60*n*60*1e3),\"expires=\"+s.toUTCString());if(o)for(var u=a.split(\".\"),d=1;d<u.length;++d){var l=u.slice(u.length-d-1,u.length).join(\".\");if(!(-1<this.publicTopTlds.indexOf(l)))try{this.setCookieString(t,e,c,l,r);var p=this.getCookie(t,i);if(p&&p===e)return l}catch(t){}}else this.setCookieString(t,e,c,void 0,r);return a},t.prototype.deleteCookie=function(t,e,n){this.setCookie(t,\"\",0,e,n=void 0===n?!1:n)},t.prototype.getCookie=function(t,e){if(this.cookiesEnabled)for(var n=0,i=(e||document).cookie.split(\";\");n<i.length;n++){var o=i[n],r=o.substr(0,o.indexOf(\"=\")).replace(/^\\s+|\\s+$/g,\"\"),o=o.substr(o.indexOf(\"=\")+1);if(r===t)return decodeURIComponent(o)}},t.prototype.setCookieString=function(t,e,n,i,o){this.cookiesEnabled&&(t=t+\"=\"+encodeURIComponent(e)+\";\"+n+\";\",i&&\"\"!==i&&(t+=\"domain=.\"+i+\";\"),o.cookie=t+\"path=/\")},t}(),Lt=function(){function t(t,e,n,i,o){this.initializing=!1,this.initialized=!1,this.postInitiliazeServicesCallbacks=[],this.topFrame=t||window;t=Dt(o),this.ccpaConsentProvider=e||new v(window,t,p.Warning),o=new xt(window,t,p.Warning),e=new At(window,t,p.Warning);this.tcfCompatibleConsentProvider=n||new g(o,e,p.Warning),this.gppConsentProvider=i||new w(window,t,p.Warning),this.initializeServices()}return t.prototype.initializeServices=function(){var n=this;this.initializing=!0,this.retrievePrivacyConsent(function(t){var e={localStorageHelper:new Mt(n.topFrame,t),privacies:t,ccpaConsentProvider:n.ccpaConsentProvider,gppConsentProvider:n.gppConsentProvider,cookieHelper:new Ut(t)};n.services=e,n.initialized=!0,n.initializing=!1,n.postInitiliazeServicesCallbacks.forEach(function(t){t(e)})})},t.prototype.getServicesAsync=function(t){this.initialized?t(this.services):(this.postInitiliazeServicesCallbacks.push(t),this.initializing||this.initializeServices())},t.prototype.retrievePrivacyConsent=function(e){var t=this.tcfCompatibleConsentProvider.readyToRetrieve(),n=this.ccpaConsentProvider.readyToRetrieve(),i=this.gppConsentProvider.readyToRetrieve(),o=(t||n||i||e(void 0),[]),r=(t&&o.push(g),n&&o.push(v),i&&o.push(w),{});t&&this.tcfCompatibleConsentProvider.retrieveConsent(function(t){r.gdprConsent=t,o.splice(o.indexOf(g),1),0===o.length&&e(r)}),n&&this.ccpaConsentProvider.retrieveConsent(function(t){r.ccpaIabConsent=t,o.splice(o.indexOf(v),1),0===o.length&&e(r)}),i&&this.gppConsentProvider.retrieveConsent(function(t){r.gppConsent=t,o.splice(o.indexOf(w),1),0===o.length&&e(r)})},t}(),Ft=function(){function i(t,e,n){void 0===n&&(n=!1),this.pixelSyncEndpoint=\"https://ssp-sync.criteo.com/user-sync/pixels\",this.pixelSyncTimeout=2e3,this.errorReporter=e,this.onPixelsRetrieved=t,this.debug=n}return i.prototype.retrievePixels=function(t,e){var n=this;new u(this.getUserSyncUrl(t,e)).send(function(t){t&&((t=i.parseUserSyncResponse(t))?n.onPixelsRetrieved(t):n.errorReporter.log(\"Error\",\"Unable to parse response from user sync\"))},function(t,e){p.Warning(\"User Sync Pixel endpoint error; readyState \".concat(t,\"; requestStatus \").concat(e))},function(){p.Warning(\"User Sync Pixel endpoint timeout\")},this.pixelSyncTimeout)},i.prototype.getUserSyncUrl=function(t,e){var n=null==t?void 0:t.gdprConsent,t=null==t?void 0:t.gppConsent,i=[];return null!=n&&n.consentData&&i.push(\"gdpr=\".concat(n.consentData)),null!=n&&n.gdprApplies&&i.push(\"gdprapplies=\".concat(n.gdprApplies)),null!=t&&t.gpp&&i.push(\"gpp=\".concat(t.gpp)),null!=t&&t.gppSid&&t.gppSid.forEach(function(t){i.push(\"gpp_sid=\".concat(t))}),null!=e&&e.country_code&&i.push(\"countrycode=\".concat(e.country_code)),this.debug&&i.push(\"debug=1\"),this.pixelSyncEndpoint+(i.length?\"?\"+i.join(\"&\"):\"\")},i.parseUserSyncResponse=function(t){t=S(t);if(t)return\"pixels\"in t?Array.isArray(t.pixels)?t.pixels=t.pixels.filter(function(e){try{return new URL(e),!0}catch(t){return p.Warning(\"Failed to parse User Sync Pixel URL: \".concat(e)),!1}}):(p.Warning(\"pixels field in user sync response is not an array: \".concat(t.pixels)),t.pixels=[]):t.pixels=[],t;p.Warning(\"Failed to parse user sync pixel JSON payload\")},i}(),Bt=function(){function a(){}return a.execUserSync=function(t,e,n,i){new Ft(a.appendUserSyncPixels,t,i=void 0===i?!1:i).retrievePixels(e,n)},a.getOrCreateTagContainer=function(){var t=document.getElementById(a.tagElementName);return t||((t=document.createElement(\"div\")).setAttribute(\"id\",a.tagElementName),t.style.display=\"none\",document.body.appendChild(t),t)},a.appendUserSyncPixels=function(t){if(t.pixels.length)for(var e=a.getOrCreateTagContainer(),n=0,i=t.pixels;n<i.length;n++){var o=i[n],r=new Image;r.src=o,r.alt=\"\",e.appendChild(r)}},a.tagElementName=\"criteoUserSyncTagsContainer\",a}();function b(){var n=(new Date).getTime();return\"undefined\"!=typeof performance&&\"function\"==typeof performance.now&&(n+=performance.now()),\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),(\"x\"===t?e:3&e|8).toString(16)})}var Wt=function(g){function m(t,e,n,i,o,r,a,s,c,u,d,l,p,h,f){var v=g.call(this,m.NAME)||this;return v.profileId=t,v.urlBuilder=e,v.slots=n,v.callbackSuccess=i,v.callbackError=o,v.callbackTimeout=r,v.serviceProvider=a,v.timeout=c,v.networkId=u,v.integrationMode=d,v.adapterVersion=l,v.viewportComputer=p,v.metricsManager=s,v.publisherId=h,v.accountId=f,v.metricsManager&&(v.metricBuilder=new ft(v.metricsManager)),v}return a(m,g),m.prototype.getMetricBuilder=function(){return this.metricBuilder},m.prototype.eval=function(t){this.evalWithTimeout(t,void 0)},m.prototype.evalWithTimeout=function(e,n){var i=this;(this.serviceProvider||new Lt).getServicesAsync(function(t){i.metricsManager||(i.metricsManager=new Ct(t.localStorageHelper)),i.metricBuilder||(i.metricBuilder=new ft(i.metricsManager)),i.innerEval(e,i.metricBuilder,t.privacies,n)})},m.prototype.innerEval=function(i,o,r,t){var a=this,s=b(),e=m.getCriteoAdapterBidRequest(),n=m.getRequestAuctionStart(e),t=t||ht(e&&e.timeout),c=new St(o,n,t),e=new It(this.slots,i.context,this.urlBuilder,this.profileId,this.integrationMode,this.networkId,this.adapterVersion,r,void 0,this.viewportComputer,t,s,i.context.userIds,Math.round(new Date/1e3),void 0,void 0,void 0,void 0,void 0,void 0,this.publisherId,this.accountId);e.isValid()&&\"undefined\"!=typeof JSON?(n=e.getRequest(),t=JSON.stringify(f(f({},n),i.context.ortb2Request)),n=e.getUrl(),e=new u(n,t,\"application/x-www-form-urlencoded\"),c.sendRequest(n),e.send(function(t){try{c.requestReceived();var e=S(t)||{},n=_t(e);void 0!==a.callbackSuccess&&a.callbackSuccess(JSON.stringify(e),n),c.finish(),!0===e.user_sync&&Bt.execUserSync(i.context.remoteLogging,r,e),o.getMetricsManager().sendEvents(o,s)}catch(t){a.reportAsyncRequestException(i,\"onSuccess\",t)}i.context.remoteLogging.sendErrorReport(a.urlBuilder,s),a.metricBuilder=void 0},function(t,e){try{c.requestReceived(),void 0!==a.callbackError&&a.callbackError(t,e),c.finish(),o.getMetricsManager().sendEvents(o,s)}catch(t){a.reportAsyncRequestException(i,\"onError\",t)}i.context.remoteLogging.sendErrorReport(a.urlBuilder,s),a.metricBuilder=void 0},function(){try{c.requestReceived(!0),void 0!==a.callbackTimeout&&a.callbackTimeout(),c.finish(),o.getMetricsManager().sendEvents(o,s)}catch(t){a.reportAsyncRequestException(i,\"onTimeout\",t)}i.context.remoteLogging.sendErrorReport(a.urlBuilder,s),a.metricBuilder=void 0},this.timeout)):(p.Debug(\"Request ignored because it doesnt contain any slot\"),this.callbackError(void 0,void 0))},m.prototype.reportAsyncRequestException=function(t,e,n){n=n.stack||n.toString();t.context.remoteLogging.log(\"Exception\",\"Exception caught in AsyncRequest \".concat(e,\" callback:\\n\").concat(n)),p.Error(\"Error \".concat(e,\":\\n\\t\").concat(n))},m.getCriteoAdapterBidRequest=function(){try{return window.pbjs._bidsRequested.find(function(t){return\"criteo\"===t.bidderCode})}catch(t){}},m.getRequestAuctionStart=function(t){return t&&t.auctionStart},m.NAME=\"directbidding\",m}(e),Nt=function(m){function y(t,e,n,i,o,r,a,s,c,u,d,l,p,h,f){var v=m.call(this,y.NAME)||this,g=Math.max(10*(c||3e3),3e3);return v.directBiddingEvent=new Wt(t,e,n,function(t,e){return v.onSuccess(t,e)},function(t,e){return v.onError(t,e)},function(){return v.onHttpTimeout()},s,a,g,u,d,l,p,h,f),v.slots=n,v.callbackSuccess=i,v.callbackError=o,v.callbackTimeout=r,v.timeout=0===c?0:c||3e3,v.hasTimeouted=!1,v.hasResponded=!1,v}return a(y,m),y.prototype.eval=function(t){var e=this;setTimeout(function(){return e.onTimeout()},this.timeout),this.directBiddingEvent.evalWithTimeout(t,this.timeout)},y.prototype.onSuccess=function(t,e){this.hasResponded=!0,this.hasTimeouted||this.callbackSuccess(t,e)},y.prototype.onError=function(t,e){this.hasResponded=!0,this.hasTimeouted||this.callbackError(t,e)},y.prototype.onHttpTimeout=function(){this.hasResponded=!0,this.hasTimeouted||this.callbackTimeout()},y.prototype.onTimeout=function(){this.hasResponded||(this.hasTimeouted=!0,this.callbackTimeout())},y.prototype.getMetricBuilder=function(){return this.directBiddingEvent.getMetricBuilder()},y.NAME=\"directbidding\",y}(e),n=function(n){function i(t){var e=n.call(this,i.NAME)||this;return e.callback=t,e}return a(i,n),i.prototype.eval=function(t){this.callback&&this.callback.apply(this)},i.NAME=\"genericEvent\",i}(e),o=function(){function t(t,e,n,i,o,r,a,s){this.id=this.generateRandomId(),this.slotId=t,this.impressionId=e,this.cpm=n,this.width=i,this.height=o,this.zoneId=r,this.dealCode=a,this.useSafeframe=null!=s&&s}return t.prototype.generateRandomId=function(){return Math.random().toString(36).replace(/[^a-z]+/g,\"\").substr(0,6)},t}(),Ht=function(u){function t(t,e,n,i,o,r,a,s,c){t=u.call(this,t,e,n,i,o,r,s,c)||this;return t.displayUrl=a,t}return a(t,u),t.prototype.GenerateEvent=function(t){var e=this;return t.ResizeFrame(this.width,this.height),new n(function(){return t.LoadScript(e.displayUrl)})},t.prototype.GenerateMessage=function(){return{displayUrl:this.displayUrl}},t}(o),zt=function(u){function t(t,e,n,i,o,r,a,s,c){t=u.call(this,t,e,n,i,o,r,s,c)||this;return t.creative=a,t}return a(t,u),t.prototype.GenerateEvent=function(t){var e=this;return t.ResizeFrame(this.width,this.height),new n(function(){return t.Write(e.creative)})},t.prototype.GenerateMessage=function(){return{creative:this.creative}},t}(o),qt=function(u){function t(t,e,n,i,o,r,a,s,c){t=u.call(this,t,e,n,i,o,r,c)||this;return t.nativeCallback=a,t.nativePayload=s,t}return a(t,u),t.prototype.GenerateEvent=function(t){var e=this;return\"function\"!=typeof this.nativeCallback?(p.Error(\"'nativeCallback' parameter is not a function in placements object\"),new n(void 0)):\"object\"!=typeof this.nativePayload?(p.Error(\"'nativePayload' parameter is not an object in placements object\"),new n(void 0)):new n(function(){return e.nativeCallback(e.nativePayload)})},t.prototype.GenerateMessage=function(){return{nativePayload:this.nativePayload}},t}(o);function Gt(t,e){if(t){var n;try{n=eval(\"(function(){return \".concat(t,\"})()\"))}catch(t){return void p.Error(\"Error evaluating the function: \"+t)}\"function\"!=typeof n?p.Error(\"The passed value is not a function\"):n.apply(n,e)}else p.Error(\"Cannot execute an empty function\")}var Vt=function(l){function t(t,e,n,i,o,r,a,s,c,u,d){t=l.call(this,t,e,n,i,o,r,s)||this;return t.videoCallback=a,t.vastUrl=c,t.vastXml=u,t.videoPlayerFunction=d,t}return a(t,l),t.prototype.GenerateEvent=function(t){var e=this;return void 0===this.videoCallback?(Gt(this.videoPlayerFunction,[{slotid:this.impressionId,vastUrl:this.vastUrl,vastXml:this.vastXml}]),new n(void 0)):\"function\"!=typeof this.videoCallback?(p.Error(\"'videoCallback' parameter is not a function in video object\"),new n(void 0)):new n(function(){return e.videoCallback(e.GenerateMessage())})},t.prototype.GenerateMessage=function(){return{vastUrl:this.vastUrl,vastXml:this.vastXml,slotid:this.impressionId,cpm:this.cpm}},t}(o);function jt(t,e,n,i,o,r,a,s,c,u,d,l,p,h,f){if(l)return new Vt(t,e,n,i,o,r,p,d,c,u,f);if(void 0!==a&&void 0!==s)return new qt(t,e,n,i,o,r,a,s,d);if(void 0!==u&&0!==u.indexOf(\"<script\"))return new zt(t,e,n,i,o,r,u,d,h);if(void 0!==u&&0===u.indexOf(\"<script\")){l=new RegExp(\"(?<=src='|\\\")(.*)(?='|\\\")\"),p=u.match(l);if(null!==p&&0<p.length)return new Ht(t,e,n,i,o,r,p[0],d,h)}return void 0!==c?new Ht(t,e,n,i,o,r,c,d,h):void 0}var P=function(){function d(){}return d.tryInsertPlaceholder=function(t,e,n){var i,o=document.getElementById(t);return null===o?(p.Warning(\"Unable to insert ad placeholder : impression id \"+t+\" not found.\"),!1):(o.appendChild(this.createPlaceholder()),!(e||!this.isVisible(o))||(this.removePlaceholder(t,n),null!==(e=o.parentElement)&&(i=this.createClone(o),e.insertBefore(i,o),i.appendChild(this.createPlaceholder()),this.isVisible(i)?(n[t]=i,!0):(p.Warning(\"Ad placeholder created but not visible : can't render.\"),e.removeChild(i),!1))))},d.isVisible=function(t){return 0!==t.offsetWidth&&0!==t.offsetHeight&&0!==t.getClientRects().length},d.createClone=function(t){var e=t.cloneNode(!1);return e.id=this.generateRandomId(),e.className=\"\",\"none\"===e.style.display&&e.style.removeProperty(\"display\"),\"SPAN\"===e.tagName&&(e.style.display=\"block\"),t.style.display=\"none\",e},d.generateRandomId=function(){for(var t=\"1234567890abcdefghijklmnopqrstuvwxyz\",e=\"\",n=0;n<20;n++){var i=Math.floor(Math.random()*t.length);e+=t.charAt(i)}return e},d.createPlaceholder=function(){var t=document.createElement(\"div\");return t.style.width=\"1px\",t.style.height=\"1px\",t.style.display=\"block\",t.className=d.PLACEHOLDER_NAME,t},d.removePlaceholder=function(t,e){e=e[t],void 0!==e&&null!==e.parentNode&&e.parentNode.removeChild(e),e=document.getElementById(t);if(null!==e)for(var n=0,i=e.getElementsByClassName(d.PLACEHOLDER_NAME);n<i.length;n++){var o=i[n];null!==o.parentNode&&o.parentNode.removeChild(o)}},d.insertAdIFrame=function(t,e){var n,e=e[t];if(void 0!==e)n=e;else{e=document.getElementById(t);if(null===e)return null;n=e}for(var i=0,o=n.getElementsByClassName(d.PLACEHOLDER_NAME);i<o.length;i++){for(var r=o[i],a=0,s=r.childNodes;a<s.length;a++){var c=s[a];null!==c.parentNode&&c.parentNode.removeChild(c)}var u=this.createAdIFrame();return r.appendChild(u),r.style.width=\"\",r.style.height=\"\",r.style.display=\"\",u}return null},d.createAdIFrame=function(){var t=document.createElement(\"iframe\");return t.scrolling=\"no\",t.marginWidth=\"0\",t.marginHeight=\"0\",t.frameBorder=\"0\",t.style.border=\"0\",t.style.verticalAlign=\"bottom\",t},d.removePlaceholders=function(t,e,n){for(var i=0,o=t;i<o.length;i++){var r=o[i].impId;-1===e.indexOf(r)&&d.removePlaceholder(r,n)}},d.tryInsertPlaceholders=function(t,e,n){for(var i=[],o=0,r=t;o<r.length;o++){var a=r[o],s=a.impId;d.tryInsertPlaceholder(s,e,n)&&i.push(a)}return i},d.PLACEHOLDER_NAME=\"criteo_placeholder\",d}();function Kt(t){var e;try{return null!=(e=t.top)&&e.location.toString(),1}catch(t){}}function Xt(t){return t.top!==t&&!Kt(t)}function C(t){if(void 0===t&&(t=window),!Xt(window))for(var e=0;e<10;e++){if(void 0!==t.googletag)return t.googletag;if(t===t.top)break;t=t.parent}return window.googletag}function Jt(t){var e=C();e||(e={},window.googletag=e),e.cmd=e.cmd||[],e.cmd.push(t)}function Yt(n,i){var t=C().pubads().getSlots().filter(function(t){var e=void 0!==i?i(t):function(){return!1};return t.getSlotElementId()===n||e(n)});return 0===t.length?p.Warning(\"No googletag slot found for slotId: \"+n):1<t.length&&p.Warning(\"More than one googletag slot found for slotId: \"+n),t[0]}function Qt(e){Jt(function(){var t=$t(C().pubads().getSlots());e(t)})}function $t(t){for(var e=[],n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=0,r=t;o<r.length;o++){for(var a=r[o],s=a.getSlotElementId(),c=[],u=0,d=a.getSizes(n,i)||a.getSizes();u<d.length;u++){var l=d[u];\"function\"==typeof l.getWidth&&l.getWidth()&&\"function\"==typeof l.getHeight&&l.getHeight()&&c.push(\"\".concat(l.getWidth(),\"x\").concat(l.getHeight()))}s&&0<c.length&&e.push({slotId:s,sizes:c,ext:{}})}return e}function Zt(){var t=C();return!(!t||\"function\"!=typeof t.pubads||\"function\"!=typeof t.pubads().getSlots)}function te(t,e,n){Zt()&&void 0!==(t=Yt(t,n))&&t.setConfig({componentAuction:[{configKey:e.config.seller,auctionConfig:e.config}]})}function ee(e,n,i){Jt(function(){var t=C();t.encryptedSignalProviders||(t.encryptedSignalProviders=[]),p.Debug(\"Promise set for GPT ESP\"),t.encryptedSignalProviders.push({id:\"esp.criteo.com\",collectorFunction:function(){return p.Debug(\"Returning Promise to GPT\"),n(),e}}),i()})}function ne(){return ie(null,null)}function ie(t,e,n){t={crt_pb:[t],crt_bidid:[e]};return t=void 0!==n?f(f({},t),{crt_deal:[n]}):t}var oe=function(){function t(){var t=C();void 0===t&&(t={},window.googletag=t),this.googletag=t,this.googletag.cmd=t.cmd||[]}return t.prototype.setKeyValuesForAllSlots=function(e){var n=this;this.googletag.cmd.push(function(){for(var t in e)e.hasOwnProperty(t)&&(n.googletag.pubads().clearTargeting(t),n.googletag.pubads().setTargeting(t,e[t]+\"\"))})},t.prototype.setKeyValuePerSlot=function(e,n){var i=this.googletag.pubads().getSlots().filter(function(t){return t.getSlotElementId()===e});0===i.length?p.Warning(\"No googletag slot found for slotId: \"+e):1<i.length?p.Warning(\"More than one googletag slot found for slotId: \"+e):this.googletag.cmd.push(function(){for(var t in n)n.hasOwnProperty(t)&&(i[0].clearTargeting(t),i[0].setTargeting(t,n[t]+\"\"))})},t.prototype.resetKeyValuesForSlots=function(e){var t=this,n=ne();this.googletag.pubads().getSlots().filter(function(t){return-1!==e.indexOf(t.getSlotElementId())}).forEach(function(e){t.googletag.cmd.push(function(){for(var t in n)n.hasOwnProperty(t)&&e.clearTargeting(t)})})},t}();function re(e,n){try{return decodeURIComponent(e)}catch(t){return void 0!==n?n:e}}function ae(t){var e=document.createElement(\"a\");return e.href=t,{protocol:e.protocol,host:e.host,hostname:e.hostname,pathname:\"/\"===e.pathname[0]?e.pathname.slice(1):e.pathname,search:e.search,href:e.href}}function se(t,e){var n=document.createElement(\"a\"),t=(e&&\"noDecodeWholeURL\"in e&&e.noDecodeWholeURL?n.href=t:n.href=decodeURIComponent(t),e&&\"decodeSearchAsString\"in e&&e.decodeSearchAsString);return{href:n.href,protocol:(n.protocol||\"\").replace(/:$/,\"\"),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\\/)/,\"/\"),search:t?n.search:de(n.search||\"\"),hash:(n.hash||\"\").replace(/^#/,\"\"),host:n.host||window.location.host}}function ce(e){return Object.keys(e).map(function(t){return\"\".concat(t,\"=\").concat(e[t])}).join(\"&\")}function ue(t){return(t.protocol||\"http\")+\"://\"+(t.host||t.hostname+(t.port?\":\".concat(t.port):\"\"))+(t.pathname||\"\")+(t.search?\"?\".concat(ce(t.search||\"\")):\"\")+(t.hash?\"#\".concat(t.hash):\"\")}function de(t){return t?t.replace(/^\\?/,\"\").split(\"&\").reduce(function(t,e){var e=e.split(\"=\"),n=e[0],e=e[1];return/\\[\\]$/.test(n)||(t[n]=e||\"\"),t},{}):{}}function le(t){var e={},t=t.split(\"?\");if(1<t.length)for(var n=0,i=t[1].split(\"&\");n<i.length;n++){var o=i[n].split(\"=\");e[re(o[0])]=re(o[1])}return e}function pe(t){try{Boolean(new URL(t))}catch(t){}}var he=function(t,e){this.top=t,this.left=e},fe=function(t,e,n,i){this.width=t,this.height=e,this.scrollTop=n,this.scrollLeft=i},_=function(){function t(){}return t.getHighestAccessibleWindow=function(t){var e=t,n=!1;try{for(;e.parent.document!==e.document;){if(!e.parent.document){n=!0;break}e=e.parent}}catch(t){n=!0}return{topFrame:e,err:n}},t.getHighestAccessibleUrl=function(t){var e,n=t.topFrame;if(!t.err)return n.location.href;try{var i=null==(e=n.top)?void 0:e.location.href;if(i)return i}catch(t){}try{var o=n.location.ancestorOrigins;if(o)return o[o.length-1]}catch(t){}return n.document.referrer},t.inIframe=function(){try{return window.self!==window.top}catch(t){return!0}},t}(),ve=function(){function t(){}return t.prototype.getViewport=function(){var t=_.getHighestAccessibleWindow(window).topFrame,e=t.document,n=t.innerWidth||e.documentElement.clientWidth,t=t.innerHeight||e.documentElement.clientHeight,i=e.documentElement.scrollTop||e.body&&e.body.scrollTop||0,e=e.documentElement.scrollLeft||e.body&&e.body.scrollLeft||0;return new fe(n,t,i,e)},t.prototype.getSlotPosition=function(t){var t=t.impId,t=document.getElementById(t);if(null!==t)return t=t.getBoundingClientRect(),new he(t.top,t.left)},t}(),E=function(){function u(t,e,n){this.lowerBound=t,this.upperBound=e,this.increment=n}return u.createLineItemRangesFromString=function(t){for(var e=[],n=0,i=t.split(\";\");n<i.length;n++){var o=i[n],r=o.split(\"..\"),a=u.roundToDecimal(r[0],2),r=r[1].split(\":\"),s=u.roundToDecimal(r[0],2),r=u.roundToDecimal(r[1],2);if(isNaN(a)||isNaN(s)||isNaN(r)||0===r){p.Warning(\"Could not parse range parameter: \"+o);break}if(a<0||s<0||r<0){p.Warning(\"Positive values must be set for range bounds: \"+o);break}var o=s-a,c=100*o/(100*r),c=c===Math.floor(c);s<a?p.Warning(\"Lower bound (\"+a+\") greater than upper bound (\"+s+\")\"):c?e.push(new u(a,s,r)):p.Warning(\"Range (\"+o+\") is not divisible by increment (\"+r+\")\")}return e.sort(function(t,e){return t.upperBound>e.upperBound?1:e.upperBound>t.upperBound?-1:0}),e},u.getDefaultDenseLineItemRanges=function(){return[new u(0,3,.01),new u(3,8,.05),new u(8,20,.5)]},u.computeLineItemPricebandValue=function(t,e){for(var n=0,i=e=0===e.length?u.getDefaultDenseLineItemRanges():e;n<i.length;n++){var o=i[n];if(t<=o.upperBound&&t>o.lowerBound)return o=Math.floor(t/o.increment+1e-4)*o.increment,u.formatPriceBand(o)}if(!(t<e[0].lowerBound))return t===e[0].lowerBound?u.formatPriceBand(e[0].lowerBound):u.formatPriceBand(e[e.length-1].upperBound)},u.formatPriceBand=function(t){return t.toFixed(2)},u.roundToDecimal=function(t,e){t=parseFloat(t),e=Math.pow(10,e);return Math.round(t*e)/e},u}(),T=function(){function t(){var e=this;this.integrationMode=I.Unspecified,this.paramParser={},this.addParameter(\"integrationMode\",function(t){e.integrationMode=gt(t)})}return t.prototype.addParameter=function(t,e){this.paramParser[t.toLowerCase()]=e},t.prototype.tryFillParameters=function(t){for(var e in t){var n;void 0!==t[e]&&(n=e.toLowerCase(),this.paramParser[n]?this.paramParser[n](t[e]):p.Warning(\"Unknown parameter: \"+e))}},t}(),ge=function(n){function t(t){var e=n.call(this)||this;return e.bidId=void 0,e.document=window.document,e.containerId=void 0,e.addParameter(\"bidId\",function(t){e.bidId=t}),e.addParameter(\"document\",function(t){e.document=t}),e.addParameter(\"containerId\",function(t){e.containerId=t}),n.prototype.tryFillParameters.call(e,t),e}return a(t,n),t}(T),me=function(t,e,n,i,o,r,a,s,c,u,d,l){this.slotId=null!=l?l:b().replace(/-/g,\"\"),this.impId=t,this.zoneId=e,this.native=n,this.nativeCallback=i,this.transactionId=o,this.sizes=r,this.publisherSubId=a,this.mediaTypes=s,this.video=c,this.ext=u,this.rwdd=d},ye=function(){function t(t,e){this.width=t,this.height=e}return t.prototype.toString=function(){return\"\".concat(this.width,\"x\").concat(this.height)},t}(),we=function(t,e,n,i,o,r,a,s,c,u,d,l,p,h,f,v,g,m,y,w,b,C,I,_,E){this.context=t,this.playersize=e,this.mimes=n,this.protocols=i,this.maxduration=o,this.api=r,this.skip=a,this.placement=s,this.playbackmethod=c,this.minduration=u,this.startdelay=d,this.videoCallback=l,this.plcmt=p,this.w=h,this.h=f,this.linearity=v,this.skipmin=g,this.skipafter=m,this.minbitrate=y,this.maxbitrate=w,this.delivery=b,this.pos=C,this.playbackend=I,this.adPodDurationSec=_,this.durationRangeSec=E},be=function(e){function n(t){var i=e.call(this)||this;return i.slotId=void 0,i.zoneId=void 0,i.sizes=[],i.nativeCallback=void 0,i.publisherSubId=void 0,i.ext=void 0,i.video=void 0,i.impId=void 0,i.addParameter(\"slotid\",function(t){i.slotId=t}),i.addParameter(\"zoneid\",function(t){i.zoneId=t}),i.addParameter(\"impid\",function(t){i.impId=t}),i.addParameter(\"sizes\",function(t){0==i.sizes.length&&(i.sizes=n.getSizesFromRawSizes(t))}),i.addParameter(\"mediaTypes\",function(t){var e;null!=(e=null==t?void 0:t.banner)&&e.sizes&&(i.sizes=n.getSizesFromRawSizes(null==t?void 0:t.banner.sizes)),null!=t&&t.video&&(i.video=new we(t.video.context,t.video.playerSize,t.video.mimes,t.video.protocols,t.video.maxduration,t.video.api,t.video.skip,t.video.placement||n.placementFromContext(t.video.context),t.video.playbackmethod||[],t.video.minduration,t.video.startdelay,t.video.videoCallback,t.video.plcmt,t.video.w,t.video.h,t.video.linearity,t.video.skipmin,t.video.skipafter,t.video.minbitrate,t.video.maxbitrate,t.video.delivery,t.video.pos,t.video.playbackend,t.video.adPodDurationSec,t.video.durationRangeSec))}),i.addParameter(\"nativecallback\",function(t){i.nativeCallback=t}),i.addParameter(\"publisherSubId\",function(t){i.publisherSubId=t}),i.addParameter(\"ext\",function(t){var e=i.ext;null!=e&&e.data&&t.data&&(e.data=f(f({},t.data),e.data)),i.ext=e?f(f({},t),e):t}),i.addParameter(\"ortb2Imp\",function(t){var e,n=i.ext;null!=n&&n.data&&null!=(e=t.ext)&&e.data&&(n.data=f(f({},t.ext.data),n.data)),i.ext=n?f(f({},t.ext),n):t.ext}),e.prototype.tryFillParameters.call(i,t),i}return a(n,e),n.getSizesFromRawSizes=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n].split(\"x\");e.push(new ye(parseInt(o[0],10),parseInt(o[1],10)))}return e},n.placementFromContext=function(t){return\"instream\"===t?1:\"outstream\"===t?2:void 0},n}(T);function Ce(){return\"runAdAuction\"in navigator&&\"joinAdInterestGroup\"in navigator}function Ie(t,e,n){var i={};t.forEach(function(t){return i[t.slotId]=t.impId}),e.ext&&Array.isArray(null==(t=e.ext)?void 0:t.igi)&&e.ext.igi.forEach(function(t){Array.isArray(t.igs)&&t.igs.forEach(function(t){void 0!==t&&void 0!==i[t.impid]&&R()&&te(i[t.impid],t,n)})})}var _e=function(n){function t(t){var e=n.call(this)||this;return e.placements=void 0,e.networkId=void 0,e.publisherId=void 0,e.accountId=void 0,e.addParameter(\"networkId\",function(t){e.networkId=t}),e.addParameter(\"accountId\",function(t){e.accountId=t}),e.addParameter(\"publisherId\",function(t){e.publisherId=t}),e.addParameter(\"placements\",function(t){e.placements=e.deserializePlacementInput(t)}),n.prototype.tryFillParameters.call(e,t),e}return a(t,n),t.prototype.deserializePlacementInput=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n],o=new be(o),r=o.ext;Ce()&&void 0===(null==r?void 0:r.igs)&&R()&&(r=f(f({},r),{igs:{ae:1}})),e.push(new me(o.slotId,o.zoneId,void 0!==o.nativeCallback,o.nativeCallback,void 0,o.sizes,o.publisherSubId,void 0,o.video,r,void 0,o.impId))}return e},t}(T),Ee=function(o){function n(t,e,n){var i=o.call(this)||this;return i.document=t,i.containerId=e,i.id=n,i.width=0,i.height=0,i}return a(n,o),n.prototype.ResizeFrame=function(t,e){this.width=t,this.height=e},n.prototype.Write=function(t){t={id:this.id,width:this.width,height:this.height,html:t};this.LoadSafeframe(t)},n.prototype.LoadScript=function(t){t={id:this.id,width:this.width,height:this.height,url:lt(t)};this.LoadSafeframe(t)},n.prototype.LoadSafeframe=function(t){var e=this.document.getElementById(this.containerId);e&&(t=this.CreateSafeframe(n.IFRAME_URL+\"#\"+encodeURIComponent(JSON.stringify(t))),e.appendChild(t))},n.prototype.CreateSafeframe=function(t){var e=this.document.createElement(\"iframe\");return e.scrolling=\"no\",e.marginWidth=\"0\",e.marginHeight=\"0\",e.frameBorder=\"0\",e.style.border=\"0\",e.width=this.width.toString(),e.height=this.height.toString(),e.src=t,e},n.IFRAME_URL=\"https://static.criteo.net/js/ld/safeframe/html/safeframe.html\",n}(t);function Se(t,e,n,i){x(t,l,e,n,i)}function Pe(e,n,i,o){Qt(function(t){t.length<=0?p.Warning(\"No Google tag placements have been retrieved, no bid will be requested.\"):x({networkId:e,publisherId:o,placements:t},l,n,i)})}function Te(t,e,n){var i,o;\"number\"==typeof t?Pe(t,e,n,void 0):(e=r(t,\"networkId\",\"number\"),n=r(t,\"publisherId\",\"string\"),i=r(t,\"placements\",\"object\"),o=r(t,\"callback\",\"function\"),t=r(t,\"timeout\",\"function\"),void 0===i?Pe(e,o,t,n):x({networkId:e,publisherId:n,placements:$t(i)},l,o,t))}function xe(t,e,n,i,o){var r,a;void 0===n&&void 0===i||(ze(((r={})[a=b()]={data:{gtin:n,keyword:i}},r)),x({accountId:t,placements:[{slotId:a,nativeCallback:e}]},yt,function(t){t.forEach(function(t){A(t.id,document)})},o))}function x(t,c,C,u,I){var d,_,E=new _e(t);Ue(E)&&(d=new ve,(_=(window.criteo_pubtag_standalone_156||window.criteo_pubtag).context).serviceProvider.getServicesAsync(function(t){var e=q.create(t.localStorageHelper);if(e.adBlockFlagEnabled()){c=mt,_.isAdBlocked=!0;var n=P.tryInsertPlaceholders(E.placements,!0,_.cloneByImpressionId);if(0===n.length)return;E.placements=n;var i=C;C=function(t){void 0!==i&&i(t),t.forEach(function(t){var e=P.insertAdIFrame(t.impressionId,_.cloneByImpressionId);null!==e&&A(t.id,e.contentDocument)})}}for(var n=function(){P.removePlaceholders(E.placements,[],_.cloneByImpressionId),(new z).isAdBlocked(function(t){t?e.enableAdBlockFlag():e.disableAdBlockFlag()}),void 0!==C&&C([])},n=new Nt(c,new wt(!1),E.placements,function(t,e){var s,c=[],t=S(t);if(void 0!==t&&void 0!==t.slots){var u={};if(void 0!==(null==e?void 0:e.slots))for(var n=0,i=e.slots;n<i.length;n++){var o=i[n];u[o.imp_id]=o}var d={};if(t.invocation_codes)for(var r=0,a=t.invocation_codes;r<a.length;r++)for(var l=a[r],p=0,h=l.slot_ids;p<h.length;p++){var f=h[p];d[f]=l.invocation_code}for(var v=0,g=t.slots;v<g.length;v++)!function(e){for(var t=void 0,n=void 0,i=0,o=E.placements;i<o.length;i++){var r=o[i];if(r.nativeCallback&&r.impId===e.impid){t=r.nativeCallback;break}if(r.video&&r.video.videoCallback&&r.impId===e.impid){n=r.video.videoCallback;break}}!t&&e.slotid in d&&(t=function(t){Gt(d[e.slotid],[t])});var a=jt(e.slotid,e.impid,e.cpm,e.width,e.height,e.zoneid,t,e.native,e.displayurl,e.creative,e.deal,e.video,n,null==(s=u[e.slotid])?void 0:s.enable_safeframe,e.video_callback);void 0!==a&&((window.criteo_pubtag_standalone_156||window.criteo_pubtag).standaloneBidder.bids[a.id]=a,c.push(a.impressionId))}(o=g[v]);t.granularity&&Ae(t.granularity)}if(Ce()&&R()&&Ie(E.placements,t,I),P.removePlaceholders(E.placements,c,_.cloneByImpressionId),void 0!==C){for(var m=[],y=0,w=E.placements;y<w.length;y++){var b=w[y];m.push(b.impId)}C(k({impressionIds:m}))}},n,n,new Ct(t.localStorageHelper),_.serviceProvider,0===u?0:u||3e3,E.networkId,E.integrationMode,void 0,d,E.publisherId,E.accountId),o=[],r=0,a=E.placements;r<a.length;r++){var s=a[r];o.push(s.impId),void 0===s.ext&&void 0!==_.slotsExt&&void 0!==_.slotsExt[s.impId]&&(s.ext=_.slotsExt[s.impId])}(window.criteo_pubtag_standalone_156||window.criteo_pubtag).standaloneBidder.impIds=o,(window.criteo_pubtag_standalone_156||window.criteo_pubtag).push(n)}))}function Ae(t){(window.criteo_pubtag_standalone_156||window.criteo_pubtag).standaloneBidder.lineItemRanges=E.createLineItemRangesFromString(t)}function Re(){var t,e,n=(window.criteo_pubtag_standalone_156||window.criteo_pubtag).standaloneBidder.impIds,i=new oe,o=(i.resetKeyValuesForSlots(n),(window.criteo_pubtag_standalone_156||window.criteo_pubtag).standaloneBidder.lineItemRanges),r=Le();for(t in r)r.hasOwnProperty(t)&&void 0!==(e=De(r[t],o))&&i.setKeyValuePerSlot(t,e)}function ke(t,e){return De(t,E.createLineItemRangesFromString(e))}function De(t,e){e=E.computeLineItemPricebandValue(t.cpm,e);return void 0===e?void 0:ie(e,t.id,t.dealCode)}function A(t,e){var n,e=new ge(\"string\"==typeof t?{bidId:t,document:e}:t);e.bidId?(t=(window.criteo_pubtag_standalone_156||window.criteo_pubtag).standaloneBidder.bids).hasOwnProperty(e.bidId)?(Oe(n=t[e.bidId],void 0===e.containerId?new pt(e.document):!R()&&n.useSafeframe?new Ee(e.document,e.containerId,n.impressionId):new dt(e.document,e.containerId)),delete t[n.id]):p.Error(\"Could not render bid with id: \"+e.bidId):p.Error(\"You must provide a bidId to the RenderAd call\")}function Oe(t,e){t=t.GenerateEvent(e);(window.criteo_pubtag_standalone_156||window.criteo_pubtag).push(t)}function R(){var t=C();return void 0!==(null==t?void 0:t.cmd)}function k(t){var e=(window.criteo_pubtag_standalone_156||window.criteo_pubtag).standaloneBidder.bids;if(null===e)return[];var n,i,o=(window.criteo_pubtag_standalone_156||window.criteo_pubtag).standaloneBidder.lineItemRanges,r=[];for(n in e)e.hasOwnProperty(n)&&(i=e[n],t&&t.impressionIds&&-1===t.impressionIds.indexOf(i.impressionId)||(0<o.length&&(i.cpm_bucket=E.computeLineItemPricebandValue(i.cpm,o)),r.push(i)));return r}function Me(t,e){void 0===e&&(e=1);t=k({impressionIds:[t]});return t.sort(function(t,e){return e.cpm-t.cpm}).slice(0,Math.min(Math.max(e,0),t.length))}function Ue(t){var e;if(void 0===t.placements)p.Error(\"Missing 'placements' parameter\");else{if(0!==t.placements.length){for(var n=0,i=t.placements;n<i.length;n++){var o=i[n];if(D(o.impId))return void p.Error(\"Missing 'slotId' parameter in placements object\");if(D(o.video)){if(D(o.zoneId)&&(D(o.sizes)||D(t.networkId)&&D(t.publisherId))&&D(t.accountId))return void p.Error(\"Missing zone information: specify either a zoneId or a networkId and a zone size\")}else{if(D(o.zoneId)&&D(t.networkId)&&D(t.publisherId)&&D(t.accountId))return void p.Error(\"Missing zone information: specify either a zoneId or a networkId (size is only recommended for video\");if(null!=(null==(e=o.video)?void 0:e.videoCallback)&&\"function\"!=typeof o.video.videoCallback)return void p.Error(\"'videoCallback' parameter is not a function in video object\")}if(void 0!==o.nativeCallback&&\"function\"!=typeof o.nativeCallback)return void p.Error(\"'nativeCallback' parameter is not a function in placements object\")}return 1}p.Error(\"'placements' parameter is empty\")}}function Le(){var t,e,n={},i=(window.criteo_pubtag_standalone_156||window.criteo_pubtag).standaloneBidder.bids;for(t in i)i.hasOwnProperty(t)&&(e=i[t],!n.hasOwnProperty(e.impressionId)||n[e.impressionId].cpm<e.cpm)&&(n[e.impressionId]=e);return n}function D(t){return void 0===t||t+\"\"==\"\"}function Fe(t){(window.criteo_pubtag_standalone_156||window.criteo_pubtag).context.ceh=t}function Be(t){(window.criteo_pubtag_standalone_156||window.criteo_pubtag).context.ccpaOptout=t}function We(t){}function Ne(t){}function He(t){(window.criteo_pubtag_standalone_156||window.criteo_pubtag).context.ortb2Request=t}function ze(t){(window.criteo_pubtag_standalone_156||window.criteo_pubtag).context.slotsExt=t}function qe(t){(window.criteo_pubtag_standalone_156||window.criteo_pubtag).context.userIds=t}function Ge(t,e,n,i){if(void 0===i&&(i=void 0),n||e){var o=(window.criteo_pubtag_standalone_156||window.criteo_pubtag).standaloneBidder.lineItemRanges;if(e){var e=se(e,{noDecodeWholeURL:!0});if(!n)return e=e,r=a(r=t,o,i),e.search.cust_params=e.search.cust_params?e.search.cust_params+\"%26\"+r:r,ue(e)}var r,i={};return r=t,(e=i).correlator=Date.now().toFixed(),e.sz=r.width+\"x\"+r.height,(e=i=e).env=\"vp\",e.gdfp_req=\"1\",e.output=\"vast\",e.unviewed_position_start=\"1\",(i=function(t,e){if(void 0!==e)for(var n in e)t[n]=e[n];return t}(i=e,n)).cust_params=a(t,o),ue({protocol:\"https\",host:\"securepubads.g.doubleclick.net\",pathname:\"/gampad/ads\",search:i})}function a(t,e,n){void 0===n&&(n=void 0);var i=encodeURIComponent(encodeURIComponent(t.vastUrl)),n={crt_displayurl:i=n?encodeURIComponent(i):i,crt_format:\"video\"},i=E.computeLineItemPricebandValue(t.cpm,e);return n.crt_pb=void 0!==i?i:t.cpm.toFixed(2),encodeURIComponent(ce(n))}p.Error(\"A params object or a gamVastUrl is required\")}var Ve=206;function je(){(window.Criteo_standalone_156||window.Criteo).passbackEvents=H((window.Criteo_standalone_156||window.Criteo).passbackEvents)}function Ke(t,e){x(t,Ve,je,e)}function Xe(t,e,n,i){var o;\"string\"==typeof t?o=t:(o=r(t,\"adUnit\",\"string\"),e=r(t,\"passback\",\"function\"),n=r(t,\"customRenderFunction\",\"function\"),i=r(t,\"minimumBidPrice\",\"number\")),void 0===o?p.Error(\"An adUnit string parameter should be provided\"):void 0===e?p.Error(\"A passback callback should be provided\"):(\"function\"!=typeof n&&(n=function(t){A({bidId:t.id,containerId:o})}),(window.Criteo_standalone_156||window.Criteo).passbackEvents=(window.Criteo_standalone_156||window.Criteo).passbackEvents||[],(window.Criteo_standalone_156||window.Criteo).passbackEvents.push(function(){var t=Me(o)[0];t&&(void 0===i||t.cpm>i)?n(t):e(o)}))}var Je=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function Ye(){throw new Error(\"Dynamic requires are not currently supported by rollup-plugin-commonjs\")}function Qe(t){t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")&&t.default}function $e(t,e){return t(e={exports:{}},e.exports),e.exports}function Ze(t){t&&t.default}var tn=$e(function(t,e){var n;n=function(){function c(t){return\"function\"==typeof t}var n=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},i=0,e=void 0,o=void 0,a=function(t,e){l[i]=t,l[i+1]=e,2===(i+=2)&&(o?o(p):L())};var t=\"undefined\"!=typeof window?window:void 0,r=t||{},r=r.MutationObserver||r.WebKitMutationObserver,s=\"undefined\"==typeof self&&\"undefined\"!=typeof process&&\"[object process]\"==={}.toString.call(process),u=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(p,1)}}var l=new Array(1e3);function p(){for(var t=0;t<i;t+=2)(0,l[t])(l[t+1]),l[t]=void 0,l[t+1]=void 0;i=0}function h(){try{var t=Function(\"return this\")().require(\"vertx\");return void 0!==(e=t.runOnLoop||t.runOnContext)?function(){e(p)}:d()}catch(t){return d()}}var f,v,g,L=void 0;function m(t,e){var n,i=this,o=new this.constructor(b),r=(void 0===o[w]&&D(o),i._state);return r?(n=arguments[r-1],a(function(){return R(r,o,n,i._result)})):x(i,o,t,e),o}function y(t){var e;return t&&\"object\"==typeof t&&t.constructor===this?t:(S(e=new this(b),t),e)}var L=s?function(){return process.nextTick(p)}:r?(v=0,s=new r(p),g=document.createTextNode(\"\"),s.observe(g,{characterData:!0}),function(){g.data=v=++v%2}):u?((f=new MessageChannel).port1.onmessage=p,function(){return f.port2.postMessage(0)}):(void 0===t&&\"function\"==typeof Ye?h:d)(),w=Math.random().toString(36).substring(2);function b(){}var C=void 0,I=1,_=2;function F(t,i,o){a(function(e){var n=!1,t=function(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}(o,i,function(t){n||(n=!0,(i!==t?S:P)(e,t))},function(t){n||(n=!0,T(e,t))},e._label);!n&&t&&(n=!0,T(e,t))},t)}function E(t,e,n){var i,o;e.constructor===t.constructor&&n===m&&e.constructor.resolve===y?(i=t,(o=e)._state===I?P(i,o._result):o._state===_?T(i,o._result):x(o,void 0,function(t){return S(i,t)},function(t){return T(i,t)})):void 0!==n&&c(n)?F(t,e,n):P(t,e)}function S(e,t){if(e===t)T(e,new TypeError(\"You cannot resolve a promise with itself\"));else if(n=typeof t,null===t||\"object\"!=n&&\"function\"!=n)P(e,t);else{n=void 0;try{n=t.then}catch(t){return void T(e,t)}E(e,t,n)}var n}function B(t){t._onerror&&t._onerror(t._result),A(t)}function P(t,e){t._state===C&&(t._result=e,t._state=I,0!==t._subscribers.length)&&a(A,t)}function T(t,e){t._state===C&&(t._state=_,t._result=e,a(B,t))}function x(t,e,n,i){var o=t._subscribers,r=o.length;t._onerror=null,o[r]=e,o[r+I]=n,o[r+_]=i,0===r&&t._state&&a(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i,o=void 0,r=t._result,a=0;a<e.length;a+=3)i=e[a],o=e[a+n],i?R(n,i,o,r):o(r);t._subscribers.length=0}}function R(t,e,n,i){var o=c(n),r=void 0,a=void 0,s=!0;if(o){try{r=n(i)}catch(t){s=!1,a=t}if(e===r)return void T(e,new TypeError(\"A promises callback cannot return that same promise.\"))}else r=i;e._state===C&&(o&&s?S(e,r):!1===s?T(e,a):t===I?P(e,r):t===_&&T(e,r))}var k=0;function D(t){t[w]=k++,t._state=void 0,t._result=void 0,t._subscribers=[]}O.prototype._enumerate=function(t){for(var e=0;this._state===C&&e<t.length;e++)this._eachEntry(t[e],e)},O.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===y){var o,r=void 0,a=void 0,s=!1;try{r=e.then}catch(t){s=!0,a=t}r===m&&e._state!==C?this._settledAt(e._state,t,e._result):\"function\"!=typeof r?(this._remaining--,this._result[t]=e):n===M?(o=new n(b),s?T(o,a):E(o,e,r),this._willSettleAt(o,t)):this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},O.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===C&&(this._remaining--,t===_?T(i,n):this._result[e]=n),0===this._remaining&&P(i,this._result)},O.prototype._willSettleAt=function(t,e){var n=this;x(t,void 0,function(t){return n._settledAt(I,e,t)},function(t){return n._settledAt(_,e,t)})};var W=O;function O(t,e){this._instanceConstructor=t,this.promise=new t(b),this.promise[w]||D(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(e),0!==this._remaining)||P(this.promise,this._result)):T(this.promise,new Error(\"Array Methods must be provided an Array\"))}U.prototype.catch=function(t){return this.then(null,t)},U.prototype.finally=function(e){var n=this.constructor;return c(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)};var M=U;function U(t){if(this[w]=k++,this._result=this._state=void 0,this._subscribers=[],b!==t){if(\"function\"!=typeof t)throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\");if(!(this instanceof U))throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");var e=this;try{t(function(t){S(e,t)},function(t){T(e,t)})}catch(t){T(e,t)}}}return M.prototype.then=m,M.all=function(t){return new W(this,t).promise},M.race=function(o){var r=this;return n(o)?new r(function(t,e){for(var n=o.length,i=0;i<n;i++)r.resolve(o[i]).then(t,e)}):new r(function(t,e){return e(new TypeError(\"You must pass an array to race.\"))})},M.resolve=y,M.reject=function(t){var e=new this(b);return T(e,t),e},M._setScheduler=function(t){o=t},M._setAsap=function(t){a=t},M._asap=a,M.polyfill=function(){var t=void 0;if(void 0!==Je)t=Je;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(t){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if(\"[object Promise]\"===n&&!e.cast)return}t.Promise=M},M.Promise=M},t.exports=n()}),en=tn.polyfill,nn=function(){function t(){}return t.LoadPolyfills=function(){t.DefineIsArray(),t.DefineIndexOf(),t.DefineFilter(),t.DefinePromise()},t.DefinePromise=function(){window.Promise||en()},t.DefineIsArray=function(){Array.isArray||(Array.isArray=function(t){return\"[object Array]\"===Object.prototype.toString.call(t)})},t.DefineIndexOf=function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){if(void 0===e&&(e=0),void 0===this)throw new TypeError(\"'this' is null or not defined\");var n=this.length;if(0!==n&&!(n<=e))for(var i=Math.max(0<=e?e:n-Math.abs(e),0);i<n;){if(i in this&&this[i]===t)return i;i++}return-1})},t.DefineFilter=function(){Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this)throw new TypeError;var e=this.length;if(\"function\"!=typeof t)throw new TypeError;for(var n,i=[],o=2<=arguments.length?arguments[1]:void 0,r=0;r<e;r++)r in this&&(n=this[r],t.call(o,n,r,this))&&i.push(n);return i})},t}(),on=function(t,e){this.errorType=t,this.messages=e},rn=function(t,e,n){this.environment=t,this.errors=e,this.requestId=n},an=function(){function t(t){this.messages={},this.environment=t}return t.prototype.withMessage=function(t,e){return t in this.messages||(this.messages[t]=new Array),this.messages[t].push(e),this},t.prototype.withRequestId=function(t){return this.requestId=t,this},t.prototype.build=function(){var t,e=Array();for(t in this.messages)null!=t&&e.push(new on(t,this.messages[t]));return new rn(this.environment,e,this.requestId)},t}(),sn=function(){function n(t){void 0===t&&(t=!1),this.builder=new an(n.environment),this.shouldSend=!1,this.debug=t}return n.prototype.reportPending=function(){return this.shouldSend},n.prototype.sendErrorReport=function(t,e){this.shouldSend&&(void 0!==e&&this.builder.withRequestId(e),e=this.builder.build(),t=t.buildErrorUrl(),t+=this.debug?\"?debug=1\":\"\",e=JSON.stringify(e),navigator.sendBeacon&&navigator.sendBeacon(t,e),this.shouldSend=!1,this.builder=new an(n.environment))},n.prototype.log=function(t,e){this.shouldSend=!0,this.builder.withMessage(t,e)},n.environment=\"PublisherTag Version \".concat(s),n}(),O,cn=(!function(t){t[t.InFriendlyIframe=1]=\"InFriendlyIframe\",t[t.InUnfriendlyIframe=2]=\"InUnfriendlyIframe\",t[t.DirectIntegration=3]=\"DirectIntegration\"}(O=O||{}),function(){function t(t){this.window=t}return t.prototype.getUserContextualData=function(){var t;return{data:{contentLanguage:this.getContentLanguage(),navigatorLanguage:null==(t=null==(t=this.window)?void 0:t.navigator)?void 0:t.language,orientation:this.getOrientation(),windowInnerWidth:null==(t=this.window)?void 0:t.innerWidth,windowInnerHeight:null==(t=this.window)?void 0:t.innerHeight,pageWidth:null==(t=null==(t=null==(t=this.window)?void 0:t.document)?void 0:t.documentElement)?void 0:t.scrollWidth,pageHeight:null==(t=null==(t=null==(t=this.window)?void 0:t.document)?void 0:t.documentElement)?void 0:t.scrollHeight,sessionDuration:i.TimeSincePageLoad()},device:{w:null==(t=null==(t=this.window)?void 0:t.screen)?void 0:t.width,h:null==(t=null==(t=this.window)?void 0:t.screen)?void 0:t.height}}},t.prototype.getOrientation=function(){var t;return((null==(t=null==(t=this.window)?void 0:t.screen)?void 0:t.orientation)||{}).type||(null==(t=null==(t=this.window)?void 0:t.screen)?void 0:t.mozOrientation)||(null==(t=null==(t=this.window)?void 0:t.screen)?void 0:t.msOrientation)},t.prototype.getContentLanguage=function(){var t,e=null==(e=null==(e=null==(e=this.window)?void 0:e.document)?void 0:e.documentElement)?void 0:e.lang;return e=e||\"function\"!=typeof(null==(t=null==(t=this.window)?void 0:t.document)?void 0:t.querySelector)?e:null==(t=this.window.document.querySelector('meta[http-equiv=\"Content-Language\"]'))?void 0:t.content},t}()),un=function(n){function t(t){var e=n.call(this)||this;return e.context=t,e}return a(t,n),t.prototype.sendEvents=function(t){t={requestId:this.context.getClientSessionId(),events:[t]};this.context.isEligibleForCsmEvents()&&this.sendEventsToBeacon(t,this.urlBuilder.buildCsmEventsUrl())},t}(bt),M,dn,ln=(!function(t){t[t.None=0]=\"None\",t[t.Cookie=1]=\"Cookie\",t[t.LocalStorage=2]=\"LocalStorage\",t[t.Delegation=4]=\"Delegation\"}(M=M||{}),!function(t){t[t.Unknown=0]=\"Unknown\",t[t.Deactivated=1]=\"Deactivated\",t[t.Activated=2]=\"Activated\"}(dn=dn||{}),function(){function t(t){this.userDataHandlers=t}return t.prototype.getLocalWebId=function(){return this.userDataHandlers.localWebId().fromAllStorages()},t.prototype.getOptOut=function(){return this.userDataHandlers.optOut().fromAllStorages()},t.prototype.getBundle=function(){return this.userDataHandlers.bundle().fromAllStorages()},t}()),pn=function(){function e(t,e){this.value=t,this.origin=e}return e.fromUserIdentificationData=function(t){return new e(t.value,t.origin)},e.fromValue=function(t){return new e(t,M.None)},e.prototype.hasValue=function(){return\"\"!==String(this.value)&&null!==this.value&&void 0!==this.value},e}(),hn=function(r){function t(t,e,n,i,o){n=r.call(this,n,i)||this;return n.storageKey=t,n.expirationTimeHours=e,n.storageAdapter=o,n}return a(t,r),t.prototype.hasValue=function(){return\"\"!==String(this.value)&&null!==this.value&&void 0!==this.value},t.prototype.saveOnAllStorages=function(){var t;this.hasValue()&&(t=\"boolean\"==typeof this.value?this.value?\"1\":\"0\":String(this.value),this.storageAdapter.writeToAllStorages(this.storageKey,t,this.expirationTimeHours))},t.prototype.toJSON=function(){return{value:this.value,origin:this.origin}},t}(pn),fn=function(){function e(t){this.storageAdapter=t}return e.prototype.localWebId=function(){return this.createGuid(e.LWID_COOKIE_NAME)},e.prototype.optOut=function(){return new vn(Boolean,e.OPTOUT_COOKIE_NAME,e.OPTOUT_RETENTION_TIME_HOUR,this.storageAdapter)},e.prototype.bundle=function(){return this.createGuid(e.BUNDLE_COOKIE_NAME)},e.prototype.createGuid=function(t){return new vn(String,t,e.GUID_RETENTION_TIME_HOUR,this.storageAdapter)},e.LWID_COOKIE_NAME=\"cto_lwid\",e.OPTOUT_COOKIE_NAME=\"cto_optout\",e.BUNDLE_COOKIE_NAME=\"cto_bundle\",e.GUID_RETENTION_TIME_HOUR=9360,e.OPTOUT_RETENTION_TIME_HOUR=43200,e}(),vn=function(){function t(t,e,n,i){this.type=t,this.storageKey=e,this.expirationTimeHours=n,this.storageAdapter=i}return t.prototype.fromAllStorages=function(){var t=this.storageAdapter.readFromAllStorages(this.storageKey),e=\"boolean\"==typeof(new this.type).valueOf()?\"1\"===t.value:t.value;return this.create(e,t.origin)},t.prototype.fromValue=function(t){return this.create(t,M.None)},t.prototype.removeFromAllStorages=function(){this.storageAdapter.removeFromAllStorages(this.storageKey)},t.prototype.create=function(t,e){return new hn(this.storageKey,this.expirationTimeHours,t,e,this.storageAdapter)},t}(),gn=function(){function t(t,e,n){this.criteoGlobalVendorListId=91,this.window=t,this.document=t.document,this.userDataHandlers=new fn(e),this.syncframeOrigin=\"https://\".concat(n=null!=n?n:\"gum.criteo.com\"),this.syncframeEndpoint=\"https://\".concat(n,\"/syncframe\"),this.window.criteo_syncframe_state||(this.window.criteo_syncframe_state={syncframeRequested:!1}),this.window.criteo_syncframe_state.appendSyncframeRequestQueue||(this.window.criteo_syncframe_state.appendSyncframeRequestQueue=[])}return t.prototype.getSyncframeListener=function(n,i){var o=this;return function(t){var e;o.discardMessageFromOtherFrames(t)&&!o.window.criteo_syncframe_state.ForceSyncframeMessageHandling||(null==(e=t.data)?void 0:e.requestId)===n&&(t.stopImmediatePropagation(),o.handleSyncframeResponse(e,i),o.window.criteo_syncframe_state.firstSyncframeCompleted=!0,o.window.criteo_syncframe_state.syncframeRequested=!1,o.tryUnqueueAppendSyncframeRequests())}},t.prototype.userBundleHasAlreadyBeenRetrieved=function(){return this.userDataHandlers.bundle().fromAllStorages().hasValue()},t.prototype.canDropSyncframe=function(){return!this.window.criteo_syncframe_state.syncframeRequested},t.prototype.discardMessageFromOtherFrames=function(t){return!t.data||t.origin!=this.syncframeOrigin},t.prototype.appendGumIframeIfDoesNotExist=function(t,e,n){var i,o=this;!0===(null==(i=this.window.criteo_syncframe_state)?void 0:i.firstSyncframeCompleted)||this.userBundleHasAlreadyBeenRetrieved()||this.canDropSyncframe()?this.appendGumIframe(t,e,n):this.queueAppendSyncframeRequest(function(){return o.appendGumIframeIfDoesNotExist(t,e,n)})},t.prototype.doOnCompletedDom=function(t){var e,n=this;this.window.addEventListener&&(\"complete\"===this.document.readyState?t():(e=function(){n.window.removeEventListener(\"load\",e),n.document.removeEventListener(\"DOMContentLoaded\",e),t()},this.window.addEventListener(\"load\",e,!1),this.document.addEventListener(\"DOMContentLoaded\",e,!1)))},t.prototype.appendGumIframe=function(t,e,n){e();e=t();this.consentAllowsSyncframeToBeDropped(e.consent)?(this.window.addEventListener(\"message\",this.getSyncframeListener(e.requestId,n),!0),t=this.createIFrame(e),this.document.body.appendChild(t),this.window.criteo_syncframe_state.syncframeRequested=!0):this.handleSyncframeResponse({},n)},t.prototype.consentAllowsSyncframeToBeDropped=function(t){return 2!==(null==t?void 0:t.gdprVersion)||!0!==(null==t?void 0:t.gdprApplies)||!0===(null==(t=null==t?void 0:t.vendorConsents)?void 0:t[this.criteoGlobalVendorListId])},t.prototype.queueAppendSyncframeRequest=function(t){void 0!==this.window.criteo_syncframe_state.appendSyncframeRequestQueue&&this.window.criteo_syncframe_state.appendSyncframeRequestQueue.push(t)},t.prototype.tryUnqueueAppendSyncframeRequests=function(){for(var t,e,n=null==(t=this.window.criteo_syncframe_state.appendSyncframeRequestQueue)?void 0:t.shift();void 0!==n;)n(),n=null==(e=this.window.criteo_syncframe_state.appendSyncframeRequestQueue)?void 0:e.shift()},t.prototype.createIFrame=function(t){var e=this.document.createElement(\"iframe\"),n={lwid:t.localWebId,bundle:t.bundle,optout:t.optoutCookie,tld:t.topLevelDomain,topUrl:t.topUrl,version:\"string\"==typeof t.version?null==(n=t.version)?void 0:n.replace(/\\./g,\"_\"):t.version,cw:t.canWriteCookie,lsw:t.canWriteLocalStorage,origin:t.origin,pm:t.privateMode,rtusCallerId:t.rtusCallerId,requestId:t.requestId},i=[];return i.push(\"origin=\".concat(t.origin)),i.push(\"topUrl=\".concat(t.topUrl)),t.consent&&(void 0!==t.consent.gdprApplies&&i.push(\"gdpr=\".concat(t.consent.gdprApplies?1:0)),void 0!==t.consent.consentData&&i.push(\"gdpr_consent=\".concat(t.consent.consentData)),void 0!==t.consent.uspString&&i.push(\"us_privacy=\".concat(t.consent.uspString)),void 0!==t.consent.gppString&&i.push(\"gpp=\".concat(t.consent.gppString)),void 0!==t.consent.gppSectionIds)&&i.push(\"gpp_sid=\".concat(t.consent.gppSectionIds)),t.isDebug&&i.push(\"debug=1\"),e.src=\"\".concat(this.syncframeEndpoint,\"?\").concat(i.join(\"&\"),\"#\").concat(JSON.stringify(n)),e.width=\"0\",e.height=\"0\",e.frameBorder=\"0\",e.style.borderWidth=\"0px\",e.style.margin=\"0px\",e.style.display=\"none\",e.setAttribute(\"sandbox\",\"allow-scripts allow-same-origin\"),e.title=\"Criteo GUM iframe\",e},t}(),mn=function(i){function t(t,e,n){e=i.call(this,e,t.storageAdapter,(n=void 0===n?!1:n)?\"gumi.criteo.com\":\"gum.criteo.com\")||this;return e.adapter=t,e}return a(t,i),t.prototype.handleSyncframeResponse=function(t,e){var n;if(t.optout)this.deleteUserData(),this.userDataHandlers.optOut().fromValue(!0).saveOnAllStorages(),null!=(n=null==e?void 0:e.resolve)&&n.call(e,\"\");else{if(t.callbacks)for(var i=0,o=\"string\"==typeof t.callbacks?[t.callbacks]:t.callbacks;i<o.length;i++){var r=o[i],a=this.document.createElement(\"img\");a.style.display=\"none\",a.width=1,a.height=1,a.setAttribute(\"data-owner\",\"criteo-tag\"),a.src=r}else t.bundle&&this.userDataHandlers.bundle().fromValue(t.bundle).saveOnAllStorages();null!=e&&e.resolve&&e.resolve(t.bundle||\"\")}},t.prototype.appendGumIFrameOnCompletedDomIfItDoesNotExist=function(t,e){function n(){return i.appendGumIframeIfDoesNotExist(function(){return i.createSyncframeRequest(t(),o)},function(){},{resolve:e})}var i=this,o=Math.random().toString();this.adapter.isPubTagIds?n():this.doOnCompletedDom(n)},t.prototype.createSyncframeRequest=function(t,e){return{localWebId:this.userDataHandlers.localWebId().fromAllStorages().toJSON(),bundle:this.userDataHandlers.bundle().fromAllStorages().toJSON(),optoutCookie:this.userDataHandlers.optOut().fromAllStorages().toJSON(),topLevelDomain:t.topLevelDomain,topUrl:t.topUrl,version:t.version,canWriteCookie:t.canWriteCookie,canWriteLocalStorage:t.canWriteLocalStorage,origin:this.adapter.isPubTagIds?\"publishertagids\":\"publishertag\",privateMode:void 0,consent:t.consent,rtusCallerId:void 0,isDebug:this.adapter.isDebug,requestId:e}},t.prototype.fetchUserData=function(){return new ln(this.userDataHandlers)},t.prototype.deleteUserData=function(){this.userDataHandlers.bundle().removeFromAllStorages()},t}(gn),yn=function(){function e(t,e,n,i,o,r,a){var s=this,t=(this.topDoc=n.document,this.cookieHelper=t,this.localStorageHelper=e,this.canWriteCookies=this.checkCookiesAreWriteable(),this.topUrl=o,!1);try{t=JSON.parse(\"false\")}catch(t){}this.syncframe=null!=a?a:new mn({storageAdapter:{readFromAllStorages:function(t){t=s.getFromAllStorages(t);return{value:t.value,origin:t.origin}},writeToAllStorages:function(t,e,n){s.writeOnAllStorages(t,e,n)},removeFromAllStorages:function(t){s.deleteFromAllStorage(t)}},isPubTagIds:null!=r&&r,isDebug:i},n,t)}return e.prototype.synchronizeCriteoUid=function(t,e){var n=this,i=null==t?void 0:t.gdprConsent,o=null==t?void 0:t.gppConsent;this.syncframe.appendGumIFrameOnCompletedDomIfItDoesNotExist(function(){var t;return{topLevelDomain:n.getTld(),topUrl:encodeURIComponent(ae(n.topUrl).hostname),version:s,canWriteCookie:n.canWriteCookies,canWriteLocalStorage:n.localStorageHelper.localStorageEnabled,consent:{gdprApplies:null==i?void 0:i.gdprApplies,consentData:null==i?void 0:i.consentData||\"\",gdprVersion:null==i?void 0:i.version,vendorConsents:null==i?void 0:i.vendorConsents,gppString:null==o?void 0:o.gpp,gppSectionIds:null==(t=null==o?void 0:o.gppSid)?void 0:t.join(\",\")}}},e)},e.prototype.checkCookiesAreWriteable=function(){var t=\"cto_writeable\",e=(this.cookieHelper.setCookie(t,\"1\",1,this.topDoc,!0),\"1\"===this.cookieHelper.getCookie(t,this.topDoc));return this.cookieHelper.deleteCookie(t,this.topDoc,!0),e},e.prototype.writeOnAllStorages=function(t,e,n){this.localStorageHelper.setItem(t,e),this.cookieHelper.setCookie(t,e,n,this.topDoc,!0)},e.prototype.getFromAllStorages=function(t){var e=this.cookieHelper.getCookie(t,this.topDoc),t=this.localStorageHelper.getItem(t)||void 0;return{value:e||t,origin:(e&&M.Cookie)|(t&&M.LocalStorage)}},e.prototype.deleteFromAllStorage=function(t){this.cookieHelper.deleteCookie(t,this.topDoc,!0),this.localStorageHelper.removeItem(t)},e.prototype.getTld=function(){var t=this.cookieHelper.setCookie(e.TLD_TEST_COOKIE_NAME,\"test\",1,this.topDoc,!0);return this.cookieHelper.deleteCookie(e.TLD_TEST_COOKIE_NAME,this.topDoc,!0),t},e.prototype.fetchUserData=function(){return this.syncframe.fetchUserData()},e.prototype.deleteUserData=function(){this.syncframe.deleteUserData()},e.TLD_TEST_COOKIE_NAME=\"cto_pub_test_tld\",e}(),wn=function(){function t(t,e,n,i){this.highestAccessibleWindowStruct=_.getHighestAccessibleWindow(t),this.highestAccessibleUrl=_.getHighestAccessibleUrl(this.highestAccessibleWindowStruct);t=le(this.highestAccessibleUrl);this.debugMode=\"1\"===t.pbt_debug||!1,this.debugMode&&B(c.Debug),this.cookieSynchronizerFactory=e,this.serviceProvider=n||new Lt(this.highestAccessibleWindowStruct.topFrame,void 0,void 0,void 0,i)}return t.prototype.synchronizeCriteoUid=function(t,e,n,i){var o=(null==(o=this.cookieSynchronizerFactory)?void 0:o.call(this))||new yn(e,t,this.highestAccessibleWindowStruct.topFrame,this.debugMode,this.highestAccessibleUrl,!1),e=o.fetchUserData();n(\"\",e.getOptOut().value,\"\",e.getBundle().value),o.synchronizeCriteoUid(i)},t.prototype.getServicesAndSyncCriteoUid=function(n){var i=this;void 0===n&&(n=function(t,e,n,i){}),this.serviceProvider.getServicesAsync(function(t){var e;(null==(e=t.ccpaConsentProvider)?void 0:e.hasUserOptOut(null==(e=t.privacies)?void 0:e.ccpaIabConsent))||i.synchronizeCriteoUid(t.localStorageHelper,t.cookieHelper,n,t.privacies)})},t.prototype.deleteCriteoUid=function(){var n=this;this.serviceProvider.getServicesAsync(function(t){var e;((null==(e=n.cookieSynchronizerFactory)?void 0:e.call(n))||new yn(t.cookieHelper,t.localStorageHelper,n.highestAccessibleWindowStruct.topFrame,n.debugMode,n.highestAccessibleUrl,!1)).deleteUserData()})},t}(),bn=function(){function t(t,e,n,i,o,r,a,s){void 0===a&&(a=(new Date).getUTCMilliseconds()),void 0===s&&(s=b()),this.cloneByImpressionId={},this.sessionRandomId=a,this.clientSessionId=s,this.contextMetricsManager=new un(this),this.charset=t.charset||t.characterSet||\"\",this.highestAccessibleWindowStruct=_.getHighestAccessibleWindow(e),this.displayContext=this.getDisplayContext(this.highestAccessibleWindowStruct),this.highestAccessibleUrl=_.getHighestAccessibleUrl(this.highestAccessibleWindowStruct);a=le(this.highestAccessibleUrl);this.debugMode=\"1\"===a.pbt_debug||!1,this.noLog=\"1\"===a.pbt_nolog||!1,this.remoteLogging=new sn(this.debugMode),this.debugMode&&B(c.Debug),this.location=e.location,this.dising=!1,this.ct0=void 0,this.wpdt0=void 0,this.isAdBlocked=void 0,this.rtaVarNames=[],this.identityHelper=new wn(e,n,i,o),this.serviceProvider=this.identityHelper.serviceProvider,this.synchronizeCriteoUid(),this.userContextualDataManager=r||new cn(e)}return t.prototype.getContextFlags=function(){var t=\"\";return(t+=this.debugMode?\"&debug=1\":\"\")+(this.noLog?\"&nolog=1\":\"\")},t.prototype.isEligibleForCsmEvents=function(){return this.sessionRandomId%100==0},t.prototype.getClientSessionId=function(){return this.clientSessionId},t.prototype.getMetricsManager=function(){return this.contextMetricsManager},t.prototype.getDisplayContext=function(t){return _.inIframe()?t.err?O.InUnfriendlyIframe:O.InFriendlyIframe:O.DirectIntegration},t.prototype.synchronizeCriteoUid=function(){var o=this;this.identityHelper.getServicesAndSyncCriteoUid(function(t,e,n,i){o.isOptOut=e,o.bundle=i})},t.prototype.getIdfs=function(){return\"\"},t.prototype.setIdfs=function(t){},t.prototype.setSite=function(t){this.site=t},t.prototype.getSite=function(){return this.site},t.prototype.setApp=function(t){this.app=t},t.prototype.getApp=function(){return this.app},t.prototype.setDevice=function(t){this.device=t},t.prototype.getDevice=function(){return this.device},t.prototype.setUser=function(t){this.user=t},t.prototype.getPublisherExt=function(){return{}},t.prototype.getUserExtWithContextualData=function(){return{}},t.prototype.getUser=function(){var t,e=this.user||{},n=this.userContextualDataManager.getUserContextualData();return null!=n&&n.data&&(t=f(f({},null==(t=e.ext)?void 0:t.data),n.data),e.ext=f(f({},e.ext),{data:t})),null!=n&&n.device&&(t=f(f({},null==(t=e.ext)?void 0:t.device),n.device),e.ext=f(f({},e.ext),{device:t})),null!=(n=this.device)&&n.sua&&(e.ext=f(f({},e.ext),{sua:this.device.sua})),e},t}(),Cn=function(){this.bids={},this.lineItemRanges=[],this.impIds=[]};function In(t){return\"conditionalEvent\"===t.name}var _n=function(){function t(t){var e;void 0===t&&(t=null==(e=window.Criteo_standalone_156||window.Criteo)?void 0:e.config),this.standaloneBidder=new Cn,this.events=[],this.context=new bn(document,window,void 0,void 0,t),p.Debug(\"Publisher Tag loaded\")}return t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=t;n<i.length;n++)this.events.push(i[n]);this.evalEvents()},t.prototype.evalEvents=function(){for(var t=0;t<this.events.length;){var e=this.events[t];if(In(e)&&!e.canEval())t++;else{e=this.events.splice(t,1);try{e[0].eval(this)}catch(t){p.Error(\"An exception occurred processing an event: \"+t.toString())}}}},t.VERSION=s,t}();function En(t){window.criteo_pubtag&&window.criteo_pubtag.context&&\"serviceProvider\"in window.criteo_pubtag.context||(nn.LoadPolyfills(),window.criteo_pubtag=new _n,window.criteo_pubtag_standalone_156=window.criteo_pubtag),window.Criteo=Sn(window.Criteo||{},t),window.Criteo_standalone_156=window.Criteo,p.Debug(\"Publisher Tag initialized with window.criteo_pubtag|criteo_pubtag_standalone_156, window.Criteo|Criteo_standalone_156\")}function Sn(t,e){if(U(t)&&U(e))for(var n in e)U(e[n])?!U(t[n])&&void 0!==t[n]||(U(t[n])||(t[n]={}),Sn(t[n],e[n])):void 0===t[n]&&(t[n]=e[n]);return t}function U(t){return t&&\"object\"==typeof t&&!Array.isArray(t)}function Pn(){var t;En(N({ComputeStandaloneDFPTargeting:ke,GetBids:k,GetBidsForAdUnit:Me,RenderAd:A,RequestBids:Se,RequestBidsOnGoogleTagSlots:Te,SetDFPKeyValueTargeting:Re,SetLineItemRanges:Ae,SetCeh:Fe,SetCCPAExplicitOptOut:Be,SetPublisherExt:We,SetUserExt:Ne,SetSlotsExt:ze,SetIdentities:qe,SetDFPVideoKeyValueTargeting:Ge,SetOrtb2Request:He,Passback:{RequestBids:Ke,RenderAd:Xe},events:null!=(t=null==(t=window.Criteo)?void 0:t.events)?t:[],passbackEvents:null!=(t=null==(t=window.Criteo)?void 0:t.passbackEvents)?t:[]})),window.Criteo.events=H(window.Criteo.events)}Pn(),L.DeclareStandalone=Pn}({});","adtrack-lib-criteo-expire":"1723245183043","id5id_1634_nb":"0","__amuidpb":"a30f495a-75a5-4cdb-8dc0-b4fc9b12bc9b","theme":"dark","criteo_fast_bid_expires":"1722726787375","amxId_exp":"Sat, 31 Aug 2024 23:13:54 GMT","adagioScript":"// hash: rgxLzDsZj/ZZaQk5CRIjddwaUxC/VC2zo5X/DewB7gP2cdN3/tDVbQ8AxEaZTroPiG17qQkzySDi93KXzxhWX1/tqoQndbKYfbO9K9s/mvKGn+Chb2aXM5eLgbfIrd/VezvsY8RwQTLmvwazlU9ev7KNyym59DyZqtmETEZU02E=\nvar _ADAGIO=function(e){\"use strict\";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function i(e){var t=function(e,t){if(\"object\"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||\"default\");if(\"object\"!=typeof i)return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==typeof t?t:t+\"\"}function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,i(a.key),a)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function d(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function c(e,t){if(e){if(\"string\"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var f=[\"120x600\",\"160x600\",\"300x250\",\"300x600\",\"300x1050\",\"600x250\",\"600x600\",\"728x90\",\"728x94\",\"728x315\",\"800x600\",\"970x90\",\"970x250\",\"1000x200\"],v=0,h=1,p=Array.isArray,g=\"object\"==typeof global&&global&&global.Object===Object&&global,m=\"object\"==typeof self&&self&&self.Object===Object&&self,b=g||m||Function(\"return this\")(),y=b.Symbol,A=Object.prototype,I=A.hasOwnProperty,w=A.toString,_=y?y.toStringTag:void 0;var O=Object.prototype.toString;var D=y?y.toStringTag:void 0;function E(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":D&&D in Object(e)?function(e){var t=I.call(e,_),n=e[_];try{e[_]=void 0;var i=!0}catch(e){}var a=w.call(e);return i&&(t?e[_]=n:delete e[_]),a}(e):function(e){return O.call(e)}(e)}function U(e){return null!=e&&\"object\"==typeof e}function S(e){return\"symbol\"==typeof e||U(e)&&\"[object Symbol]\"==E(e)}var C=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,G=/^\\w*$/;function x(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}var k,j=b[\"__core-js_shared__\"],N=(k=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+k:\"\";var T=Function.prototype.toString;var R=/^\\[object .+?Constructor\\]$/,P=Function.prototype,B=Object.prototype,L=P.toString,z=B.hasOwnProperty,M=RegExp(\"^\"+L.call(z).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");function V(e){return!(!x(e)||(t=e,N&&N in t))&&(function(e){if(!x(e))return!1;var t=E(e);return\"[object Function]\"==t||\"[object GeneratorFunction]\"==t||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}(e)?M:R).test(function(e){if(null!=e){try{return T.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}(e));var t}function F(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return V(n)?n:void 0}var q=F(Object,\"create\");var H=Object.prototype.hasOwnProperty;var $=Object.prototype.hasOwnProperty;function W(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function J(e,t){return e===t||e!=e&&t!=t}function Q(e,t){for(var n=e.length;n--;)if(J(e[n][0],t))return n;return-1}W.prototype.clear=function(){this.__data__=q?q(null):{},this.size=0},W.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},W.prototype.get=function(e){var t=this.__data__;if(q){var n=t[e];return\"__lodash_hash_undefined__\"===n?void 0:n}return H.call(t,e)?t[e]:void 0},W.prototype.has=function(e){var t=this.__data__;return q?void 0!==t[e]:$.call(t,e)},W.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=q&&void 0===t?\"__lodash_hash_undefined__\":t,this};var K=Array.prototype.splice;function Z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Z.prototype.clear=function(){this.__data__=[],this.size=0},Z.prototype.delete=function(e){var t=this.__data__,n=Q(t,e);return!(n<0)&&(n==t.length-1?t.pop():K.call(t,n,1),--this.size,!0)},Z.prototype.get=function(e){var t=this.__data__,n=Q(t,e);return n<0?void 0:t[n][1]},Z.prototype.has=function(e){return Q(this.__data__,e)>-1},Z.prototype.set=function(e,t){var n=this.__data__,i=Q(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var Y=F(b,\"Map\");function X(e,t){var n,i,a=e.__data__;return(\"string\"==(i=typeof(n=t))||\"number\"==i||\"symbol\"==i||\"boolean\"==i?\"__proto__\"!==n:null===n)?a[\"string\"==typeof t?\"string\":\"hash\"]:a.map}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}ee.prototype.clear=function(){this.size=0,this.__data__={hash:new W,map:new(Y||Z),string:new W}},ee.prototype.delete=function(e){var t=X(this,e).delete(e);return this.size-=t?1:0,t},ee.prototype.get=function(e){return X(this,e).get(e)},ee.prototype.has=function(e){return X(this,e).has(e)},ee.prototype.set=function(e,t){var n=X(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};function te(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new TypeError(\"Expected a function\");var n=function(){var i=arguments,a=t?t.apply(this,i):i[0],r=n.cache;if(r.has(a))return r.get(a);var s=e.apply(this,i);return n.cache=r.set(a,s)||r,s};return n.cache=new(te.Cache||ee),n}te.Cache=ee;var ne=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,ie=/\\\\(\\\\)?/g,ae=function(e){var t=te(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(ne,(function(e,n,i,a){t.push(i?a.replace(ie,\"$1\"):n||e)})),t}));var re=y?y.prototype:void 0,se=re?re.toString:void 0;function oe(e){if(\"string\"==typeof e)return e;if(p(e))return function(e,t){for(var n=-1,i=null==e?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}(e,oe)+\"\";if(S(e))return se?se.call(e):\"\";var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}function de(e,t){return p(e)?e:function(e,t){if(p(e))return!1;var n=typeof e;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=e&&!S(e))||(G.test(e)||!C.test(e)||null!=t&&e in Object(t))}(e,t)?[e]:ae(function(e){return null==e?\"\":oe(e)}(e))}function ue(e){if(\"string\"==typeof e||S(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}function ce(e,t){for(var n=0,i=(t=de(t,e)).length;null!=e&&n<i;)e=e[ue(t[n++])];return n&&n==i?e:void 0}var le=Object.prototype.hasOwnProperty;function fe(e,t){return null!=e&&le.call(e,t)}function ve(e){return U(e)&&\"[object Arguments]\"==E(e)}var he=Object.prototype,pe=he.hasOwnProperty,ge=he.propertyIsEnumerable,me=ve(function(){return arguments}())?ve:function(e){return U(e)&&pe.call(e,\"callee\")&&!ge.call(e,\"callee\")},be=/^(?:0|[1-9]\\d*)$/;function ye(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&(\"number\"==n||\"symbol\"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function Ae(e,t){return null!=e&&function(e,t,n){for(var i,a=-1,r=(t=de(t,e)).length,s=!1;++a<r;){var o=ue(t[a]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++a!=r?s:!!(r=null==e?0:e.length)&&(\"number\"==typeof(i=r)&&i>-1&&i%1==0&&i<=9007199254740991)&&ye(o,r)&&(p(e)||me(e))}(e,t,fe)}var Ie=function(){try{var e=F(Object,\"defineProperty\");return e({},\"\",{}),e}catch(e){}}();var we=Object.prototype.hasOwnProperty;function _e(e,t,n){var i=e[t];we.call(e,t)&&J(i,n)&&(void 0!==n||t in e)||function(e,t,n){\"__proto__\"==t&&Ie?Ie(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}(e,t,n)}function Oe(e,t,n){return null==e?e:function(e,t,n,i){if(!x(e))return e;for(var a=-1,r=(t=de(t,e)).length,s=r-1,o=e;null!=o&&++a<r;){var d=ue(t[a]),u=n;if(\"__proto__\"===d||\"constructor\"===d||\"prototype\"===d)return e;if(a!=s){var c=o[d];void 0===(u=i?i(c,d,o):void 0)&&(u=x(c)?c:ye(t[a+1])?[]:{})}_e(o,d,u),o=o[d]}return e}(e,t,n)}function De(e,t){return t.length<2?e:ce(e,function(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var r=Array(a);++i<a;)r[i]=e[i+t];return r}(t,0,-1))}function Ee(e,t){return null==e||function(e,t){return null==(e=De(e,t=de(t,e)))||delete e[ue((n=t,i=null==n?0:n.length,i?n[i-1]:void 0))];var n,i}(e,t)}var Ue=function(){return o((function e(){r(this,e),this.init()}),[{key:\"init\",value:function(){this.w=window,this.create()}},{key:\"create\",value:function(){this.w.localStorage.getItem(\"adagio\")||this.w.localStorage.setItem(\"adagio\",JSON.stringify({}))}},{key:\"insureSchema\",value:function(){var e=this.w.localStorage.getItem(\"adagio\");try{!(!e||!JSON.parse(e))||(this.w.localStorage.removeItem(\"adagio\"),this.create())}catch(e){this.w.localStorage.removeItem(\"adagio\"),this.create()}}},{key:\"get\",value:function(e){this.insureSchema();var t=JSON.parse(this.w.localStorage.getItem(\"adagio\"));return e?Ae(t,e)?function(e,t,n){var i=null==e?void 0:ce(e,t);return void 0===i?n:i}(t,e):null:t}},{key:\"store\",value:function(e,t){this.insureSchema();var n=JSON.parse(this.w.localStorage.getItem(\"adagio\"));Oe(n,e,t),this.w.localStorage.setItem(\"adagio\",JSON.stringify(n))}},{key:\"unset\",value:function(e){var t=JSON.parse(this.w.localStorage.getItem(\"adagio\"));Ee(t,e),this.w.localStorage.setItem(\"adagio\",JSON.stringify(t))}}])}(),Se=function(){try{if(window.top.location.href)return!0}catch(e){return!1}},Ce=function(){return Se()?window.top:window.self},Ge={default:\"\\n      background: #222;\\n      color: #bada55;\\n      border-radius: 4px 0 0 4px;\\n      padding: 3px 4px 2px;\\n      font-weight: normal;\\n  \",reset:\"\\n      background: transparent;\\n      color: inherit;\\n      border-radius: 0;\\n      padding: 0;\\n      font-weight: normal;\\n  \",debug:\"\\n      background: palegreen;\\n      color: darkgreen;\\n      border-radius: 0 4px 4px 0;\\n      padding: 3px 4px 2px;\\n      margin-right: 10px;\\n      font-weight: normal;\\n  \",warn:\"\\n      background: lightcoral;\\n      color: moccasin;\\n      border-radius: 0 4px 4px 0;\\n      padding: 3px 4px 2px;\\n      margin-right: 10px;\\n      font-weight: normal;\\n  \",error:\"\\n      background: firebrick;\\n      color: gainsboro;\\n      border-radius: 0 4px 4px 0;\\n      padding: 3px 4px 2px;\\n      margin-right: 10px;\\n      font-weight: normal;\\n  \"},xe=function(e){e=e||\"debug\";for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a;\"string\"==typeof n[0]?n[1]?(console.log(\"%cADG%c\".concat(e.toUpperCase(),\" %c%s\"),Ge.default,Ge[e],Ge.reset,n[0]),n.shift(),n.map((function(e){console.log(e)}))):console.log(\"%cADG%c\".concat(e.toUpperCase(),\" %c%s\"),Ge.default,Ge[e],Ge.reset,n[0]):(a=console).log.apply(a,[\"%cADG%c\".concat(e.toUpperCase()),Ge.default,Ge[e]].concat(n))},ke=function(){var e=Ce();return e&&e.localStorage&&e.localStorage.getItem(\"ADAGIO_DEV_DEBUG\")},je=function(){if(ke()){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];xe.apply(void 0,[\"warn\"].concat(t))}},Ne=function(){if(ke()){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];xe.apply(void 0,[\"error\"].concat(t))}},Te=function(){if(ke()){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];xe.apply(void 0,[\"debug\"].concat(t))}},Re=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},Pe=function(){var e,t;switch(e=Ce().navigator.userAgent,/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?5:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/.test(e)?4:2){case 2:t=\"desktop\";break;case 4:t=\"mobile\";break;case 5:t=\"tablet\"}return t},Be=function(e){if(\"string\"!=typeof e||\"http\"!==e.slice(0,4))return Te(\"uriParser: unable to parse uri, invalid\",e),!1;var t=document.createElement(\"a\"),n=\"\",i={};t.href=e;for(var a=0,r=(n=t.search.slice(1).split(\"&\")).length;a<r;a++){var s=n[a].split(\"=\");i[s[0]]=s[1]}return{protocol:t.protocol,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search,searchParsed:i,hash:t.hash,host:t.host}},Le=function(){var e=Ce(),t=e.performance||e.msPerformance||e.webkitPerformance||e.mozPerformance;return t&&t.timing&&t.timing.navigationStart>0?t.timing.navigationStart:null},ze=function(){var e=Ce(),t=null;return e.performance&&e.performance.timing&&e.performance.timing.domContentLoadedEventStart&&(t=e.performance.timing.domContentLoadedEventStart),t};var Me=function(){return o((function e(){r(this,e),this.storage=new Ue,this.maxTimeSession=18e5,this._ensureSchema()}),[{key:\"_ensureSchema\",value:function(){var e=this.storage.get(\"navigation\"),t=this.storage.get(\"navigation.session\");if(t){if(t.sampling)try{var n=t.sampling.avw,i=t.sampling.rates.avw;t.rnd=!0===n?i+.01:i-.01,t.vwSmplg=i,t.vwSmplgNxt=e&&e.nextSamplingRates&&e.nextSamplingRates.avw?e.nextSamplingRates.avw:i,t._firstPageviewId=t.sampling.firstPageviewId,t._bidsSmplg=.1,t._currentPagetype=t.currentPagetype,t._previousPagetype=t.previousPagetype,t._pages=t.pages,delete t.sampling,delete t.currentPagetype,delete t.previousPagetype,delete t.pages}catch(e){}this.storage.store(\"session\",t),this.storage.unset(\"navigation.session\"),delete e.session,delete e.nextSamplingRates}e&&(this.storage.store(\"_navigation\",e),this.storage.unset(\"navigation\"))}},{key:\"startOrUpdate\",value:function(e){var t=Date.now(),n=this.storage.get(\"_navigation\"),i=this.storage.get(\"session\");try{!n||!i||e.isNew&&e.initiator||\"number\"!=typeof i.lastActivityTime||\"number\"!=typeof i.vwSmplg||t-i.lastActivityTime>this.maxTimeSession?this.start(e):this.update(e)}catch(e){Te(e)}}},{key:\"start\",value:function(e){var t=this.storage.get(\"_navigation\")||{},i=parseInt(t.totalPages,10)||0,a=parseInt(t.totalSessions,10)||0,r=this.storage.get(\"session\")||{};this.storage.store(\"_navigation.totalPages\",i+1),this.storage.store(\"_navigation.totalSessions\",a+1);var s,o,d,u,c=Date.now(),l=r.vwSmplgNxt||.1;Object.keys(r).length&&\"snippet\"===r.initiator?(o=r.id,s=r.rnd,d=r.testName,u=r.testVersion):(s=e&&e.rnd?e.rnd:Math.random(),o=e&&e.id?e.id:Re()),this.storage.store(\"session\",n(n({_firstPageviewId:null,_pages:1,_currentPagetype:null,_previousPagetype:null,_bidsSmplg:.1,lastActivityTime:c,rnd:s,id:o,new:!0,initiator:\"adgjs\",vwSmplg:l,vwSmplgNxt:l},void 0!==d&&{testName:d}),void 0!==u&&{testVersion:u}))}},{key:\"update\",value:function(){var e=Date.now(),t=this.storage.get(\"_navigation\"),n=this.storage.get(\"session\");if(!t||!n)throw new Error(\"Key missing in localStorage\");var i=parseInt(n._pages,10)||0,a=parseInt(t.totalPages,10)||0;this.storage.store(\"session.lastActivityTime\",e),this.storage.store(\"session.new\",!1),this.storage.store(\"session.initiator\",\"adgjs\"),this.storage.store(\"session._pages\",i+1),this.storage.store(\"_navigation.totalPages\",a+1)}},{key:\"setVwSamplingNext\",value:function(e){this.storage.store(\"session.vwSmplgNxt\",e)}},{key:\"setSampling\",value:function(e,t){var n=this.storage.get(\"session._firstPageviewId\");if(!this.storage.get(\"session.rnd\"))throw new Error(\"The key rnd has not been found\");n?n===e&&t&&\"number\"==typeof t.vwSmplgNxt&&t.vwSmplgNxt>=0&&(this.storage.store(\"session.vwSmplg\",t.vwSmplgNxt),this.storage.store(\"session.vwSmplgNxt\",t.vwSmplgNxt)):this.storage.store(\"session._firstPageviewId\",e)}}])}(),Ve=function(){return o((function e(){r(this,e),this._storage=new Ue}),[{key:\"sessionLength\",get:function(){return this._storage.get(\"session._pages\")||1}},{key:\"avgSessionLength\",get:function(){var e=parseInt(this._storage.get(\"_navigation.totalSessions\"),10)||1;return(parseInt(this._storage.get(\"_navigation.totalPages\"),10)||1)/e}},{key:\"referrerFQDN\",get:function(){var e=\"\";if(Se()){var t=window.top.document.referrer;if(t)e=Be(t).hostname}return e}},{key:\"totalSessions\",get:function(){return this._storage.get(\"_navigation.totalSessions\")||1}},{key:\"previousPagetype\",get:function(){return this._storage.get(\"session._previousPagetype\")}},{key:\"currentPagetype\",get:function(){return this._storage.get(\"session._currentPagetype\")}},{key:\"allowBeaconSending\",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(-1===[\"avw\",\"bids\"].indexOf(e))return!0;switch(e){case\"bids\":t=\"number\"==typeof n?n:this._storage.get(\"session._bidsSmplg\"),0===this._storage.get(\"session.vwSmplg\")&&(t=0);break;case\"avw\":t=this._storage.get(\"session.vwSmplg\")}var i=this._storage.get(\"session.rnd\");return\"number\"!=typeof t||\"number\"!=typeof i||i<t}},{key:\"pageType\",set:function(e){var t=this.currentPagetype;null!=t&&this._storage.store(\"session._previousPagetype\",t),this._storage.store(\"session._currentPagetype\",e)}}])}(),Fe={avw:\"//c.4dex.io/avw.gif\",vrate:\"//c.4dex.io/vrate\",bids:\"//c.4dex.io/bids.gif\"},qe=[],He=!!navigator.sendBeacon,$e=Ce();$e.ADAGIO=$e.ADAGIO||{};var We=function(e){var t,n=function(e){var t=e.collector,n=e.data,i=e.eventType,a=[];if(!Fe[t])return!1;if(!(n=\"function\"==typeof n?n():{}))return!1;if(n.org_id&&-1!==qe.indexOf(n.org_id))return Te(\"Beacon cannot be sent due to blacklist\"),!1;if(n.adu_code){var r=n.adu_code;delete n.adu_code,a.push(encodeURIComponent(\"adu_code\")+\"=\"+encodeURIComponent(r))}var s=i||n.evt||\"\";for(var o in delete n.evt,a.push(encodeURIComponent(\"evt\")+\"=\"+encodeURIComponent(s)),n)a.push(encodeURIComponent(o)+\"=\"+encodeURIComponent(n[o]));return $e.ADAGIO.versions&&($e.ADAGIO.versions.adagiojs&&a.push(\"adgjsv=\".concat(encodeURIComponent($e.ADAGIO.versions.adagiojs))),$e.ADAGIO.versions.ssp&&a.push(\"sspv=\".concat(encodeURIComponent($e.ADAGIO.versions.ssp)))),$e.location.protocol+Fe[t]+\"?\"+a.join(\"&\")}({collector:e.collector,data:e.data,eventType:e.eventType});if(!n)return!1;try{(t=new XMLHttpRequest).onerror=function(){He&&navigator.sendBeacon(n)},t.open(\"post\",n),t.send()}catch(e){}},Je=function(e){var t=e.event,n=e.collector,i=e.data,a=t.element||$e;t._rule?\"unload\"===t._rule?$e.addEventListener(\"unload\",(function(){return We({collector:n,data:i,eventType:\"unload\"})})):\"visibilitychange\"===t._rule&&$e.document.addEventListener(\"visibilitychange\",(function(){\"hidden\"===$e.document.visibilityState&&We({collector:n,data:i,eventType:\"visibilitychange\"})})):a.addEventListener(t.name,(function(){if(\"function\"==typeof t.beforeSend){var e=t.beforeSend({collector:n,data:i});e&&We(Object.assign({},e,{eventType:t.name}))}else We({collector:n,data:i,eventType:t.name})}),!1)},Qe=function(e){var t=e.collector,n=e.data,i=e.events;if(i.length){var a,r=function(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var r,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw r}}}}(i);try{for(r.s();!(a=r.n()).done;){var s=a.value;Je({event:s,collector:t,data:n})}}catch(e){r.e(e)}finally{r.f()}}else We({collector:t,data:n})},Ke=function e(t,n){if(!n||!n.length)return!1;if(!t||\"function\"!=typeof t.getBoundingClientRect)return!1;try{var i=t.getBoundingClientRect(),a=Math.round(i.width)+\"x\"+Math.round(i.height);if(-1!==n.indexOf(a))return t;var r=t.querySelectorAll(\"*:not(script)\");if(r.length){for(var s=0,o=r.length;s<o;s++)if(t=e(r[s],n))return t;return!1}}catch(e){}return!1},Ze=function(e){var t=new Date(e.detail.ts).toString(),n=\"\";e.detail.data.event&&e.detail.data.event.slot?n=e.detail.data.event.slot.getSlotElementId():e.detail.data.args&&e.detail.data.args.slot&&(n=e.detail.data.args.slot.getSlotElementId()),n===this._adUnitElementId&&(Te(\"GPT impressionViewable: \".concat(n,\" at \").concat(t)),this.viewability.adserver.visible=!0,this.viewability.adserver.viewableSince=e.detail.ts,this.viewability.adserver.exposureDelta=this.viewability.adagio.exposureDuration-1e3,this.sendBeacon({becauseOf:\"vsbl_actvw\"}))},Ye=function(e){var t=e.detail.data.args,n=t.inViewPercentage,i=t.slot;return!!i&&(i.getSlotElementId()===this._adUnitElementId&&void(this.viewability.adserver.inViewport=n>=50))},Xe=function(){\"hidden\"===this.w.document.visibilityState&&(this.hasMaxExposureDuration()||this.sendBeacon({becauseOf:\"visibilitychange\"}))},et=function(){var e=Date.now();\"hidden\"===this.w.document.visibilityState?this.pageVisibility.ts=e:(this.pageVisibility.computedDuration+=e-this.pageVisibility.ts,this.pageVisibility.ts=!1)},tt=function(e,t,n){var i=e.adUnitCode,a=e.adUnitElementId,r=e.refreshConfig,s=e.currentPrintNumber,o=e.timeout,d=Ce();if(d.googletag){var u=d.googletag.pubads().getSlots().filter((function(e){return e.getSlotElementId()===a}))[0],c=function(e,t){var n=e.pbjs,i=e.ADAGIO.pbjsAdUnits.find((function(e){return e.code=t}));return i&&i.localPbjsRef&&(n=i.localPbjsRef),n}(d,i);u?(u.setTargeting(\"adg_refresh\",\"true\"),s&&u.setTargeting(\"adg_pn\",parseInt(s.toString(),10)+1),t({adUnitCode:i,adUnitElementId:a,refreshConfig:r,currentPrintNumber:s}).then((function(e){!1!==e&&n({pbjs:c,adUnitCode:i,timeout:o,bidsBackHandler:function(){c.setTargetingForGPTAsync(a),d.googletag.pubads().refresh([u])}})}))):Te(\"No slot detected for adunitCode \"+i+\" with elementId : \"+a)}else je(\"Can not find the property: googletag in window\")},nt=function(e,t){var n=e.adUnitCode,i=e.adUnitElementId,a=e.refreshConfig,r=Ce();if(r.sas){var s=r.ADAGIO.adUnits;!s||s[n]?t({adUnitCode:n,adUnitElementId:i,refreshConfig:a}).then((function(e){if(!1!==e)try{r.sas.refresh(n)}catch(e){Ne(e)}})):Te(\"No slot detected for adunitCode \"+n+\" with elementId : \"+i)}else je(\"Can not find the property: sas in window\")},it=function(e){if(!e.refreshConfig||!e.refreshConfig.beforeRefresh||\"function\"!=typeof e.refreshConfig.beforeRefresh)return new Promise((function(e){return e(!0)}));var t=e.refreshConfig.beforeRefresh(e);return Te(\"Refresh: handleBeforeRefresh\",t),new Promise((function(e,n){if(!(t instanceof Promise))return e(t);t.then((function(t){return e(t)})).catch((function(){return n(!1)}))}))},at=function(e){var t=e.adUnitCode,n=e.bidsBackHandler,i=e.pbjs,a=e.timeout;i.que.push((function(){i.requestBids({timeout:a,adUnitCodes:[t],bidsBackHandler:n})}))},rt=[\"1012\"],st={page_dimensions:\"pg_dims\",viewport_dimensions:\"vp_dims\",dom_loading:\"dom_l\",layout:\"lay\",adunit_position:\"adu_pos\",user_timestamp:\"u_ts\",device:\"dvc\",browser:\"brwsr\",url:\"url\",print_number:\"pn\"},ot={organizationId:\"org_id\",site:\"site\",placement:\"plcmt\",adUnitCode:\"adu_code\",pagetype:\"pgtyp\",category:\"cat\",subcategory:\"subcat\",environment:\"env\"},dt={adsrv:\"adsrv\",adsrv_advrt_id:\"adsrv_advrt_id\",adsrv_cmpgn_id:\"adsrv_cmpgn_id\",adsrv_crea_id:\"adsrv_crea_id\",adsrv_empty:\"adsrv_empty\",adsrv_lnitem_id:\"adsrv_lnitem_id\",adsrv_size:\"adsrv_size\"},ut=function(){var e=Ce();if(e)return e.ONFOCUS=e.ONFOCUS||{},e.ONFOCUS.donotrefresh||e.onfocus_donotrefresh||e.onfocus_donotrefresh_slots||e.ONFOCUS.donotrefresh_slots},ct=function(){return o((function e(t){var n=t.ts,i=t.adUnitElementId,a=t.auctionId,s=t.params,o=t.options,d=t.featuresManager,u=t.measurersManager,c=t.navigationFeatures;return r(this,e),Te(\"New measurer for adUnitElementId \".concat(i,\":\"),{params:s,options:o}),this.w=Ce(),this.navigationFeatures=c,this.featuresManager=d,this.measurersManager=u,this.params=s||{},this.options=o||{},this.auctionId=a,this.initTime=null,this.startTime=null,this.ts=n,this.navigationStart=Le(),this.internalId=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.resetCounter=0,this.resetTime=null,this.beaconVersion=0,this.intervalId=!1,this.avwBeaconTimeoutId=!1,this.refreshStarted=!1,this.refreshConfig=this.options.refresh||!1,this.doNotRefresh=!1,this.useIntersectionObserver=!0,this.clickListenerHandler=null,this.mouseHoverListenerHandler=null,this.mouseOutListenerHandler=null,this.gptImpressionViewable=Ze.bind(this),this.gptSlotVisibilityChanged=Ye.bind(this),this.pageVisibility={ts:!1,computedDuration:0},this._adUnitElementId=this.adUnitElementId=i,this.element={},this.prebidAdUnitConfig=this.options.adUnitConfig||[],this.throttleBeacons=\"boolean\"!=typeof this.options.throttleBeacons||this.options.throttleBeacons,this.beaconsQueue=[],this.beaconsPending=!1,this.limitFirstBeaconsTimer=!1,window.self.document.getElementById(this.adUnitElementId)?this.init()?(this.unbindBeaconEvents(),this.bindBeaconEvents(),void this.start()):(je(\"Unable to init measurer\"),!1):(je(\"Element to measure is missing in window: \".concat(this.adUnitElementId)),!1)}),[{key:\"init\",value:function(){this.initTime=Date.now(),this.measurable=!0;var e=this.getFeatures(this._adUnitElementId);if(this.features=e&&e.features?e.features:{},this.featuresVersion=e&&e.version?e.version:\"1\",this.clickListenerHandler=this.clickListener.bind(this),this.mouseHoverListenerHandler=this.mouseHoverListener.bind(this),this.mouseOutListenerHandler=this.mouseOutListener.bind(this),this.resetViewability(),!window.IntersectionObserver)return this.useIntersectionObserver=!1,this.measurable=!1,je(\"no intersection observer\"),void this.stop(\"noIObserver\");if(\"function\"!=typeof window.CustomEvent)return this.stop(\"noCustomEvent\"),!1;this.bindAdserverEvents();var t=this.detectBestDomElement();if(!t)return this.stop(\"noElement\"),!1;this.setElement(t),this.startBackgroundDetection(),Te(\"Init measurer for adUnitElementId \".concat(this.adUnitElementId,\" with this detected element:\"),{el:this.element.el,refresh:this.refreshConfig}),this.w.ADAGIO=this.w.ADAGIO||{},this.w.ADAGIO.doNotRefresh=ut()||this.w.ADAGIO.doNotRefresh||[];var n=this.params.adUnitCode||!1;return this.refreshConfig||(Te(\"No refreshConfig for this Measurer: \".concat(n)),this.doNotRefresh=!0),n||(Te(\"No adUnitCode for this Measurer: \".concat(n)),this.doNotRefresh=!0),Array.isArray(this.w.ADAGIO.doNotRefresh)&&-1!==this.w.ADAGIO.doNotRefresh.indexOf(\"*\")&&(Te(\"No Refresh because doNotRefresh is activate on the whole page\"),this.doNotRefresh=!0),Array.isArray(this.w.ADAGIO.doNotRefresh)&&n&&-1!==this.w.ADAGIO.doNotRefresh.indexOf(n)&&(Te(\"This adUnitCode is in the ADAGIO.doNotRefresh: \".concat(n)),this.doNotRefresh=!0),!0}},{key:\"resetViewability\",value:function(e){var t={adagio:{visible:!1,continuousCounter:0,viewableSince:null,exposureDuration:0,lastUpdateTs:!1,elementMouseOver:!1,exposureDurationOnClick:null,lastAttentionBeaconSent:0,inViewport:!1},adserver:{visible:!1,viewableSince:null,continuousCounter:0,exposureDuration:0,lastUpdateTs:!1,lastAttentionBeaconSent:0,exposureDelta:0,inViewport:!1}};e&&this.viewability&&Object.prototype.hasOwnProperty.call(this.viewability,e)?this.viewability[e]=Object.assign({},t[e]):this.viewability=Object.assign({},t),this.startObserver(!0)}},{key:\"detectBestDomElement\",value:function(){try{var e=window.self.document.getElementById(this.adUnitElementId),t=function(e){return Ke(e,f)}(e),n=!!t,i=function(e,t){return Ke(e,t)}(e,this.prebidAdUnitConfig.sizes&&this.prebidAdUnitConfig.sizes.length?this.prebidAdUnitConfig.sizes.map((function(e){return e[0]+\"x\"+e[1]})):[]),a=!!i,r=i||t||e;return{el:r,elId:r.id,size:this.formatElementSize(r),reasonNotMeasurable:t?v:h,hasIABDimensions:n,hasPbjsDimensions:a}}catch(e){return Ne(e),!1}}},{key:\"setElement\",value:function(e){this.element=e}},{key:\"hasMinPageExposureDuration\",value:function(){return!!(ze()&&Date.now()-ze()>=3e4)}},{key:\"hasMaxExposureDuration\",value:function(){return\"dfp\"===this.options.adsrv?this.viewability.adagio.exposureDuration>9e4||this.viewability.adserver.exposureDuration>9e4||this.viewability.adagio.exposureDuration>6e4&&this.viewability.adserver.exposureDuration>6e4:this.viewability.adagio.exposureDuration>6e4}},{key:\"formatElementSize\",value:function(e){try{var t=e.getBoundingClientRect();return[Math.round(t.width),Math.round(t.height)].join(\"x\")}catch(e){return\"0x0\"}}},{key:\"startBackgroundDetection\",value:function(){if(this.element.el&&!this.element.hasIABDimensions&&!this.element.hasPbjsDimensions&&this.options&&[0,\"0\"].includes(this.options.adsrv_empty)&&Date.now()<=this.initTime+4e3){var e=this;return setTimeout((function(){var t=e.detectBestDomElement();t&&(t.hasIABDimensions||t.hasPbjsDimensions)&&e.resetWithElement(t),e.startBackgroundDetection()}),50),!1}}},{key:\"start\",value:function(){if(this.startTime=Date.now(),\"function\"!=typeof window.CustomEvent)return this.stop(\"abort\"),!1;this.sendBeacon({becauseOf:\"start\"}),this.bindMouseListeners(this.element.el),this.bindClickListener(),this.bindMeasureEvents(),this.w.document.dispatchEvent(new CustomEvent(\"adagio.measure.afterStart\",{detail:{measure:this}}))}},{key:\"stop\",value:function(e){e=e||\"stop\",this.unbindAdserverEvents(),this.unbindMeasureEvents(),this.unbindClickListener(),this.element.el&&this.unbindMouseListeners(this.element.el),this.unbindBeaconEvents(),this.resetThrottledBeacon(),this.sendBeacon({becauseOf:e}),this.sendBeacon=function(){}}},{key:\"resetWithElement\",value:function(e){Te(\"Reset measurer for \".concat(this.adUnitElementId,\" with this element\"),e),this.resetCounter++,this.resetTime=Date.now(),this.element.el&&this.unbindMouseListeners(this.element.el),this.setElement(e),this.bindMouseListeners(this.element.el),this.resetViewability(),this.sendBeacon({becauseOf:\"reset\"})}},{key:\"startObserver\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this;this.observer&&!t||(this.observer=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting?n.viewability.adagio.inViewport=!0:(n.viewability.adagio.inViewport=!1,document.dispatchEvent(new CustomEvent(\"adagio.measure.onUpdateExposureDuration\",{detail:{elementId:e._adUnitElementId,measurer:\"adagio\",viewability:n.viewability.adagio}})))}))}),{threshold:[.49,.5,.51]}),this.observer.observe(window.document.getElementById(this._adUnitElementId)))}},{key:\"clickListener\",value:function(){var e=this.viewability.adagio;try{if(document.activeElement instanceof HTMLIFrameElement){var t=this.element.el.getBoundingClientRect(),n=document.activeElement.getBoundingClientRect(),i=!(t.right<n.left||t.left>n.right||t.bottom<n.top||t.top>n.bottom),a=this.element.el;a instanceof HTMLIFrameElement||(a=a.querySelector(\"iframe\")),(document.activeElement===a||e.elementMouseOver||i)&&null==e.exposureDurationOnClick&&(e.exposureDurationOnClick=e.exposureDuration,Te(\"Click event detected on  \".concat(this.element.elId,\" :\"),this))}}catch(e){Ne(e)}}},{key:\"bindClickListener\",value:function(){var e=this.params.adUnitCode||!1;if(e&&this.measurersManager)try{this.measurersManager.get(e)?je(\"Measure: click: clickListener already bound for adUnitCode \".concat(e)):window.addEventListener(\"blur\",this.clickListenerHandler,!1)}catch(e){Ne(e)}else Ne(\"Measure: click: unable to bind clickListener\")}},{key:\"unbindClickListener\",value:function(){window.removeEventListener(\"blur\",this.clickListenerHandler,!1)}},{key:\"mouseHoverListener\",value:function(){this.viewability.adagio.elementMouseOver=!0}},{key:\"mouseOutListener\",value:function(){this.viewability.adagio.elementMouseOver=!1}},{key:\"bindMouseListeners\",value:function(e){e&&(e.addEventListener(\"mouseover\",this.mouseHoverListenerHandler),e.addEventListener(\"mouseout\",this.mouseOutListenerHandler))}},{key:\"unbindMouseListeners\",value:function(e){e&&(e.removeEventListener(\"mouseover\",this.mouseHoverListenerHandler),e.removeEventListener(\"mouseout\",this.mouseOutListenerHandler))}},{key:\"bindAdserverEvents\",value:function(){this.unbindAdserverEvents(),this.w.document.addEventListener(\"adagio.gpt.impressionViewable\",this.gptImpressionViewable,!1),this.w.document.addEventListener(\"adagio.gpt.slotVisibilityChanged\",this.gptSlotVisibilityChanged,!1)}},{key:\"unbindAdserverEvents\",value:function(){this.w.document.removeEventListener(\"adagio.gpt.impressionViewable\",this.gptImpressionViewable),this.w.document.removeEventListener(\"adagio.gpt.slotVisibilityChanged\",this.gptSlotVisibilityChanged)}},{key:\"bindMeasureEvents\",value:function(){var e=this;this.startObserver(),this.intervalId=setInterval((function(){document.hidden?Object.keys(e.viewability).forEach((function(t){\"adagio\"!==t&&\"dfp\"!==e.options.adsrv||e.resetPreViewability(t)})):(\"dfp\"===e.options.adsrv&&e.updateActiveViewViewability(),e.updateViewabilityWithIntersectionObserver())}),50)}},{key:\"unbindMeasureEvents\",value:function(){clearInterval(this.intervalId)}},{key:\"bindBeaconEvents\",value:function(){this.w.document.addEventListener(\"visibilitychange\",Xe.bind(this),!1),this.w.document.addEventListener(\"visibilitychange\",et.bind(this),!1)}},{key:\"unbindBeaconEvents\",value:function(){this.w.document.removeEventListener(\"visibilitychange\",Xe),this.w.document.removeEventListener(\"visibilitychange\",et)}},{key:\"setBeaconTimeout\",value:function(e){var t=this;e=e||\"adagio\";var n=this.params.organizationId,i=this.viewability[e];this.avwBeaconTimeoutId||i.visible&&i.exposureDuration-i.lastAttentionBeaconSent>1e3&&!this.hasMaxExposureDuration()&&(this.avwBeaconTimeoutId=setTimeout((function(){-1===rt.indexOf(n)&&t.sendBeacon({becauseOf:\"exp_chg\"}),t.avwBeaconTimeoutId=!1,i.lastAttentionBeaconSent=i.exposureDuration}),5e3))}},{key:\"updateViewability\",value:function(){var e=Date.now(),t=this.viewability.adagio;t.visible||t.continuousCounter>=1e3&&(t.visible=!0,t.viewableSince=e,Te(\"Adagio impressionViewable: \".concat(this._adUnitElementId)),this.sendBeacon({becauseOf:\"vsbl\"})),this.updateExposureDuration(e,\"adagio\"),t.lastUpdateTs=e,this.setBeaconTimeout(\"adagio\"),this.w.document.dispatchEvent(new CustomEvent(\"adagio.measure.onUpdateViewability\",{detail:{measure:this}})),!1===this.refreshStarted&&!1===this.doNotRefresh&&this.refresh()}},{key:\"updateViewabilityWithIntersectionObserver\",value:function(){var e=Date.now(),t=this.viewability.adagio;if(!t.visible&&t.continuousCounter>=1e3){t.visible=!0,t.viewableSince=e;var n=new Date(t.viewableSince).toString();Te(\"Adagio impressionViewable with IObsrv: \".concat(this.element.elId,\" at \").concat(n)),this.sendBeacon({becauseOf:\"vsbl\"})}t.inViewport?(this.updateExposureDuration(e,\"adagio\"),t.lastUpdateTs=e,this.setBeaconTimeout(\"adagio\"),!1===this.refreshStarted&&!1===this.doNotRefresh&&this.refresh()):this.resetPreViewability(\"adagio\")}},{key:\"updateActiveViewViewability\",value:function(){var e=Date.now(),t=this.viewability.adserver;t.inViewport?(this.updateExposureDuration(e,\"adserver\"),t.lastUpdateTs=e,!1===this.refreshStarted&&!1===this.doNotRefresh&&this.refresh(\"adserver\"),this.setBeaconTimeout(\"adserver\")):this.resetPreViewability(\"adserver\")}},{key:\"refresh\",value:function(e){e=e||\"adagio\";var t=this.params.adUnitCode||!1;if(t){var n=!(!this.w.ADAGIO.adUnits||!this.w.ADAGIO.adUnits[t])&&this.w.ADAGIO.adUnits[t].printNumber,i=this.viewability[e];if(!n)return Te(\"No PrintNumber to start refresh for this adUnit: \".concat(t)),void(this.doNotRefresh=!0);if(n&&n>=this.refreshConfig.maxRefresh)return Te(\"Stoping refresh because currentPrintNumber is >= of \".concat(this.refreshConfig.maxRefresh,\" maxRefresh for this adUnit: \").concat(t)),void(this.doNotRefresh=!0);if((1!==n||this.hasMinPageExposureDuration())&&i.continuousCounter>=this.refreshConfig.timeToRefresh&&n<=this.refreshConfig.maxRefresh){var a=(ut()||[]).concat(this.w.ADAGIO.doNotRefresh||[]);if(Array.isArray(a)&&-1!==a.indexOf(\"*\"))return Te(\"No Refresh because doNotRefresh is activate on the whole page\"),this.doNotRefresh=!0,!1;if(Array.isArray(a)&&t&&-1!==a.indexOf(t))return Te(\"This adUnitCode is in the ADAGIO.doNotRefresh: \".concat(t)),this.doNotRefresh=!0,!1;this.refreshStarted=!0,Te(\"Trying to refresh adUnitCode: \"+t+\" at \"+i.continuousCounter+\" with conf: \",this.refreshConfig),function(e){var t=e.adUnitCode,n=e.adUnitElementId,i=e.refreshConfig,a=e.currentPrintNumber,r=new CustomEvent(\"adagio.refresh.onBeforeRefresh\",{detail:{adUnitCode:t,adUnitElementId:n,refreshConfig:i,currentPrintNumber:a},cancelable:!0});Ce().document.dispatchEvent(r)?\"dfp\"===i.adServer?tt(e,it,at):\"sas\"===i.adServer?nt(e,it):Te(\"No refresher has been defined\"):Te(\"Refresh is handled by the publisher itself\")}({adUnitCode:t,adUnitElementId:this.adUnitElementId,refreshConfig:this.refreshConfig,currentPrintNumber:n})}}else Te(\"No adUnitCode to start refresh for this adUnit: \".concat(t))}},{key:\"updateExposureDuration\",value:function(e,t){t=t||\"adagio\";var n=this.viewability[t];if(!n.lastUpdateTs)return 0;var i=e-n.lastUpdateTs;n.exposureDuration+=i,n.continuousCounter+=i}},{key:\"resetPreViewability\",value:function(e){e=e||\"adagio\";var t=this.viewability[e];t.lastUpdateTs=!1,t.visible||(t.continuousCounter=0),this.w.document.dispatchEvent(new CustomEvent(\"adagio.measure.onResetPreViewability\",{detail:{measure:this}}))}},{key:\"getFeatures\",value:function(e){var t;return(t=this.featuresManager.get(e))?Te(\"Freezed features(v\".concat(t.version,\") for \").concat(e,\" from adagioBidAdapter:\"),t.features):Te(\"No features found for \".concat(e)),t}},{key:\"sendThrottledBeacon\",value:function(){var e=this.beaconsQueue.pop();this.resetThrottledBeacon(),e&&(e.throttled=!0,this.sendBeacon(e))}},{key:\"resetThrottledBeacon\",value:function(){this.beaconsQueue=[],this.beaconsPending=!1}},{key:\"sendBeacon\",value:function(e){var t=this,n=this,i=(e=e||{}).events||[];return!!this.navigationFeatures&&(!!this.navigationFeatures.allowBeaconSending(\"avw\")&&(this.throttleBeacons&&-1!==[\"start\",\"reset\",\"vsbl\",\"vsbl_actvw\"].indexOf(e.becauseOf)&&!e.throttled?this.beaconsPending?void this.beaconsQueue.push(e):(this.beaconsPending=!0,this.beaconsQueue.push(e),void setTimeout(this.sendThrottledBeacon.bind(this),3e3)):void Qe({collector:\"avw\",data:function(){e=e||{};var i=Date.now(),a=ze(),r=0;try{r=(new Date).getTimezoneOffset()}catch(e){}var s=[];n.prebidAdUnitConfig&&Array.isArray(n.prebidAdUnitConfig.sizes)&&n.prebidAdUnitConfig.sizes.map((function(e){return s.push(e.join(\"x\"))}));var o={pv_id:t.w.ADAGIO&&t.w.ADAGIO.pageviewId?t.w.ADAGIO.pageviewId:\"\",adu_el_id:n.adUnitElementId,v:n.beaconVersion++,tz_off:r,evt:e.becauseOf||\"\",js_late:t.w.ADAGIO&&!0===t.w.ADAGIO.late?1:0,js_ts:t.w._ADAGIO&&t.w._ADAGIO.adagioStartTime?t.w._ADAGIO.adagioStartTime:\"\",size:n.element.size,pbjs_sizes:s.join(\",\"),is_pbjs_size:!0===n.element.hasPbjsDimensions?1:0,is_iab_size:!0===n.element.hasIABDimensions?1:0,msrbl:!0===n.measurable?1:0,adu_exp:n.viewability.adagio.exposureDuration,pg_durat:a?i-a:0,pg_paused:n.pageVisibility.computedDuration,pg_exp:a?i-a-n.pageVisibility.computedDuration:0,vsbl:!0===n.viewability.adagio.visible?1:0,adsrv_vsbl:!0===n.viewability.adserver.visible?1:0,adsrv_att_delta:n.viewability.adserver.exposureDelta,clk_time:null!=n.viewability.adagio.exposureDurationOnClick?n.viewability.adagio.exposureDurationOnClick:\"\",reset:n.resetCounter,adsrv_adu_exp:n.viewability.adserver.exposureDuration,navs_ts:null!=n.navigationStart?n.navigationStart:\"\",trgr_ts:null!=n.ts?parseInt(n.ts,10):\"\",init_ts:n.initTime,start_ts:n.startTime,reset_ts:null!=n.resetTime?n.resetTime:\"\",vsbl_ts:null!=n.viewability.adagio.viewableSince?n.viewability.adagio.viewableSince:\"\",adsrv_vsbl_ts:null!=n.viewability.adserver.viewableSince?n.viewability.adserver.viewableSince:\"\",auct_id:n.auctionId?n.auctionId:\"\"},d={};for(var u in n.params){if(Object.prototype.hasOwnProperty.call(ot,u))d[ot[u]]=n.params[u]?n.params[u]:\"\"}var c={featv:n.featuresVersion};for(var l in n.features){if(Object.prototype.hasOwnProperty.call(st,l))c[st[l]]=n.features[l];else c[l]=n.features[l]}c.pn||(c.pn=1);var f={sess_lngth:t.navigationFeatures.sessionLength,avg_sess_lngth:t.navigationFeatures.avgSessionLength,sess_cnt:t.navigationFeatures.totalSessions,rfr_fqdn:t.navigationFeatures.referrerFQDN,prv_pgtyp:t.navigationFeatures.previousPagetype},v={};for(var h in n.options){if(Object.prototype.hasOwnProperty.call(dt,h))v[dt[h]]=n.options[h]?n.options[h]:\"\"}return Object.assign(o,c,f,d,v),n.element.reasonNotMeasurable,o},events:i})))}}])}(),lt=new RegExp(/(^adagio$|[_-]adagio$|^adagio[_-])/i),ft=new RegExp(/^[a-zA-Z0-9-_]{1,50}$/),vt=new RegExp(/^[0-9]{4}$/),ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=\"adagio\"===(\"\"+t[e]).toLowerCase();return n||lt.test(e)},pt=function(e){var t=e||{},n=t.organizationId,i=t.site;return!(!vt.test(n)||!ft.test(i))},gt=function(e,t){var n=!1;if(e&&e.length){var i=e.filter((function(e){return e.code===t}));i.length&&(n=i[0])}return n},mt=function(e){return e.localPbjsRef&&e.localPbjsRef.aliasRegistry},bt=function(){var e=Ce();if(!e)return[];e.ADAGIO=e.ADAGIO||{};var t=void 0,n=function(e){t=Array.isArray(t)?t.concat(e):e};e.ADAGIO.pbjsAdUnits&&(t=e.ADAGIO.pbjsAdUnits),e.ADAGIO.rtbpbjsAdUnits&&n(e.ADAGIO.rtbpbjsAdUnits),e.ADAGIO.pbjsWtgAdUnits&&n(e.ADAGIO.pbjsWtgAdUnits);var i=Pe();return t.forEach((function(e){try{e.bids[0].params.environment||(e.bids[0].params.environment=i)}catch(e){je(e)}})),t},yt={AUCTION_INIT:\"auctionInit\",AUCTION_END:\"auctionEnd\",BID_ADJUSTMENT:\"bidAdjustment\",BID_TIMEOUT:\"bidTimeout\",BID_REQUESTED:\"bidRequested\",BID_RESPONSE:\"bidResponse\",BID_WON:\"bidWon\",BIDDER_DONE:\"bidderDone\",SET_TARGETING:\"setTargeting\",NO_BID:\"noBid\",REQUEST_BIDS:\"requestBids\",ADD_AD_UNITS:\"addAdUnits\",AD_RENDER_FAILED:\"adRenderFailed\"},At={code:\"\",bidder_ttr:\"\",no_bid:\"\",responses:[],timeout:\"\"},It={cpm:\"\",cpm_adjst_rate:\"\",net_rev:\"\",cur:\"\",cur_rate:\"\",ttr:\"\",sts:\"\",w:\"\",h:\"\",deal:\"\",crea_id:\"\",mt:\"\",won:\"\"},wt=function(){return o((function e(t){var n=t.adUnit;r(this,e);var i=n.code,a=n.auctionId;if(!i)throw new Error(\"`code` property must be provided\");if(!a)throw new Error(\"`auctionId` property must be provided\");this.code=i,this.auctionId=a,this.amts=\"\",this.asizes=\"\",this.referrer=\"\",this._dirty=!0,this._mediaTypes={},this.bidders=[],this.events=[]}),[{key:\"isDirty\",value:function(){return!!this._dirty}},{key:\"setDirty\",value:function(e){this._dirty=!!e}},{key:\"get\",value:function(e){return this[e]}},{key:\"set\",value:function(e,t){this[e]=t,this.setDirty(!0)}},{key:\"getBidders\",value:function(){return this.bidders||[]}},{key:\"getBidder\",value:function(e){return this.getBidders().find((function(t){return t.code===e}))}},{key:\"setBidder\",value:function(e,t){var i=this.getBidder(e);if(i||(i=n(n({},At),{},{code:e,responses:[]}),this.bidders.push(i)),t||(t={}),t.adId)if(Array.isArray(i.responses)||(i.responses=[]),i.responses.length){var a=!!t.adId&&t.adId,r=i.responses.find((function(e){return e.adId===a}));r?this.assignProperties(r,t):i.responses.push(this.assignProperties(n({},It),t))}else i.responses.push(this.assignProperties(n({},It),t));else this.assignProperties(i,t);this.setDirty(!0)}},{key:\"assignProperties\",value:function(e,t){return Object.keys(t).filter((function(e){return\"code\"!==e})).forEach((function(n){e[n]=t[n]})),e}}])}(),_t=Ce();_t.ADAGIO=_t.ADAGIO||{};var Ot=Le();function Dt(e,t,n){return e.map((function(e){var i=e[t];return\"function\"==typeof n&&(i=n(i)),\"string\"==typeof i&&(i=i.replace(/,/,\"_comma_\")),i})).join(\",\")}var Et=function(){return o((function e(t){var n,i,a,s,o,d=t.auctionId;r(this,e),this.auctionId=d,this.partid=(n=new Date,i=n.getUTCDate(),a=n.getUTCMonth()+1,s=n.getUTCFullYear(),o=n.getUTCHours(),i<10&&(i=\"0\"+i),a<10&&(a=\"0\"+a),o<10&&(o=\"0\"+o),s+a+i+o),this.auctionStart=-1,this.auctionEnd=-1,this.adUnits=[],this.beaconVersion=0,this.pageviewId=_t.ADAGIO.pageviewId||\"\",this.navigationFeatures=new Ve}),[{key:\"getOrAddAdunit\",value:function(e,t){if(!e)return!1;var i=this.adUnits.find((function(t){return t.code===e}));if(void 0===i){try{i=new wt({adUnit:{code:e,auctionId:this.auctionId}}),t&&\"function\"==typeof t&&t(i),this.adUnits.push(i)}catch(e){je(e)}_t.ADAGIO.adUnits=_t.ADAGIO.adUnits||{};var a=_t.ADAGIO.adUnits[e]||{};a.prebidAuctionId=this.auctionId,a.pageviewId=this.pageviewId,_t.ADAGIO.adUnits[e]=n({},a)}return i}},{key:\"setAuctionStart\",value:function(e){-1===this.auctionStart&&(this.auctionStart=e)}},{key:\"setAuctionEnd\",value:function(e){-1===this.auctionEnd&&(this.auctionEnd=e)}},{key:\"sendAfterPrebidAuction\",value:function(e){var t=this;e&&-1!==t.auctionStart&&setTimeout((function(){t.send(\"pbtimeout3\")}),e+3e3)}},{key:\"send\",value:function(e,t){if(!this.adUnits||!this.adUnits.length)return!1;var i=this.adUnits.map((function(e){return e.get(\"org_id\")})),a=!1;if([\"3598-www-larousse-fr\",\"80541-coinweek-com\",\"15771-dafont-com\"].includes(this.adUnits[0].site)&&(a=1),-1===i.indexOf(\"1101\")&&!this.navigationFeatures.allowBeaconSending(\"bids\",a))return!1;var r=this,s=Date.now();this.beaconVersion++,this.adUnits.forEach((function(i){if((!t||t===i.get(\"code\"))&&(i.getBidders().find((function(e){return ht(e.code)}))&&i.isDirty())){if(!pt({organizationId:i.get(\"org_id\"),site:i.get(\"site\")}))return je('bids: invalid \"site\" or \"organizationId\" in Prebid.js params'),!1;Qe({collector:\"bids\",data:function(){var t={ts:s,evt:e,pv_id:r.pageviewId,adu_code:i.get(\"code\"),amts:i.get(\"amts\"),asizes:i.get(\"asizes\"),url:i.get(\"referrer\"),auct_id:r.auctionId,auct_start:r.auctionStart,auct_end:r.auctionEnd,v:r.beaconVersion,js_late:_t.ADAGIO&&!0===_t.ADAGIO.late?1:0,js_ts:_t._ADAGIO&&_t._ADAGIO.adagioStartTime?_t._ADAGIO.adagioStartTime:\"\",navs_ts:null!=Ot?Ot:\"\",partid:r.partid},a=i.getBidders().map((function(e){var t;return t=e.responses.length&&e.responses.length>1?e.responses.reduce((function(e,t){return 1===t.won?t:1===e.won?e:e.cpm===t.cpm?e.ttr>t.ttr?t:e:e.cpm<t.cpm?t:e})):e.responses[0],e=n(n({},e),t)}));return t.bidders=i.getBidders().map((function(e){return e.code})).join(\",\"),t.cpm=Dt(a,\"cpm\"),t.cpm_adjst_rate=Dt(a,\"cpm_adjst_rate\"),t.net_rev=Dt(a,\"net_rev\"),t.cur=Dt(a,\"cur\"),t.cur_rate=Dt(a,\"cur_rate\"),t.ttr=Dt(a,\"ttr\"),t.bttr=Dt(i.getBidders(),\"bidder_ttr\"),t.sts=Dt(a,\"sts\"),t.w=Dt(a,\"w\"),t.h=Dt(a,\"h\"),t.deal=Dt(a,\"deal\"),t.timeout=Dt(i.getBidders(),\"timeout\"),t.won=Dt(a,\"won\"),t.no_bid=Dt(i.getBidders(),\"no_bid\"),t.crea_id=Dt(a,\"crea_id\"),t.mt=Dt(a,\"mt\"),t.cat=i.get(\"cat\")||\"\",t.dvc=i.get(\"dvc\")||\"\",t.env=i.get(\"env\")||\"\",t.org_id=i.get(\"org_id\")||\"\",t.pgtyp=i.get(\"pgtyp\")||\"\",t.plcmt=i.get(\"plcmt\")||\"\",t.site=i.get(\"site\")||\"\",t.subcat=i.get(\"subcat\")||\"\",t.os=i.get(\"os\")||\"\",t.brwsr=i.get(\"brwsr\")||\"\",t.u_ts=i.get(\"u_ts\")||\"\",t},events:[]}),i.setDirty(!1)}}))}}])}(),Ut=function(){\"hidden\"===Ce().visibilityState&&this.send(\"auct_visibilitychange\")},St={organizationId:\"org_id\",site:\"site\",placement:\"plcmt\",adUnitCode:\"adu_code\",pagetype:\"pgtyp\",category:\"cat\",subcategory:\"subcat\",environment:\"env\"},Ct={banner:\"ban\",outstream:\"vidout\",instream:\"vidin\",adpod:\"vidadpod\",native:\"nat\"},Gt=Ce(),xt=function(){return o((function e(t){return r(this,e),this._instance||(this.featuresManager=t,this.auctions={},this._instance=this),this._instance}),[{key:\"getInstance\",value:function(){return this._instance}},{key:\"add\",value:function(e){return this.auctions[e]=new Et({auctionId:e}),this.get(e)}},{key:\"get\",value:function(e){return e?this.auctions[e]:this.auctions}}])}(),kt=function(e,t){var n=e,i=n.get(t);return i||(n.add(t),i=n.get(t)),i},jt=function(e,t,n){return\"video\"===t?e._mediaTypes&&e._mediaTypes.video&&e._mediaTypes.video.context?n[e._mediaTypes.video.context]:\"\":n[t]},Nt=function(e,t,n){var i=e.bidderCode,a=e.bids,r=void 0===a?[]:a,s=e.refererInfo;r.forEach((function(e){var a=e.adUnitCode,r=e.mediaTypes,o=e.params,d=void 0===o?{}:o,u=e.features,c=void 0===u?{}:u,l=t.getOrAddAdunit(a,(function(e){var t=s.topmostLocation||s.legacy?s.legacy.referer:\"\";e.set(\"referrer\",t),e.set(\"_mediaTypes\",r),e.set(\"amts\",function(e,t){var n=[];return Object.keys(e).forEach((function(i){\"video\"===i?n.push(t[e[i].context]||\"\"):n.push(t[i])})),n.sort().join(\"|\")}(r,Ct)),e.set(\"asizes\",function(e,t){var n=[];return Object.keys(e).forEach((function(i){\"video\"===i?n.push({mt:t[e[i].context]||\"\",sizes:Pt(e[i].playerSize||[])}):n.push({mt:t[i],sizes:Pt(e[i].sizes||[])})})),n.sort((function(e,t){var n=0;return e.mt>t.mt?n=1:e.mt<t.mt&&(n=-1),n})).map((function(e){return e.sizes})).join(\"|\")}(r,Ct))}));if(l.setBidder(i),ht(i)){var f=[];for(var v in d)Object.prototype.hasOwnProperty.call(St,v)&&f.push({name:St[v],value:d[v]});var h=n.featuresManager.get(d.adUnitElementId)||{features:{}};h.features||(h.features={}),f.push({name:\"dvc\",value:c.device||h.features.device||\"\"}),f.push({name:\"os\",value:c.os||h.features.os||\"\"}),f.push({name:\"brwsr\",value:c.browser||h.features.browser||\"\"}),f.push({name:\"u_ts\",value:c.user_timestamp||\"\"}),f.forEach((function(e){l.set(e.name,e.value)}))}}))};function Tt(e,t){var n=e.auctionId;!function(e,t){var n=e.adId,i=e.adUnitCode,a=e.bidderCode,r=e.cpm,s=void 0===r?\"\":r,o=e.originalCpm,d=void 0===o?\"\":o,u=e.netRevenue,c=void 0===u?\"\":u,l=e.currency,f=void 0===l?\"\":l,v=e.timeToRespond,h=void 0===v?\"\":v,p=e.statusMessage,g=void 0===p?\"\":p,m=e.width,b=void 0===m?\"\":m,y=e.height,A=void 0===y?\"\":y,I=e.dealId,w=void 0===I?\"\":I,_=e.creativeId,O=void 0===_?\"\":_,D=e.mediaType,E=void 0===D?\"banner\":D,U=t.getOrAddAdunit(i);if(Array.isArray(Gt.ADAGIO.pbjsAdUnits)){var S=Gt.ADAGIO.pbjsAdUnits.find((function(e){return e.auctionId===U.auctionId&&e.code===U.code}));S&&(U.localPbjsRef=S.localPbjsRef)}var C=\"\",G=\"\";if(U.localPbjsRef&&U.localPbjsRef.convertCurrency){C=U.localPbjsRef.convertCurrency(1,\"USD\",f);var x=parseFloat((d*C).toFixed(4));G=0!==x?s/x:\"\"}U.setBidder(a,{adId:n,cpm:s,cpm_adjst_rate:G,net_rev:c?1:0,cur:f,cur_rate:\"\"!==C?1/C:\"\",ttr:h,sts:g,w:b,h:A,deal:w,crea_id:O,mt:jt(U,E,Ct)})}(e,kt(t,n))}var Rt=function(e,t,n,i){switch(t){case yt.AUCTION_INIT:!function(e,t){var n=Ce(),i=e.auctionId,a=e.bidderRequests,r=e.timestamp,s=kt(t,i);s.setAuctionStart(r),n.document.removeEventListener(\"visibilitychange\",Ut),n.document.addEventListener(\"visibilitychange\",Ut.bind(s),!1),a.forEach((function(e){Nt(e,s,t)})),s.send(\"init\")}(n,i);break;case yt.BID_RESPONSE:Tt(n,i);break;case yt.BIDDER_DONE:!function(e,t){var n=e.auctionId,i=e.bids,a=e.start,r=(new Date).getTime(),s=kt(t,n);i.forEach((function(e){var t=s.getOrAddAdunit(e.adUnitCode),n=e.bidder;t&&n&&t.setBidder(n,{bidder_ttr:r-a})}))}(n,i);break;case yt.NO_BID:!function(e,t){var n=e.auctionId,i=e.adUnitCode,a=e.bidder,r=kt(t,n).getOrAddAdunit(i),s=a;r&&s&&r.setBidder(s,{no_bid:1})}(n,i);break;case yt.BID_TIMEOUT:!function(e,t){e.forEach((function(e){var n=kt(t,e.auctionId).getOrAddAdunit(e.adUnitCode),i=e.bidder;n&&i&&n.setBidder(i,{timeout:1})}))}(n,i);break;case yt.AUCTION_END:!function(e,t){var n=e.auctionId,i=e.auctionEnd,a=e.bidderRequests,r=kt(t,n);r.setAuctionEnd(i),a.forEach((function(e){Nt(e,r,t)})),r.send(\"auct_end\"),setTimeout((function(){r.send(\"auct_end_2000\")}),2e3)}(n,i);break;case yt.BID_WON:!function(e,t){var n=e.auctionId,i=e.adUnitCode,a=e.bidderCode,r=e.adId,s=kt(t,n),o=s.getOrAddAdunit(i);o&&a&&(o.setBidder(a,{adId:r,won:1}),s.send(\"win\",i))}(n,i)}};function Pt(e){if(!e.length)return\"\";var t=\"\";return Array.isArray(e[0])?t=e.map((function(e){return\"\".concat(e[0],\"x\").concat(e[1])})).join(\"|\"):2===e.length&&(t=\"\".concat(e[0],\"x\").concat(e[1])),t}var Bt=function(){return o((function e(){r(this,e),this.measurers={},this.init()}),[{key:\"init\",value:function(){}},{key:\"store\",value:function(e){var t=e.params&&e.params.adUnitCode?e.params.adUnitCode:void 0;if(this.get(t))return!1;this.measurers[t]=e}},{key:\"get\",value:function(e){return e?this.measurers[e]:this.measurers}},{key:\"has\",value:function(e,t){var n=this.get(e);return n&&t?n.auctionId===t:!!n}},{key:\"getByAdUnitElementId\",value:function(e){var t=this,n=Object.keys(this.measurers);return!(!n||!n.length)&&n.filter((function(n){return t.measurers[n]&&t.measurers[n]._adUnitElementId===e}))}},{key:\"remove\",value:function(e){return delete this.measurers[e]}}])}();function Lt(){var e=Ce(),t=e.navigator.userAgent,n=t.toLowerCase();return/Edge\\/\\d./i.test(t)?\"edge\":n.indexOf(\"chrome\")>0?\"chrome\":n.indexOf(\"firefox\")>0?\"firefox\":n.indexOf(\"safari\")>0?\"safari\":n.indexOf(\"opera\")>0?\"opera\":n.indexOf(\"msie\")>0||e.MSStream?\"ie\":\"unknow\"}var zt=function(){return o((function e(){r(this,e),this._featuresByAdUnitElementId={},this.init()}),[{key:\"init\",value:function(){}},{key:\"storeLegacy\",value:function(e,t,n){if(\"object\"!==a(t)||this.get(e)&&!n)return!1;this._featuresByAdUnitElementId[e]=t}},{key:\"store\",value:function(e,t){var i=e.adUnitCode,r=e.features,s=e.params;if(s.adUnitElementId){if(\"object\"!==a(r)||this.get(s.adUnitElementId)&&!t)return je(\"Features cannot be set. data.features is not an object. adUnitCode: \".concat(i)),!1;var o=\"\";Se()&&(o=Ce().location.href||\"\");var d,u,c=n(n({},r),{device:(u=Ce().navigator.userAgent,/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(u)?5:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/.test(u)?4:2).toString(),os:(d=Ce().navigator.userAgent.toLowerCase(),d.indexOf(\"linux\")>0?\"linux\":d.indexOf(\"mac\")>0?\"mac\":d.indexOf(\"win\")>0?\"windows\":\"\"),browser:Lt(),url:o});this._featuresByAdUnitElementId[s.adUnitElementId]={version:\"_\",features:c}}else je(\"Features cannot be set. Missing adUnitElementId. adUnitCode: \".concat(i))}},{key:\"get\",value:function(e){return e?this._featuresByAdUnitElementId[e]:this._featuresByAdUnitElementId}}])}();var Mt=[[\"rubicon\",\"secure-assets.rubiconproject.com\"],[\"pubmatic\",\"ads.pubmatic.com\"],[\"improvedigital\",\"ice.360yield.com\"],[\"onetag\",\"onetag-sys.com\"],[\"indexexchange\",\"ssum-sec.casalemedia.com\"],[\"richaudience\",\"sync.richaudience.com\"],[\"33across\",\"ssc-cms.33across.com\"],[\"appnexus\",\"ib.adnxs.com\"],[\"smart\",\"ssbsync.smartadserver.com\"],[\"adyoulike\",\"visitor.omnitagjs.com\"],[\"sovrn\",\"ap.lijit.com\"],[\"freewheel\",\"ads.stickyadstv.com\"],[\"openx\",\"u.openx.net\"],[\"openxpbs\",\"u.openx.net\"],[\"triplelift\",\"eb2.3lift.com\"],[\"eplanning\",\"ads.us.e-planning.net\"],[\"unruly\",\"sync.1rx.io\"]],Vt=[];e.adagioStartTime=Date.now();var Ft=function(e,t){var n=Ce(),i=new RegExp(/^(<iframe[a-z0-9\\s-_'\"=%;:]+src=[\"'](https?:\\/\\/[a-z0-9-.()#_?=&%/[\\]]+)[a-z0-9\\s-_'\"=%;:]+><\\/iframe>)(?![<])$/i),a=new RegExp(/^(<img[a-z0-9\\s-_'\"=%;:]+src=[\"'](https?:\\/\\/[a-z0-9-.()#_?=&%/[\\]]+)[a-z0-9\\s-_'\"=%;:]+?\\/>)(?![<])$/i),r=n.document.getElementsByTagName(\"body\")[0],s=i.test(e.html),o=a.test(e.html);return e.html&&(s||o)?(setTimeout((function(){r.insertAdjacentHTML(\"beforeend\",e.html)}),t),!0):(Te(\"userSyncing: html markup is not valid to be added to the DOM.\"),!1)},qt=function(e){var t=new Ue,n=Lt(),i=t.get(\"syncs\")||{},a=u(Mt);Ce().ADAGIO&&Ce().ADAGIO.bdrSyncs&&Ce().ADAGIO.bdrSyncs.length&&a.push.apply(a,u(Ce().ADAGIO.bdrSyncs));var r=Date.now(),s=0;e&&Array.isArray(e.user_syncs)&&e.user_syncs.forEach((function(e){var o=1e3*s;if(\"safari\"===n){Te(\"userSyncing: enter in Safari mode\");var d=function(e,t){var n=new RegExp(/src=[\"'](https?:\\/\\/[^'\"]+)[\"']/),i=e.match(n);i[1]||je(\"userSyncing: unable to find src in markup\");var a=Be(i[1]);return t.filter((function(e){return e[1]===a.hostname}))}(e.html,a);if(!d||!d.length)return void je(\"userSyncing: no bidder found\",e.html);d.forEach((function(n){var a=n[0];if(Object.prototype.hasOwnProperty.call(i,a)){var d=i[a];r>=d+216e5&&Ft(e,o)&&(i[a]=r,t.store(\"syncs\",i),s++)}else Ft(e,o)&&(i[a]=r,t.store(\"syncs\",i),s++)}))}else Ft(e,o),s++}))},Ht=function(e,t,n,i,a){var r=bt(),s=e.options||{};if(e.adUnitCode&&r){var o=Ce(),d=o.ADAGIO.adUnits&&o.ADAGIO.adUnits[e.adUnitCode]&&o.ADAGIO.adUnits[e.adUnitCode].auctionId;if(!d)return je(\"Cannot start measurer.\",\"\".concat(e.adUnitCode,\": no auctionId config found in window.ADAGIO.adUnits\")),!1;if(o.ADAGIO.adUnits[e.adUnitCode].pageviewId!==o.ADAGIO.pageviewId)return je(\"Cannot start measurer.\",\"\".concat(e.adUnitCode,\": non consistent pageviewId for window.ADAGIO.adUnits\")),!1;if(i.has(e.adUnitCode,d))return je(\"Cannot start measurer.\",\"\".concat(e.adUnitCode,\": a measurer is already registred for current auction \").concat(d)),i.get(e.adUnitCode).stop(),i.remove(e.adUnitCode),!1;var u=i.get(e.adUnitCode);if(u&&u.auctionId!==d&&(u.stop(),i.remove(e.adUnitCode)),!u&&e.adUnitElementId){var c=i.getByAdUnitElementId(e.adUnitElementId);c&&c.map((function(e){var t=i.get(e);t&&(t.stop(),i.remove(e))}))}var l=function(e,t){var n=gt(e,t),i=!1;if(n){var a=mt(n),r=n.bids.filter((function(e){return ht(e.bidder,a)}));r.length&&(i=r[0])}return i}(r,e.adUnitCode);if(!l)return je(\"Cannot start measurer.\",\"\".concat(e.adUnitCode,\": adagio bidder has not been set (see prebid.js)\")),!1;var f=function(e){if(!e||!e.params||!e.params.adUnitElementId)return!1;var t=e.params;return{adUnitElementId:t.adUnitElementId,category:t.category||\"\",environment:t.environment||\"\",organizationId:t.organizationId||\"\",pagetype:t.pagetype||\"\",placement:t.placement||\"\",site:t.site||\"\",size:t.size||\"\",subcategory:t.subcategory||\"\",postBid:t.postBid||!1}}(l);if(!f)return je(\"Cannot start measurer.\",\"\".concat(e.adUnitCode,\": no params. Mainly due to lack of adUnitElementId in Adagio bidder params\")),!1;if(f=Object.assign({},f,{adUnitCode:e.adUnitCode}),!pt(f))return je(\"Cannot start measurer.\",\"\".concat(e.adUnitCode,': invalid \"site\" or \"organizationId\" in Prebid.js params')),!1;var v=gt(r,e.adUnitCode);f.organizationId&&f.site&&(s.refresh=Vt.find((function(t){return t.adUnitCode==e.adUnitCode}))),s.refresh&&(s.adsrv?s.refresh.adServer=s.adsrv:je(\"Cannot detect adserver.\")),v&&(s.adUnitConfig=v),t&&(s._window=t);var h=f.adUnitElementId;new ct({ts:e.ts,adUnitElementId:h,auctionId:d,params:f,options:s,featuresManager:n,measurersManager:i,navigationFeatures:a})}else je(\"Cannot start measurer.\",{msg:\"no adUnitCode or adUnitsArray\"})},$t=function(e,t,n,i,r){var s=t.adsrv,o=t.action,d=t.eventName,u=t.afterOptions;if(e.action!==o||!e.data.eventName)return!1;if(e.data.eventName===d){var c=e.data.args.elementId,l=bt();if(!l)return void Te(\"\".concat(s,\": Could not find ADAGIO.pbjsAdUnits or pbjs.adUnits before starting a measurer for \").concat(c));var f=l.filter((function(e){var t=mt(e);return e.bids.find((function(e){return ht(e.bidder,t)&&e.params.adUnitElementId===c}))}));if(!f||!f.length)return void Te(\"\".concat(s,\": Could not find adUnitCode from adUnitElementId \").concat(c));f=f.pop().code,Te(\"Start a measurer from \".concat(s,\".\").concat(d,\" event for adUnitCode \").concat(f,\". Delay from queued: \").concat(Date.now()-e.ts));var v={adsrv:s,adsrv_crea_id:e.data.args.creativeId,adsrv_empty:!0===e.data.args.isEmpty?\"1\":\"0\",adsrv_size:function(e){if(Array.isArray(e)){var t=[\"string\",\"number\"];if(2===e.length&&(t.indexOf(a(e[0]))>0||t.indexOf(a(e[1]))>0))return e.join(\"x\")}if(\"string\"==typeof e&&new RegExp(/^\\d{1,4}x\\d{1,4}$/).test(e))return e;return\"\"}(e.data.args.creativeSize)};\"function\"==typeof u&&u(e,v),Ht({ts:e.ts,adUnitCode:f,adUnitElementId:c,options:v},e.data._window,n,i,r)}},Wt=function(t,i){var r=i.auctionsManager,s=i.navigationFeatures,o=i.adagioNavigation,d=i.featuresManager,u=i.measurersManager,c=Ce();if(c._ADAGIO=c._ADAGIO||{},ke()&&(c._ADAGIO.queueHistory=c._ADAGIO.queueHistory||[],c._ADAGIO.queueHistory.push(t),c._ADAGIO.queueHistory.length>100&&c._ADAGIO.queueHistory.shift()),\"object\"!==a(t)||!t.action)return!1;if(\"ssp-data\"===t.action){!function(e){e&&(e.ssp_version||e.sspVersion)&&(Ce().ADAGIO.versions.ssp=e.ssp_version||e.sspVersion)}(t.data),function(e,t){try{if(e&&\"number\"==typeof e.vwSmplgNxt){var n=Ce();t.setSampling(n.ADAGIO.pageviewId,{vwSmplgNxt:e.vwSmplgNxt}),t.setVwSamplingNext(e.vwSmplgNxt)}}catch(e){Te(e)}}(t.data,o),qt(t.data),function(e){if(!e||!e.refresh)return!1;var t=Ce();e.refresh.map((function(e){t.ADAGIO.adUnits&&t.ADAGIO.adUnits[e.adUnitCode]&&!t.ADAGIO.adUnits[e.adUnitCode].printNumber&&(t.ADAGIO.adUnits[e.adUnitCode].printNumber=1),void 0===e.adServer&&(e.timeToRefresh=1e3*e.timeToRefresh),Vt.push(e)}))}(t.data);var l=bt();if(l&&l.length&&Array.isArray(l[0].bids)){var f=mt(l[0]),v=l[0].bids.find((function(e){return ht(e.bidder,f)}));v&&v.params&&v.params.pagetype&&(s.pageType=v.params.pagetype)}}else if(\"features\"===t.action)t.data.adUnitCode?d.store(t.data,!0):Object.keys(t.data).map((function(e){d.storeLegacy(e,t.data[e],!0)}));else if(\"store\"===t.action){if(!t.data)return void Ne(\"store action called without ob.data\");Te(\"store action called with data:\",t.data);var h=t.data.bidderRequestsCount?t.data.bidderRequestsCount.toString():\"1\",p=t.data,g=p.organizationId,m=p.site,b=p.adUnitCode,y=p.ortb2,A=void 0===y?{}:y,I=p.ortb2Imp,w=void 0===I?{}:I,_=p.params,O=void 0===_?{}:_,D=p.mediaTypes,E=void 0===D?{}:D,U=p.localPbjs,S=p.localPbjsRef,C=A.adg_rtd||{},G=n(n(n({},C.features||{}),w.adg_rtd),{},{print_number:h});d.store({features:G,params:{adUnitElementId:w.divId},adUnitCode:t.data.adUnitCode},!0);var x=new Set,k=E.banner,j=E.video;k&&Array.isArray(k.sizes)&&k.sizes.length&&(Array.isArray(k.sizes[0])?k.sizes.forEach((function(e){return x.add(e)})):x.add([k.sizes])),j&&Array.isArray(j.playerSize)&&j.playerSize.length&&x.add(j.playerSize[0]);var N=c.ADAGIO.pbjsAdUnits.filter((function(e){return e.code!==t.data.adUnitCode}));N.push({code:b,mediaTypes:E,sizes:Array.from(x),bids:[{bidder:\"adagio\",params:{organizationId:g,site:m,pagetype:A.pagetype,category:A.category,placement:w.placement,adUnitElementId:w.divId}}],auctionId:C.uid||O.adagioAuctionId,pageviewId:c.ADAGIO.pageviewId,printNumber:h,localPbjs:U,localPbjsRef:S}),c.ADAGIO.pbjsAdUnits=N,c.ADAGIO.adUnits[b]={auctionId:C.uid||O.adagioAuctionId,pageviewId:c.ADAGIO.pageviewId,printNumber:h}}else if(\"gpt-event\"===t.action)!function(e,t,n,i){if(\"gpt-event\"!==e.action||!e.data.eventName)return!1;var a=Ce();if(\"slotRenderEnded\"===e.data.eventName){var r=e.data.args,s=r.advertiserId,o=r.campaignId,d=r.creativeId,u=r.isEmpty,c=r.lineItemId,l=r.size,f=r.slot,v=f.getSlotElementId(),h=bt();if(!h)return void Te(\"DFP: Could not find ADAGIO.pbjsAdUnits or pbjs.adUnits before starting a measurer for \".concat(v));var p=h.filter((function(e){var t=mt(e);return e.bids.find((function(e){return ht(e.bidder,t)&&e.params.adUnitElementId===v}))}));if(p.length>0){if(p[0].bids.length&&p[0].bids[0].params&&-1!==[1013,\"1013\",1026,\"1026\",1090,\"1090\"].indexOf(p[0].bids[0].params.organizationId))return void Te(\"DFP: by-pass due to organizationId exception\");p=p[0].code}else{if(!(a.ADAGIO&&a.ADAGIO.pbjsAdUnits&&a.ADAGIO.pbjsAdUnits.length))return void Te(\"DFP: Cannot start measurer\",\"Could not find adUnitCode from adUnitElementId (2): \".concat(v));var g=f.getAdUnitPath(),m=a.ADAGIO.pbjsAdUnits.find((function(e){return e.code===g||e.code===v}));if(!m)return void Te(\"DFP: Cannot start measurer\",\"Could not find adUnitCode from adUnitElementId (1): \".concat(v));Te(\"DFP: auto-detect prebid adunit\",\"update ADAGIO.pbjsAdUnit array with adUnitElementId: \".concat(v)),m.bids[0].params.adUnitElementId=v,p=m.code}Te(\"Start a measurer from gpt.slotRenderEnded event for \".concat(v,\". Delay from queued: \").concat(Date.now()-e.ts)),Ht({ts:e.ts,adUnitCode:p,options:{adsrv:\"dfp\",adsrv_advrt_id:s,adsrv_cmpgn_id:o,adsrv_crea_id:d,adsrv_empty:!0===u?\"1\":\"0\",adsrv_lnitem_id:c,adsrv_size:l&&\"undefined\"!==l.join?l.join(\"x\"):\"\"}},e.data._window,t,n,i)}\"function\"==typeof window.CustomEvent&&a.document.dispatchEvent(new CustomEvent(\"adagio.gpt.\"+e.data.eventName,{detail:e}))}(t,d,u,s);else if(\"adagio-hb-event\"===t.action)$t(t,{adsrv:\"hbagency\",action:\"adagio-hb-event\",eventName:\"renderEvent\"},d,u,s);else if(\"adagio-avs-render\"===t.action)$t(t,{adsrv:\"thm\",action:\"adagio-avs-render\",eventName:\"renderEvent\"},d,u,s);else if(\"adagio-my-adserver-events\"===t.action)$t(t,{adsrv:\"default\",action:\"adagio-my-adserver-events\",eventName:\"renderEvent\"},d,u,s);else if(\"splcznsci-event\"===t.action)$t(t,{adsrv:\"splcznsci\",action:\"splcznsci-event\",eventName:\"renderEvent\"},d,u,s);else if(\"adagio-creative-rendered\"===t.action)$t(t,{adsrv:\"sovrn\",action:\"adagio-creative-rendered\",eventName:\"renderEvent\"},d,u,s);else if(\"adagio-hbPROJECT-event\"===t.action)$t(t,{adsrv:\"hbproject\",action:\"adagio-hbPROJECT-event\",eventName:\"renderEvent\"},d,u,s);else if(\"skyboard-event\"===t.action)$t(t,{adsrv:\"skyboard\",action:\"skyboard-event\",eventName:\"renderEvent\"},d,u,s);else if(\"purpleads-events\"===t.action)$t(t,{adsrv:\"purpleads\",action:\"purpleads-events\",eventName:\"renderEvent\"},d,u,s);else if(\"sas-event\"===t.action)!function(e,t,n,i){if(\"sas-event\"!==e.action||!e.data.eventName)return!1;var a=Ce();if(\"noad\"===e.data.eventName){var r=e.data.args.formatId,s=bt();if(!s)return void Te(\"SAS: Could not find ADAGIO.pbjsAdUnits or pbjs.adUnits before starting a measurer for \".concat(r));s.filter((function(t){return t.code===e.data.args.tagId})).length&&(r=e.data.args.tagId),r=\"number\"==typeof r?r.toString():r,a.ADAGIO.adUnits&&a.ADAGIO.adUnits[r]&&(a.ADAGIO.adUnits[r].sasNoad=!0)}if(\"setHeaderBiddingWinner\"===e.data.eventName){var o=e.data.args.formatId,d=bt();if(!d)return void Te(\"SAS: Could not find ADAGIO.pbjsAdUnits or pbjs.adUnits before starting a measurer for \".concat(o));if(d.filter((function(t){return t.code===e.data.args.tagId})).length)o=e.data.args.tagId;else{var u=d.find((function(t){return!(!t.bids||!t.bids.find((function(t){return e.data.args.tagId===t.params.adUnitElementId})))}));u&&(o=u.code)}o=\"number\"==typeof o?o.toString():o;var c=!1;a.ADAGIO.adUnits&&a.ADAGIO.adUnits[o]&&a.ADAGIO.adUnits[o].sasNoad&&(c=!!a.ADAGIO.adUnits[o].sasNoad,delete a.ADAGIO.adUnits[o].sasNoad),Te(\"Start a measurer from SAS\",\"\".concat(e.data.eventName,\" event for \").concat(o,\". Delay from queued: \").concat(Date.now()-e.ts)),Ht({ts:e.ts,adUnitCode:o,options:{adsrv:\"sas\",adsrv_empty:c?\"1\":\"0\"}},e.data._window,t,n,i)}\"function\"==typeof window.CustomEvent&&a.document.dispatchEvent(new CustomEvent(\"adagio.sas.\"+e.data.eventName,{detail:e}))}(t,d,u,s);else if(\"ast-event\"===t.action)!function(e,t,n,i){if(\"ast-event\"!==e.action||!e.data.eventName)return!1;if(\"adLoaded\"===e.data.eventName&&\"banner\"===e.data.args[0].adType){var a=e.data.args[0],r=a.targetId,s=a.creativeId,o=a.width,d=a.height,u=bt();if(!u)return void Te(\"AST: Could not find ADAGIO.pbjsAdUnits or pbjs.adUnits before starting a measurer for \".concat(r));var c=u.filter((function(e){var t=mt(e);return e.bids.find((function(e){return ht(e.bidder,t)&&e.params.adUnitElementId===r}))}));if(!c.length)return void Te(\"AST: Cannot start measurer\",\"Could not find adUnitCode from adUnitElementId: \".concat(r));c=c[0].code,Te(\"Start a measurer from ast.asLoaded event for \".concat(r,\". Delay from queued: \").concat(Date.now()-e.ts)),Ht({ts:e.ts,adUnitCode:c,adUnitElementId:r,options:{adsrv:\"ast\",adsrv_crea_id:s,adsrv_empty:0,adsrv_size:\"\".concat(o,\"x\").concat(d)}},e.data._window,t,n,i)}}(t,d,u,s);else if(\"pb-analytics-event\"===t.action)Rt(0,t.data.eventName,t.data.args,r);else if(\"reset\"===t.action)!function(t){Te(\"Reset action called\");var n=Ce(),i=t.get();for(var a in i){var r=i[a];r.stop(),t.remove(r.params.adUnitCode)}e.adagioStartTime=Date.now(),n.ADAGIO.pageviewId=Re()}(u);else if(\"session\"===t.action){var T=t.data&&t.data.session?t.data.session:{},R=T.rnd,P=T.id,B=T.new,L=T.initiator;try{o.startOrUpdate({rnd:R,id:P,isNew:B,initiator:L}),o.setSampling(c.ADAGIO.pageviewId)}catch(e){Te(e)}}else je('queue: Unknown action \"'.concat(t.action,'\" in payload ').concat(t))};!function(){var e=Ce();try{var t=document.currentScript;t&&t.id&&t.id.startsWith(\"adagiojs-\")&&(Te(\"remove adagioScript from localStorage\"),e.localStorage.removeItem(\"adagioScript\"))}catch(e){Ne(e)}try{!function(){var e=Ce();if(e.ADAGIO=e.ADAGIO||{},e.ADAGIO.cleanAdIsLoading=e.ADAGIO.cleanAdIsLoading||!1,e.ADAGIO.cleanAdIsLoaded=e.ADAGIO.cleanAdIsLoaded||!1,!e.ADAGIO.cleanAdIsLoading&&!e.ADAGIO.cleanAdIsLoaded){e.ADAGIO.cleanAdIsLoading=!0;var t=e.document.createElement(\"script\");t.src=\"https://cadmus.script.ac/dahhc4ozyvjm6/script.js\",t.async=!0,t.setAttribute(\"data-client-key\",\"7d1ed67e-10ef-4c22-b165-710c6bfa1345\"),t.setAttribute(\"data-api-integration-mode\",\"prebid\");var n=function n(){t.removeEventListener(\"load\",n),e.document.head.contains(t)||(e.ADAGIO.cleanAdIsLoaded=!0,e.ADAGIO.cleanAdIsLoading=!1)};t.addEventListener(\"load\",n),setTimeout((function(){e.ADAGIO.cleanAdIsLoaded||(t.removeEventListener(\"load\",n),e.document.head.removeChild(t)),e.ADAGIO.cleanAdIsLoading=!1}),1e3),e.document.head.appendChild(t)}}()}catch(e){Ne(e)}e.ADAGIO&&!0===e.ADAGIO.hasRtd||function(){var e={GPT:{IMPRESSION_VIEWABLE:\"impressionViewable\",SLOT_ON_LOAD:\"slotOnload\",SLOT_RENDER_ENDED:\"slotRenderEnded\",SLOT_REQUESTED:\"slotRequested\",SLOT_RESPONSE_RECEIVED:\"slotResponseReceived\",SLOT_VISIBILITY_CHANGED:\"slotVisibilityChanged\"},SAS:{CALL:\"call\",CLEAN:\"clean\",BEFORE_RENDER:\"beforeRender\",CMP_ANSWERED:\"CmpAnswered\",CMP_CALLED:\"CmpCalled\",LOAD:\"load\",NOAD:\"noad\",RENDER:\"render\",RESET:\"reset\",AD:\"ad\",SET_HEADER_BIDDING_WINNER:\"setHeaderBiddingWinner\"},AST:{adRequested:\"adRequested\",adAvailable:\"adAvailable\",adBadRequest:\"adBadRequest\",adLoaded:\"adLoaded\",adNoBid:\"adNoBid\",adRequestFailure:\"adRequestFailure\",adError:\"adError\",adCollapse:\"adCollapse\"}},t=Ce();t.ADAGIO=t.ADAGIO||{},t.ADAGIO.windows=t.ADAGIO.windows||[];var n=window.self,i=t.ADAGIO.windows.find((function(e){return e.self===n}));i||(i={self:n},t.ADAGIO.windows.push(i));try{if(!0===i.gpt||\"gpt\"===i.adserver)return;n.googletag=n.googletag||{},n.googletag.cmd=n.googletag.cmd||[],n.googletag.cmd.push((function(){Object.keys(e.GPT).map((function(t){return e.GPT[t]})).forEach((function(e){n.googletag.pubads().addEventListener(e,(function(i){t.ADAGIO.queue.push({action:\"gpt-event\",data:{eventName:e,args:i,_window:n},ts:Date.now()})}))})),i.gpt=!0,i.adserver=\"gpt\"}))}catch(e){}try{if(!0===i.sas||\"sas\"===i.adserver)return;n.sas=n.sas||{},n.sas.cmd=n.sas.cmd||[],n.sas.cmd.push((function(){Object.keys(e.SAS).map((function(t){return e.SAS[t]})).forEach((function(e){n.sas.events.on(e,(function(i){t.ADAGIO.queue.push({action:\"sas-event\",data:{eventName:e,args:i,_window:n},ts:Date.now()})}))})),i.sas=!0,i.adserver=\"sas\"}))}catch(e){}try{if(!0===i.ast||\"ast\"===i.adserver)return;n.apntag=n.apntag||{},n.apntag.anq=n.apntag.anq||[],n.apntag.anq.push((function(){Object.keys(e.AST).map((function(t){return e.AST[t]})).forEach((function(e){n.apntag.onEvent(e,(function(){t.ADAGIO.queue.push({action:\"ast-event\",data:{eventName:e,args:arguments,_window:n},ts:Date.now()})}))})),i.ast=!0,i.adserver=\"ast\"}))}catch(e){}}(),e.ADAGIO&&!0===e.ADAGIO.loaded?Te(\"adagio.js already loaded\"):(!function(){Te(\"Initialize adagio.js\");var e=Ce(),t=new Me,n=new Ve,i=new zt,a=new Bt,r=new xt(i).getInstance();for(e.ADAGIO=e.ADAGIO||{},e.ADAGIO.versions=e.ADAGIO.versions||{},e.ADAGIO.versions.adagiojs=\"2.0.10\",e.ADAGIO.pageviewId=e.ADAGIO.pageviewId||Re(),e.ADAGIO.features=e.ADAGIO.features||i,e.ADAGIO.spl=e.ADAGIO.spl||{},e.ADAGIO.spl.avw=e.ADAGIO.spl.avw||!1,e.ADAGIO.spl.bids=e.ADAGIO.spl.bids||!1,e.ADAGIO.queue=e.ADAGIO.queue||[],e.ADAGIO.windows=e.ADAGIO.windows||[],e.document.addEventListener(\"adagio.measure.afterStart\",(function(e){a.store(e.detail.measure)}));e.ADAGIO.queue.length;)Wt(e.ADAGIO.queue.shift(),{auctionsManager:r,navigationFeatures:n,adagioNavigation:t,featuresManager:i,measurersManager:a});e.ADAGIO.queue.push=function(e){try{Wt(e,{auctionsManager:r,navigationFeatures:n,adagioNavigation:t,featuresManager:i,measurersManager:a})}catch(t){Ne(\"process queue\",e.action,t)}}}(),Te(\"adagio.js loaded: vers. \".concat(\"2.0.10\")),e.ADAGIO.loaded=!0)}();var Jt=Ce()._ADAGIO&&Ce()._ADAGIO.queueHistory?Ce()._ADAGIO.queueHistory:[];return e.queueHistory=Jt,e}({});try{window.top.location.href?top._ADAGIO=_ADAGIO:window._ADAGIO=_ADAGIO}catch(e){}\n","id5id_cached_consent_data":"7356361828576071","cto_bundle":"W8PgpF9QZ2N0MjdZUHNoSDFqT2FtbDc4ZzA3SXcwR09DbUYlMkJjdGRJRjZRcnFRajkzSG9xY1BZJTJGRnExZm5tUlVwSGdqd2pmJTJGTlBwYkVLb1pqJTJCT3BjQTlyeHBFJTJCWnZha2tQMUN5RGlLS0lJUG10WFRZaW5WRElxbiUyQlFhMnJTSG83NnF0Wg","cto_bidid":"Ed4iWF9jZ3JNc2tBS2NpTUFqNHVYdFgza2hablNNRjklMkIlMkI5blVZQzgwUzZ4cFVKdiUyQm1UUFJiWXMwYkt2cGpYMiUyQndSTHZRUlR1VmtkdjFWMUtldmROWEl1dkVnJTNEJTNE","AT-usprivacy":"{\"uspPolicyVersion\":1,\"consentString\":\"1---\"}","id5id_exp":"Thu, 31 Oct 2024 23:13:08 GMT","criteo_fast_bid":"// Hash: ioxxdjHDzFBt50jsKHcULoEjfPjn7FupHUObUXTEulH1iImcaT1OYYq4nXedv+v6ystL/mciw43eN2N1sBqukEcB1G3yLaozwAQoZarIvpe+op2I8dDWCrnmQL5aA3TRFA2hIGMEsGDPdljIfZlxPKB5Tt8rZMkwd8T+7UEJODk=\n!function(e){\"use strict\";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function t(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var L=function(){return(L=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}function r(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s}function o(i,n){return function(e,t){n(e,t,i)}}function s(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function a(e,s,a,c){return new(a=a||Promise)(function(i,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?i(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,r)}o((c=c.apply(e,s||[])).next())})}function c(i,n){var r,o,s,e,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(r=1,o&&(s=2&t[0]?o.return:t[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,t[1])).done)return s;switch(o=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,o=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=n.call(i,a)}catch(e){t=[6,e],o=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function d(e,t){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}function l(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function u(e,t){var i=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,o=i.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)s.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}function h(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<i;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function f(e,t,i){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var r,o=i.apply(e,t||[]),s=[];return r={},n(\"next\"),n(\"throw\"),n(\"return\"),r[Symbol.asyncIterator]=function(){return this},r;function n(n){o[n]&&(r[n]=function(i){return new Promise(function(e,t){1<s.push([n,i,e,t])||a(n,i)})})}function a(e,t){try{(i=o[e](t)).value instanceof v?Promise.resolve(i.value.v).then(c,d):l(s[0][2],i)}catch(e){l(s[0][3],e)}var i}function c(e){a(\"next\",e)}function d(e){a(\"throw\",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function m(n){var e,r;return e={},t(\"next\"),t(\"throw\",function(e){throw e}),t(\"return\"),e[Symbol.iterator]=function(){return this},e;function t(t,i){e[t]=n[t]?function(e){return(r=!r)?{value:v(n[t](e)),done:\"return\"===t}:i?i(e):e}:i}}function g(c){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var e,t=c[Symbol.asyncIterator];return t?t.call(c):(c=\"function\"==typeof l?l(c):c[Symbol.iterator](),e={},i(\"next\"),i(\"throw\"),i(\"return\"),e[Symbol.asyncIterator]=function(){return this},e);function i(a){e[a]=c[a]&&function(s){return new Promise(function(e,t){var i,n,r,o;s=c[a](s),i=e,n=t,r=s.done,o=s.value,Promise.resolve(o).then(function(e){i({value:e,done:r})},n)})}}}function y(e,t){return Object.defineProperty?Object.defineProperty(e,\"raw\",{value:t}):e.raw=t,e}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return t.get(e)}function _(e,t,i){if(!t.has(e))throw new TypeError(\"attempted to set private field on non-instance\");return t.set(e,i),i}var S=(E.prototype.isAdBlocked=function(e){var t=this;this.createPixel(E.allowedPixelUrl,function(){(t.allowedPixelLoaded=!0)===t.blockedPixelFailed&&e(!0)},function(){}),this.createPixel(E.blockedPixelUrl,function(){e(!1)},function(){(t.blockedPixelFailed=!0)===t.allowedPixelLoaded&&e(!0)})},E.prototype.createPixel=function(e,t,i){var n=document.createElement(\"img\");n.src=e,n.height=1,n.width=1,n.style.display=\"none\",n.onload=t,n.onerror=i},E.allowedPixelUrl=\"https://static.criteo.net/images/pixel.gif?ch=1\",E.blockedPixelUrl=\"https://static.criteo.net/images/pixel.gif?ch=2\",E);function E(){this.allowedPixelLoaded=!1,this.blockedPixelFailed=!1}var B=(I.create=function(e){return new I(e)},I.prototype.adBlockFlagEnabled=function(){var e=I.ADBLOCK_FLAG_KEY;return null!==this.localStorageHelper.getItem(e)},I.prototype.enableAdBlockFlag=function(){var e=I.ADBLOCK_FLAG_KEY;this.localStorageHelper.setItem(e,\"1\",I.ADBLOCK_FLAG_LIFETIME)},I.prototype.disableAdBlockFlag=function(){var e=I.ADBLOCK_FLAG_KEY;this.localStorageHelper.removeItem(e)},I.prototype.setAdBlockFlagTimer=function(e){var t=this;this.adBlockFlagEnabled()||!this.timerEnabled||this.timerStarted||(this.timerStarted=!0,setTimeout(function(){t.timerEnabled&&(t.refreshAdblockFlag(),t.timerEnabled=!1)},e))},I.prototype.disableAdBlockFlagTimer=function(){this.timerEnabled=!1,this.adBlockFlagEnabled()&&this.refreshAdblockFlag()},I.prototype.refreshAdblockFlag=function(){var t=this;(new S).isAdBlocked(function(e){e?t.enableAdBlockFlag():t.disableAdBlockFlag()})},I.ADBLOCK_FLAG_KEY=\"criteo_adblock_flag\",I.ADBLOCK_FLAG_LIFETIME=864e5,I);function I(e){this.timerEnabled=!0,this.timerStarted=!1,this.localStorageHelper=e}function T(){return(window.criteo_pubtag_prebid_144||window.criteo_pubtag).context.getIdfs()}function P(e){(window.criteo_pubtag_prebid_144||window.criteo_pubtag).context.setIdfs(e)}function N(e){(window.criteo_pubtag_prebid_144||window.criteo_pubtag).context.ceh=e}var A=function(){};function x(e){return e.replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\")}var F=(R=A,t(D,R),D.prototype.ResizeFrame=function(e,t){if(this.document.defaultView&&this.document.defaultView.frameElement){var i=this.document.defaultView.frameElement;i.width=e.toString(),i.height=t.toString()}},D.prototype.Write=function(e){this.document.open(),this.document.write(e),this.document.close()},D.prototype.LoadScript=function(e){this.Write(\"<script type='text/javascript' src='\"+x(e)+\"'><\\/script>\")},D),R;function D(e){var t=R.call(this)||this;return t.document=e,t}var k=(O.prototype.eval=function(e){},O);function O(e){this.name=e}var M=(U=k,t(W,U),W.prototype.eval=function(e){this.callback&&this.callback.apply(this)},W.NAME=\"genericEvent\",W),U;function W(e){var t=U.call(this,W.NAME)||this;return t.callback=e,t}var H=(q.prototype.generateRandomId=function(){return Math.random().toString(36).replace(/[^a-z]+/g,\"\").substr(0,6)},q);function q(e,t,i,n,r,o,s,a){this.id=this.generateRandomId(),this.slotId=e,this.impressionId=t,this.cpm=i,this.width=n,this.height=r,this.zoneId=o,this.dealCode=s,this.useSafeframe=null!=a&&a}var G=(z=H,t(V,z),V.prototype.GenerateEvent=function(e){var t=this;return e.ResizeFrame(this.width,this.height),new M(function(){return e.LoadScript(t.displayUrl)})},V.prototype.GenerateMessage=function(){return{displayUrl:this.displayUrl}},V),z;function V(e,t,i,n,r,o,s,a,c){var d=z.call(this,e,t,i,n,r,o,a,c)||this;return d.displayUrl=s,d}var j=(K=H,t(Y,K),Y.prototype.GenerateEvent=function(e){var t=this;return e.ResizeFrame(this.width,this.height),new M(function(){return e.Write(t.creative)})},Y.prototype.GenerateMessage=function(){return{creative:this.creative}},Y),K,X,J;function Y(e,t,i,n,r,o,s,a,c){var d=K.call(this,e,t,i,n,r,o,a,c)||this;return d.creative=s,d}J=X=X||{},J[J.Error=0]=\"Error\",J[J.Warning=1]=\"Warning\",J[J.Debug=2]=\"Debug\";var Q=[\"color: #fff;\",\"background: #ff8f1c;\",\"display: inline-block;\",\"padding: 1px 4px;\",\"border-radius: 3px;\"].join(\" \"),$=(Z.Log=function(e,t){if(!(Z.LOGLEVEL<e)){var i=X[e].toUpperCase(),n=window.navigator.userAgent,r=0<n.indexOf(\"MSIE \")||0<n.indexOf(\"Trident/\");window.console&&(r?console.log(\"[PubTag] \"+i+\": \"+t):console.log(\"%cPubTag\",Q,i+\": \"+t))}},Z.Debug=function(e){Z.Log(X.Debug,e)},Z.Warning=function(e){Z.Log(X.Warning,e)},Z.Error=function(e){Z.Log(X.Error,e)},Z.LOGLEVEL=X.Error,Z);function Z(){}function ee(e){$.LOGLEVEL=e}var te=(ie=H,t(ne,ie),ne.prototype.GenerateEvent=function(e){var t=this;return\"function\"!=typeof this.nativeCallback?($.Error(\"'nativeCallback' parameter is not a function in placements object\"),new M(void 0)):\"object\"!=typeof this.nativePayload?($.Error(\"'nativePayload' parameter is not an object in placements object\"),new M(void 0)):new M(function(){return t.nativeCallback(t.nativePayload)})},ne.prototype.GenerateMessage=function(){return{nativePayload:this.nativePayload}},ne),ie;function ne(e,t,i,n,r,o,s,a,c){var d=ie.call(this,e,t,i,n,r,o,c)||this;return d.nativeCallback=s,d.nativePayload=a,d}function re(e,t){if(e){var i;try{i=eval(\"(function(){return \"+e+\"})()\")}catch(e){return void $.Error(\"Error evaluating the function: \"+e)}if(\"function\"==typeof i)return i.apply(i,t);$.Error(\"The passed value is not a function\")}else $.Error(\"Cannot execute an empty function\")}var oe=(se=H,t(ae,se),ae.prototype.GenerateEvent=function(e){var t=this;return void 0!==this.videoCallback?\"function\"!=typeof this.videoCallback?($.Error(\"'videoCallback' parameter is not a function in video object\"),new M(void 0)):new M(function(){return t.videoCallback(t.GenerateMessage())}):(re(this.videoPlayerFunction,[{slotid:this.impressionId,vastUrl:this.vastUrl,vastXml:this.vastXml}]),new M(void 0))},ae.prototype.GenerateMessage=function(){return{vastUrl:this.vastUrl,vastXml:this.vastXml,slotid:this.impressionId,cpm:this.cpm}},ae),se;function ae(e,t,i,n,r,o,s,a,c,d,l){var u=se.call(this,e,t,i,n,r,o,a)||this;return u.videoCallback=s,u.vastUrl=c,u.vastXml=d,u.videoPlayerFunction=l,u}function ce(e,t,i,n,r,o,s,a,c,d,l,u,p,h,v){if(u)return new oe(e,t,i,n,r,o,p,l,c,d,v);if(void 0!==s&&void 0!==a)return new te(e,t,i,n,r,o,s,a,l);if(void 0!==d&&0!==d.indexOf(\"<script\"))return new j(e,t,i,n,r,o,d,l,h);if(void 0!==d&&0===d.indexOf(\"<script\")){var f=new RegExp(\"(?<=src='|\\\")(.*)(?='|\\\")\"),m=d.match(f);if(null!==m&&0<m.length)return new G(e,t,i,n,r,o,m[0],l,h)}return void 0!==c?new G(e,t,i,n,r,o,c,l,h):void 0}var de=(le.prototype.getMetricsManager=function(){return this.metricsManager},le.prototype.withElapsed=function(e){return this.elapsed=Math.round(e),this},le.prototype.withIsTimeout=function(e){return(this.isTimeout=e)&&this.events.push({eventId:\"CdbCallTimeout\"}),this},le.prototype.withAdapterStartElapsed=function(e){return this.adapterStartElapsed=Math.round(e),this.events.push({eventId:\"AdapterBidStart\",elapsed:this.adapterStartElapsed}),this},le.prototype.withCdbCallStartElapsed=function(e){return this.cdbCallStartElapsed=Math.round(e),this.events.push({eventId:\"CdbCallStart\",elapsed:this.cdbCallStartElapsed}),this},le.prototype.withCdbCallEndElapsed=function(e){return this.cdbCallEndElapsed=Math.round(e),this.events.push({eventId:\"CdbCallEnd\",elapsed:this.cdbCallEndElapsed}),this},le.prototype.withAdapterEndElapsed=function(e){return this.adapterEndElapsed=Math.round(e),this.events.push({eventId:\"AdapterBidEnd\",elapsed:this.adapterEndElapsed}),this},le.prototype.withAdapterTimeout=function(e){return this.adapterTimeout=e&&Math.round(e),this},le.prototype.withTimeToFirstByte=function(e){return this.timeToFirstByte=e&&Math.round(e),this.timeToFirstByte&&this.events.push({eventId:\"TimeToFirstByte\",elapsed:this.timeToFirstByte}),this},le.prototype.withConnectionEstablishmentTime=function(e){return this.connectionEstablishmentTime=e&&Math.round(e),this.connectionEstablishmentTime&&this.events.push({eventId:\"TcpConnectionElapsedTime\",elapsed:this.connectionEstablishmentTime}),this},le.prototype.withDomainLookupTime=function(e){return this.domainLookupTime=e&&Math.round(e),this.domainLookupTime&&this.events.push({eventId:\"DomainLookupElapsedTime\",elapsed:this.domainLookupTime}),this},le.prototype.withUserPreviousTimestamp=function(e){return e&&this.events.push({eventId:\"UserReturnTime\",elapsed:(new Date).getTime()-e}),this},le.prototype.buildEvents=function(e){if(this.events.length){var t={requestId:e,events:this.events};return void 0!==this.adapterTimeout&&this.adapterEndElapsed>this.adapterTimeout&&t.events.push({eventId:\"AdapterTimeout\"}),t}},le.prototype.clear=function(){this.events=[]},le);function le(e){this.elapsed=0,this.isTimeout=!1,this.adapterStartElapsed=0,this.cdbCallStartElapsed=0,this.cdbCallEndElapsed=0,this.adapterEndElapsed=0,this.slotIdsMatchedByCache=[],this.events=[],this.metricsManager=e}function ue(e){try{return JSON.parse(e)}catch(e){return}}var pe=(fe.generateCacheBuster=function(){return Math.floor(99999999999*Math.random())},fe),he,ve;function fe(){}function me(e){switch(e.toLowerCase()){case\"amp\":return he.AMP;default:return he.Unspecified}}ve=he=he||{},ve[ve.Unspecified=0]=\"Unspecified\",ve[ve.AMP=1]=\"AMP\";var ge=144,ye=(be.prototype.buildUrl=function(e,t,i,n,r){void 0===i&&(i=he.Unspecified);var o=be.CRITEO_BIDDER_URL+this.getHandlerPath();return o+=\"?ptv=\"+ge,!0===t.isAdBlocked&&(o+=\"&abp=1\"),o=this.appendCommonParameters(o,e,n,r),o+=t.isOptOut?\"&optout=1\":\"\",o+=t.bundle?\"&bundle=\"+t.bundle:\"\",i!==he.Unspecified&&(o+=\"&im=\"+i),o+=\"&cb=\"+String(pe.generateCacheBuster()),o+=t.getContextFlags()},be.prototype.buildErrorUrl=function(){return be.CRITEO_BIDDER_URL+be.CRITEO_ERROR_HANDLER},be.prototype.buildCsmEventsUrl=function(){return be.CRITEO_BIDDER_URL+be.CRITEO_CSM_EVENTS_HANDLER},be.prototype.buildCsmCountersUrl=function(){return be.CRITEO_BIDDER_URL+be.CRITEO_CSM_COUNTERS_HANDLER},be.prototype.appendCommonParameters=function(e,t,i,n){return e+=\"&profileId=\"+String(t),void 0!==i&&(e+=\"&av=\"+String(i)),void 0!==n&&(e+=\"&wv=\"+encodeURIComponent(n)),e},be.prototype.getHandlerPath=function(){return this.auditMode?be.CRITEO_BIDDER_AUDIT_HANDLER:be.CRITEO_BIDDER_HANDLER},be.CRITEO_BIDDER_URL=\"https://bidder.criteo.com/\",be.CRITEO_BIDDER_HANDLER=\"cdb\",be.CRITEO_CSM_HANDLER=\"csm\",be.CRITEO_CSM_EVENTS_HANDLER=\"csm/events\",be.CRITEO_CSM_COUNTERS_HANDLER=\"csm/counters\",be.CRITEO_ERROR_HANDLER=\"error\",be.CRITEO_BIDDER_AUDIT_HANDLER=\"prebid/audit\",be);function be(e){void 0===e&&(e=!1),this.auditMode=e}var we=(Ce.prototype.sendEventsToBeacon=function(e,t){navigator.sendBeacon&&e&&navigator.sendBeacon(t,JSON.stringify(e))},Ce);function Ce(){this.urlBuilder=new ye}var _e=(Se=we,t(Ee,Se),Ee.prototype.getManagerMetrics=function(){var e=this.localStorageHelper.getItem(Ee.MANAGER_METRICS_STORAGE_KEY);if(null==e)return{};var t=ue(e);return void 0===t?{}:t},Ee.prototype.setManagerMetrics=function(e){this.localStorageHelper.setItem(Ee.MANAGER_METRICS_STORAGE_KEY,JSON.stringify(e))},Ee.prototype.getLocalStorageKeyCount=function(){return this.localStorageHelper.getAllItemsByPrefix(\"criteo_\").length+this.localStorageHelper.getAllItemsByPrefix(\"cto_\").length},Ee.prototype.getPreviousBuildRequestTimestamp=function(){var e=this.getManagerMetrics().previousBuildRequestTimestamp;return isNaN(e)?void 0:e},Ee.prototype.resetPreviousBuildRequestTimestamp=function(){var e=this.getManagerMetrics();e.previousBuildRequestTimestamp=(new Date).getTime().toString(),this.setManagerMetrics(e)},Ee.prototype.sendEvents=function(e,t,i){void 0===i&&(i=!1),i&&(e.withUserPreviousTimestamp(this.getPreviousBuildRequestTimestamp()),this.resetPreviousBuildRequestTimestamp()),this.sendEventsToBeacon(e.buildEvents(t),this.urlBuilder.buildCsmEventsUrl()),e.clear()},Ee.MANAGER_METRICS_STORAGE_KEY=\"criteo_pt_cdb_mngr_metrics\",Ee),Se;function Ee(e){var t=Se.call(this)||this;return t.localStorageHelper=e,t}var Ie=(Te.tryInsertPlaceholder=function(e,t,i){var n=document.getElementById(e);if(null===n)return $.Warning(\"Unable to insert ad placeholder : impression id \"+e+\" not found.\"),!1;if(n.appendChild(this.createPlaceholder()),!t&&this.isVisible(n))return!0;this.removePlaceholder(e,i);var r=n.parentElement;if(null===r)return!1;var o=this.createClone(n);return r.insertBefore(o,n),o.appendChild(this.createPlaceholder()),this.isVisible(o)?(i[e]=o,!0):($.Warning(\"Ad placeholder created but not visible : can't render.\"),r.removeChild(o),!1)},Te.isVisible=function(e){return 0!==e.offsetWidth&&0!==e.offsetHeight&&0!==e.getClientRects().length},Te.createClone=function(e){var t=e.cloneNode(!1);return t.id=this.generateRandomId(),t.className=\"\",\"none\"===t.style.display&&t.style.removeProperty(\"display\"),\"SPAN\"===t.tagName&&(t.style.display=\"block\"),e.style.display=\"none\",t},Te.generateRandomId=function(){for(var e=\"1234567890abcdefghijklmnopqrstuvwxyz\",t=\"\",i=0;i<20;i++){var n=Math.floor(Math.random()*e.length);t+=e.charAt(n)}return t},Te.createPlaceholder=function(){var e=document.createElement(\"div\");return e.style.width=\"1px\",e.style.height=\"1px\",e.style.display=\"block\",e.className=Te.PLACEHOLDER_NAME,e},Te.removePlaceholder=function(e,t){var i=t[e];void 0!==i&&null!==i.parentNode&&i.parentNode.removeChild(i);var n=document.getElementById(e);if(null!==n)for(var r=0,o=n.getElementsByClassName(Te.PLACEHOLDER_NAME);r<o.length;r++){var s=o[r];null!==s.parentNode&&s.parentNode.removeChild(s)}},Te.insertAdIFrame=function(e,t){var i,n=t[e];if(void 0!==n)i=n;else{var r=document.getElementById(e);if(null===r)return null;i=r}for(var o=0,s=i.getElementsByClassName(Te.PLACEHOLDER_NAME);o<s.length;o++){for(var a=s[o],c=0,d=a.childNodes;c<d.length;c++){var l=d[c];null!==l.parentNode&&l.parentNode.removeChild(l)}var u=this.createAdIFrame();return a.appendChild(u),a.style.width=\"\",a.style.height=\"\",a.style.display=\"\",u}return null},Te.createAdIFrame=function(){var e=document.createElement(\"iframe\");return e.scrolling=\"no\",e.marginWidth=\"0\",e.marginHeight=\"0\",e.frameBorder=\"0\",e.style.border=\"0\",e.style.verticalAlign=\"bottom\",e},Te.removePlaceholders=function(e,t,i){for(var n=0,r=e;n<r.length;n++){var o=r[n].impId;-1===t.indexOf(o)&&Te.removePlaceholder(o,i)}},Te.tryInsertPlaceholders=function(e,t,i){for(var n=[],r=0,o=e;r<o.length;r++){var s=o[r],a=s.impId;Te.tryInsertPlaceholder(a,t,i)&&n.push(s)}return n},Te.PLACEHOLDER_NAME=\"criteo_placeholder\",Te);function Te(){}var Pe=(Ae.prototype.isValid=function(){return 0<this.slots.length},Ae.prototype.getRequest=function(){for(var e,t=[],i=0,n=this.slots;i<n.length;i++){var r=n[i],o={slotid:r.slotId,impid:r.impId};if(void 0!==r.zoneId&&(o.zoneid=r.zoneId),void 0===r.nativeCallback&&!r.native||(o.native=!0),void 0!==r.transactionId&&(o.transactionid=r.transactionId),void 0!==r.publisherSubId&&(o.publishersubid=r.publisherSubId),void 0!==r.sizes){for(var s=[],a=0,c=r.sizes;a<c.length;a++){var d=c[a];s.push(d.width+\"x\"+d.height)}o.sizes=s}if(void 0!==r.video){var l={playersizes:this.parsePlayerSizes(r.video.playersize),mimes:r.video.mimes,protocols:r.video.protocols,maxduration:r.video.maxduration,api:r.video.api,skip:r.video.skip,placement:r.video.placement,playbackmethod:r.video.playbackmethod,minduration:r.video.minduration,startdelay:r.video.startdelay,plcmt:r.video.plcmt};o.video=l}if(void 0!==this.viewportComputer){var u=this.viewportComputer.getSlotPosition(r);void 0!==u&&(o.position={top:u.top,left:u.left})}void 0!==r.ext&&(o.ext=r.ext),void 0!==r.rwdd&&(o.rwdd=r.rwdd),!this.fledgeEnabled&&(null===(e=o.ext)||void 0===e?void 0:e.ae)&&delete o.ext.ae,t.push(o)}var p=L(L({},this.context.getUser()),{ceh:this.context.ceh,uspOptout:this.context.ccpaOptout}),h=this.context.getSite();this.context.getUserExtWithContextualData(),this.context.getPublisherExt();var v={publisher:{url:this.context.highestAccessibleUrl},slots:t,user:p,site:h,bcat:this.bcat,badv:this.badv,bapp:this.bapp};if(void 0!==this.networkId&&(v.publisher.networkid=this.networkId),this.privacyWrapper&&(this.privacyWrapper.gdprConsent&&(v.gdprConsent=this.privacyWrapper.gdprConsent),this.privacyWrapper.ccpaIabConsent&&(p.uspIab=this.privacyWrapper.ccpaIabConsent.uspString),this.privacyWrapper.gppConsent&&(void 0===this.regs&&(this.regs={}),this.regs.gpp=this.privacyWrapper.gppConsent.gpp,this.regs.gpp_sid=this.privacyWrapper.gppConsent.gppSid)),void 0!==this.viewportComputer){var f=this.viewportComputer.getViewport();v.viewport={width:f.width,height:f.height,scrollTop:f.scrollTop,scrollLeft:f.scrollLeft}}return void 0!==this.adapterTimeout&&(v.tmax=this.adapterTimeout),void 0!==this.auctionStart&&(v.auctionStart=this.auctionStart),void 0!==this.clientRequestId&&(v.id=this.clientRequestId),void 0!==this.userIds&&(v.eids=this.userIds),void 0!==this.source&&(v.source=this.source),void 0===this.regs||void 0===this.regs.coppa&&void 0===this.regs.gpp&&void 0===this.regs.gpp_sid||(v.regs={coppa:this.regs.coppa,gpp:this.regs.gpp,gpp_sid:this.regs.gpp_sid}),v},Ae.parsePlayerSize=function(e){return e[0]+\"x\"+e[1]},Ae.prototype.parsePlayerSizes=function(e){return e?Array.isArray(e[0])?e.map(function(e){return Ae.parsePlayerSize(e)}):[Ae.parsePlayerSize(e)]:e},Ae.prototype.getUrl=function(){return this.urlBuilder.buildUrl(this.profileId,this.context,this.integrationMode,this.adapterVersion,this.wrapperVersion)},Ae);function Ae(e,t,i,n,r,o,s,a,c,d,l,u,p,h,v,f,m,g,y,b){this.slots=e,this.context=t,this.urlBuilder=i,this.profileId=n,this.integrationMode=r||he.Unspecified,this.networkId=o,this.adapterVersion=s,this.privacyWrapper=a,this.wrapperVersion=c,this.viewportComputer=d,this.adapterTimeout=l,this.clientRequestId=u,this.userIds=p,this.auctionStart=h,this.source=v,this.regs=f,this.bcat=m,this.badv=g,this.bapp=y,this.fledgeEnabled=b||!1}function xe(e){var t={slots:void 0,time_to_next_call:0};return void 0!==e.exd&&(void 0!==e.exd.time_to_next_call&&(t.time_to_next_call=e.exd.time_to_next_call),t.slots=e.exd.slots,delete e.exd),t}function Re(){var i=(new Date).getTime();return\"undefined\"!=typeof performance&&\"function\"==typeof performance.now&&(i+=performance.now()),\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),(\"x\"===e?t:3&t|8).toString(16)})}var De=function(e,t,i,n,r,o,s,a,c,d,l,u){this.slotId=null!=u?u:Re().replace(/-/g,\"\"),this.impId=e,this.zoneId=t,this.native=i,this.nativeCallback=n,this.transactionId=r,this.sizes=o,this.publisherSubId=s,this.mediaTypes=a,this.video=c,this.ext=d,this.rwdd=l},ke=function(e,t,i,n,r,o,s,a,c,d,l,u){this.playersize=e,this.mimes=t,this.protocols=i,this.maxduration=n,this.api=r,this.skip=o,this.placement=s,this.playbackmethod=a,this.minduration=c,this.startdelay=d,this.videoCallback=l,this.plcmt=u},Oe=(Me.CreateRunning=function(){var e=new Me;return e.start(),e},Me.CreateWithStartTime=function(e){var t=new Me(!1);return t.startTime=e,t},Me.TimeSincePageLoad=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.timing&&window.performance.timing.navigationStart)return(new Date).getTime()-performance.timing.navigationStart}return 0},Me.prototype.start=function(){this.startTime=this.now()},Me.prototype.elapsed=function(){return this.now()-this.startTime},Me);function Me(e){void 0===e&&(e=!0),e&&window.performance&&window.performance.now?this.now=window.performance.now.bind(window.performance):Date.now?this.now=Date.now:this.now=function(){return(new Date).getTime()}}function Ue(e){if(window.performance&&window.performance.getEntries)for(var t=window.performance.getEntries(),i=t.length-1;0<=i;--i){var n=t[i];if(n.name===e&&n.duration)return Math.round(n.duration)}}var Fe=(Le.prototype.sendRequest=function(e){this.url=e,this.sendTime=Oe.CreateRunning(),this.builder.withCdbCallStartElapsed(this.timer.elapsed())},Le.prototype.requestReceived=function(e){void 0===e&&(e=!1),this.builder.withElapsed(Ue(this.url)||this.sendTime.elapsed()),this.builder.withCdbCallEndElapsed(this.timer.elapsed()),this.builder.withIsTimeout(e)},Le.prototype.finish=function(){this.builder.withAdapterEndElapsed(this.timer.elapsed());var e=Le.getLastCdbTiming();void 0!==e&&(this.builder.withTimeToFirstByte(Le.computeTimeToFirstByte(e)),this.builder.withConnectionEstablishmentTime(Le.computeConnectionEstablishmentTime(e)),this.builder.withDomainLookupTime(Le.computeDomainLookupTime(e)))},Le.getLastCdbTiming=function(){if(void 0!==window.performance&&void 0!==window.performance.getEntriesByType&&\"function\"==typeof window.performance.getEntriesByType){var e=window.performance.getEntriesByType(\"resource\");if(void 0!==e){var t=e.filter(function(e){return 0<=e.name.indexOf(\"cdb\")});return void 0!==t&&0<t.length?t[t.length-1]:void 0}}},Le.computeTimeToFirstByte=function(e){var t=e.responseStart,i=e.requestStart;if(void 0!==t&&void 0!==i)return t-i},Le.computeConnectionEstablishmentTime=function(e){var t=e.connectEnd-e.connectStart;return isNaN(t)?void 0:t},Le.computeDomainLookupTime=function(e){var t=e.domainLookupEnd-e.domainLookupStart;return isNaN(t)?void 0:t},Le);function Le(e,t,i){this.builder=e,this.timer=void 0!==t?Oe.CreateWithStartTime(t):Oe.CreateRunning();var n=this.timer.elapsed();this.builder.withAdapterStartElapsed(n),void 0!==i&&this.builder.withAdapterTimeout(i)}var Be=(Ne.prototype.toString=function(){return this.width+\"x\"+this.height},Ne);function Ne(e,t){this.width=e,this.height=t}function We(e){var t=\"number\"==typeof window.PREBID_TIMEOUT?window.PREBID_TIMEOUT:void 0;return e&&t?Math.min(e,t):e||t||void 0}var He=function(e,t){this.top=e,this.left=t},qe=function(e,t,i,n){this.width=e,this.height=t,this.scrollTop=i,this.scrollLeft=n},Ge=(ze.getHighestAccessibleWindow=function(e){var t=e,i=!1;try{for(;t.parent.document!==t.document;){if(!t.parent.document){i=!0;break}t=t.parent}}catch(e){i=!0}return{topFrame:t,err:i}},ze.getHighestAccessibleUrl=function(e){var t=e.topFrame;if(!e.err)return t.location.href;try{var i=t.top.location.href;if(i)return i}catch(e){}try{var n=t.location.ancestorOrigins;if(n)return n[n.length-1]}catch(e){}return t.document.referrer},ze.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},ze);function ze(){}var Ve=(je.prototype.getViewport=function(){var e=Ge.getHighestAccessibleWindow(window).topFrame,t=e.document,i=e.innerWidth||t.documentElement.clientWidth,n=e.innerHeight||t.documentElement.clientHeight,r=t.documentElement.scrollTop||t.body&&t.body.scrollTop||0,o=t.documentElement.scrollLeft||t.body&&t.body.scrollLeft||0;return new qe(i,n,r,o)},je.prototype.getSlotPosition=function(e){var t=e.impId,i=document.getElementById(t);if(null!==i){var n=i.getBoundingClientRect();return new He(n.top,n.left)}},je);function je(){}function Ke(e){try{return e.localStorage}catch(e){return}}var Xe=(Je.prototype.checkLocalStorage=function(e){if(!this.localStorage)return!1;var t=this.CHECK_STORAGE_KEY;try{return this.checkTcfPurposeOne(e)?(this.localStorage.setItem(t,t),this.localStorage.removeItem(t),!0):($.Debug(\"Purpose One not granted\"),!1)}catch(e){return!1}},Je.prototype.checkTcfPurposeOne=function(e){return!(e&&e.gdprConsent&&e.gdprConsent.purposes)||!0===e.gdprConsent.purposes[1]},Je.prototype.removeItem=function(e){this.localStorageEnabled&&(this.localStorage.removeItem(e),this.localStorage.removeItem(e+this.EXPIRE_SUFFIX))},Je.prototype.getItem=function(e,t){if(!this.localStorageEnabled)return null;var i=(new Date).getTime(),n=this.localStorage.getItem(e+this.EXPIRE_SUFFIX),r=n?parseInt(n,10):-1;return-1!==r&&r<i||t&&(-1===r||t<r-i)?(this.removeItem(e),null):this.localStorage.getItem(e)},Je.prototype.setItem=function(e,t,i){if(this.localStorageEnabled)try{if(this.localStorage.setItem(e,t),i){var n=(new Date).getTime()+i;this.localStorage.setItem(e+this.EXPIRE_SUFFIX,n.toString())}}catch(e){}},Je.prototype.getAllItemsByPrefix=function(e){var t=[];if(this.localStorageEnabled)for(var i in localStorage)0===i.indexOf(e)&&t.push(i);return t},Je);function Je(e,t){this.EXPIRE_SUFFIX=\"_expires\",this.CHECK_STORAGE_KEY=\"criteo_localstorage_check\",this.localStorage=Ke(e||window),this.localStorageEnabled=this.checkLocalStorage(t)}var Ye=(Qe.prototype.send=function(e,t,i,n){var r=void 0!==this.data?\"POST\":\"GET\",o=this.getXMLHttpRequest(r,e,t,i,n);if(void 0!==o)o.send(this.data);else{var s=this.getXDomainRequest(r,e,t,i,n);void 0!==s&&s.send(this.data)}},Qe.prototype.getXMLHttpRequest=function(e,t,i,n,r){var o=new XMLHttpRequest;if(\"withCredentials\"in o)return o.open(e,this.url,!0),o.timeout=r||Qe.LOCAL_PASSBACK_TIMEOUT,this.contentType?o.setRequestHeader(\"Content-type\",this.contentType):\"POST\"===e&&o.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\"),o.withCredentials=this.withCredentials,o.onload=function(){4===o.readyState&&200===o.status?t(o.responseText):i(o.readyState,o.status)},o.onerror=function(){i(void 0,void 0)},n&&(o.ontimeout=n),o},Qe.prototype.getXDomainRequest=function(e,t,i,n,r){if(\"undefined\"!=typeof XDomainRequest){var o=new XDomainRequest;return o.timeout=r||Qe.LOCAL_PASSBACK_TIMEOUT,o.open(e,this.url),o.onload=function(){void 0!==o.responseText?t(o.responseText):i(void 0,void 0)},o.onerror&&(o.onerror=function(){i(void 0,void 0)}),o.ontimeout&&n&&(o.ontimeout=n),o}},Qe.LOCAL_PASSBACK_TIMEOUT=3e4,Qe);function Qe(e,t,i,n){void 0===n&&(n=!0),this.url=e,this.data=t,this.contentType=i,this.withCredentials=n}var $e=(Ze.prototype.retrievePixels=function(e,t){var i=this;new Ye(this.getUserSyncUrl(e,t)).send(function(e){if(e){var t=Ze.parseUserSyncResponse(e);t?i.onPixelsRetrieved(t):i.errorReporter.log(\"Error\",\"Unable to parse response from user sync\")}},function(e,t){$.Warning(\"User Sync Pixel endpoint error; readyState \"+e+\"; requestStatus \"+t)},function(){$.Warning(\"User Sync Pixel endpoint timeout\")},this.pixelSyncTimeout)},Ze.prototype.getUserSyncUrl=function(e,t){var i=null==e?void 0:e.gdprConsent,n=null==e?void 0:e.ccpaIabConsent,r=[];return(null==i?void 0:i.consentData)&&r.push(\"gdpr=\"+i.consentData),(null==i?void 0:i.gdprApplies)&&r.push(\"gdprapplies=\"+i.gdprApplies),(null==n?void 0:n.uspString)&&r.push(\"ccpa=\"+n.uspString),(null==t?void 0:t.country_code)&&r.push(\"countrycode=\"+t.country_code),this.debug&&r.push(\"debug=1\"),this.pixelSyncEndpoint+(r.length?\"?\"+r.join(\"&\"):\"\")},Ze.parseUserSyncResponse=function(e){var t=ue(e);return t?(\"pixels\"in t?Array.isArray(t.pixels)?t.pixels=t.pixels.filter(function(t){try{return new URL(t),!0}catch(e){return $.Warning(\"Failed to parse User Sync Pixel URL: \"+t),!1}}):($.Warning(\"pixels field in user sync response is not an array: \"+t.pixels),t.pixels=[]):t.pixels=[],t):void $.Warning(\"Failed to parse user sync pixel JSON payload\")},Ze);function Ze(e,t,i){void 0===i&&(i=!1),this.pixelSyncEndpoint=\"https://ssp-sync.criteo.com/user-sync/pixels\",this.pixelSyncTimeout=2e3,this.errorReporter=t,this.onPixelsRetrieved=e,this.debug=i}var et=(tt.execUserSync=function(e,t,i,n){void 0===n&&(n=!1),new $e(tt.appendUserSyncPixels,e,n).retrievePixels(t,i)},tt.getOrCreateTagContainer=function(){var e=document.getElementById(tt.tagElementName);if(e)return e;var t=document.createElement(\"div\");return t.setAttribute(\"id\",tt.tagElementName),t.style.display=\"none\",document.body.appendChild(t),t},tt.appendUserSyncPixels=function(e){if(e.pixels.length)for(var t=tt.getOrCreateTagContainer(),i=0,n=e.pixels;i<n.length;i++){var r=n[i],o=new Image;o.src=r,o.alt=\"\",t.appendChild(o)}},tt.tagElementName=\"criteoUserSyncTagsContainer\",tt);function tt(){}var it=function(e,t,i){this.coppa=e,this.gpp=t,this.gpp_sid=i},nt=280,rt=5e3,ot=\"https://grid-mercury.criteo.com\",st=500,at=\"https://grid-mercury.criteo.com/fledge/decision\",ct,dt;dt=ct=ct||{},dt.Native=\"native\",dt.Banner=\"banner\",dt.Video=\"video\";var lt=(ut.prototype.interpretResponse=function(e,t){return[]},ut.prototype.handleBidWon=function(){},ut.prototype.handleBidTimeout=function(){},ut.prototype.handleSetTargeting=function(){},ut);function ut(){}var pt=(ht.prototype.hasValidNativeParams=function(e){return!(e.nativeParams&&(e.nativeParams.image&&(!0!==e.nativeParams.image.sendId||!0===e.nativeParams.image.sendTargetingKeys)||e.nativeParams.icon&&(!0!==e.nativeParams.icon.sendId||!0===e.nativeParams.icon.sendTargetingKeys)||e.nativeParams.clickUrl&&(!0!==e.nativeParams.clickUrl.sendId||!0===e.nativeParams.clickUrl.sendTargetingKeys)||e.nativeParams.displayUrl&&(!0!==e.nativeParams.displayUrl.sendId||!0===e.nativeParams.displayUrl.sendTargetingKeys)||e.nativeParams.privacyLink&&(!0!==e.nativeParams.privacyLink.sendId||!0===e.nativeParams.privacyLink.sendTargetingKeys)||e.nativeParams.privacyIcon&&(!0!==e.nativeParams.privacyIcon.sendId||!0===e.nativeParams.privacyIcon.sendTargetingKeys)))},ht.prototype.buildCdbUrl=function(){return this.url},ht.prototype.buildCdbRequest=function(){if(this.requestBuilder.isValid()){var e=Math.min((this.timeout||rt)+1e3,rt);return this.adBlockFlagManager.setAdBlockFlagTimer(e),this.timer.sendRequest(this.url),this.requestBuilder.getRequest()}$.Debug(\"Request ignored because it doesnt contain any slot\")},ht.GetAllAdapters=function(){return(window.Criteo_prebid_144||window.Criteo).prebid_adapters},ht.GetAdapter=function(e){if(\"string\"==typeof e)return new lt;for(var t=ht.GetAllAdapters(),i=0,n=e.bidRequests;i<n.length;i++){var r=n[i];if((null==r?void 0:r.bidId)&&t&&r.bidId in t)return t[r.bidId]}var o=e.bidRequests[0].auctionId;return t&&o in t?t[o]:void 0},ht.isPrebid3OrAbove=function(e){if(null==e)return!1;var t=parseInt(e,10);return t!=Number.NaN&&3<=t},ht.createCriteoNativeAdWithCallback=function(e,t,i){var n=x(e);return window.criteo_prebid_native_slots=window.criteo_prebid_native_slots||{},window.criteo_prebid_native_slots[n]={callback:i,payload:t},'<script type=\"text/javascript\">\\n            var win = window;\\n            for (var i = 0; i < 10; ++i) {\\n                win = win.parent;\\n                if (win.criteo_prebid_native_slots) {\\n                    var responseSlot = win.criteo_prebid_native_slots[\"'+n+'\"];\\n                    responseSlot.callback(responseSlot.payload);\\n                    break;\\n                }\\n            }\\n        <\\/script>'},ht.createPrebidNativeAd=function(e){return{sendTargetingKeys:!1,title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map(function(e){return e.url})}},ht.prototype.getBidRequestForSlot=function(e){for(var t,i,n,r=0,o=this.bidRequests;r<o.length;r++){var s=o[r];if(s.adUnitCode===e.impid){if(s.params.zoneId&&parseInt(s.params.zoneId,10)===e.zoneid)return s;if(e.native){if((null===(t=s.mediaTypes)||void 0===t?void 0:t.native)||s.nativeParams)return s}else if(e.video){if(null===(i=s.mediaTypes)||void 0===i?void 0:i.video)return s}else if(null===(n=s.mediaTypes)||void 0===n?void 0:n.banner)return s}}},ht.prototype.getSlotForAdUnitCode=function(e){for(var t=0,i=this.slots;t<i.length;t++){var n=i[t];if(n&&n.impId===e)return n}},ht.getVideoInfoFromBidRequest=function(e){var t,i,n,r,o;if(ht.hasVideoMediaType(e))return new ke(e.mediaTypes.video.playerSize,e.mediaTypes.video.mimes,e.mediaTypes.video.protocols,e.mediaTypes.video.maxduration,e.mediaTypes.video.api,e.mediaTypes.video.skip||(null===(t=e.params.video)||void 0===t?void 0:t.skip)||0,e.mediaTypes.video.placement||(null===(i=e.params.video)||void 0===i?void 0:i.placement),e.mediaTypes.video.playbackmethod||(null===(n=e.params.video)||void 0===n?void 0:n.playbackmethod),e.mediaTypes.video.minduration||(null===(r=e.params.video)||void 0===r?void 0:r.minduration),e.mediaTypes.video.startdelay||(null===(o=e.params.video)||void 0===o?void 0:o.startdelay)||0,void 0,e.mediaTypes.video.plcmt)},ht.hasVideoMediaType=function(e){var t,i,n;return 0<(null===(n=null===(i=null===(t=null==e?void 0:e.mediaTypes)||void 0===t?void 0:t.video)||void 0===i?void 0:i.playerSize)||void 0===n?void 0:n.length)},ht.prototype.interpretResponse=function(e,t){var i,n,r,o,s,a,c,d,l,u,p,h,v,f=this,m=window.criteo_pubtag_prebid_144||window.criteo_pubtag;this.timer.requestReceived(),this.adBlockFlagManager.disableAdBlockFlagTimer();var g=xe(e),y={};if(void 0!==g.slots)for(var b=0,w=g.slots;b<w.length;b++)y[(I=w[b]).imp_id]=I;var C=[],_=[];if(e.slots&&Array.isArray(e.slots))for(var S=0,E=e.slots;S<E.length;S++){var I=E[S],T=this.getBidRequestForSlot(I);if(T)if(!0===m.context.isAdBlocked){if(void 0!==(D=ce(I.slotid,I.impid,I.cpm,I.width,I.height,I.zoneid,T.params.nativeCallback,I.native,I.displayurl,I.creative,I.deal,null===(i=y[I.slotid])||void 0===i?void 0:i.enable_safeframe))&&Ie.tryInsertPlaceholder(T.adUnitCode,!0,m.context.cloneByImpressionId)){var P=Ie.insertAdIFrame(T.adUnitCode,m.context.cloneByImpressionId);if(null!=P){var A=new F(P.contentDocument);D.GenerateEvent(A).eval(window.criteo_pubtag_prebid_144)}}}else{var x=T.bidId,R=I.ttl||y[I.slotid]&&y[I.slotid].ttl||60,D={requestId:x,cpm:I.cpm,currency:I.currency,netRevenue:!0,ttl:R,creativeId:I.creativecode||x,width:I.width,height:I.height,dealId:I.deal};if((null===(r=null===(n=e.ext)||void 0===n?void 0:n.paf)||void 0===r?void 0:r.transmission)&&(null===(s=null===(o=I.ext)||void 0===o?void 0:o.paf)||void 0===s?void 0:s.content_id)){var k={content_id:I.ext.paf.content_id,transmission:e.ext.paf.transmission};D.meta=L(L({},D.meta),{paf:k})}(null===(c=null===(a=I.ext)||void 0===a?void 0:a.meta)||void 0===c?void 0:c.networkName)&&(D.meta=L(L({},D.meta),{networkName:I.ext.meta.networkName})),I.adomain&&(D.meta=L(L({},D.meta),{advertiserDomains:I.adomain})),I.native?T.params.nativeCallback?D.ad=ht.createCriteoNativeAdWithCallback(x,I.native,T.params.nativeCallback):(D.native=ht.createPrebidNativeAd(I.native),D.mediaType=ct.Native):I.video?(D.vastUrl=I.displayurl,D.mediaType=ct.Video,\"outstream\"===(null===(l=null===(d=T.mediaTypes)||void 0===d?void 0:d.video)||void 0===l?void 0:l.context)&&((null===(u=this.utilMethods)||void 0===u?void 0:u.createOutstreamVideoRenderer)&&(D.renderer=null===(p=this.utilMethods)||void 0===p?void 0:p.createOutstreamVideoRenderer(I)),D.renderer=null!==(h=D.renderer)&&void 0!==h?h:this.createOutstreamVideoRenderer(I))):D.ad=I.creative,C.push(D)}else $.Error(\"Unable to bid request for slot \"+I)}if(this.fledgeEnabled&&e.ext&&Array.isArray(null===(v=e.ext)||void 0===v?void 0:v.igbid)){var O=e.ext.seller||ot,M=e.ext.sellerTimeout||st,U=e.ext.sellerSignals||{};e.ext.igbid.forEach(function(e){var t,i={};e.igbuyer.forEach(function(e){i[e.origin]=e.buyerdata});for(var n=0,r=f.bidRequests;n<r.length;n++){var o=r[n];if(o.bidId===e.impid){t=o;break}}!U.floor&&(null==t?void 0:t.params.bidFloor)&&(U.floor=null==t?void 0:t.params.bidFloor),!U.sellerCurrency&&(null==t?void 0:t.params.bidFloorCur)&&(U.sellerCurrency=null==t?void 0:t.params.bidFloorCur),_.push({bidId:e.impid,config:{seller:O,sellerSignals:U,sellerTimeout:M,perBuyerSignals:i,auctionSignals:{},decisionLogicUrl:at,interestGroupBuyers:Object.keys(i)}})})}return this.timer.finish(),this.metricsManager.sendEvents(this.metricBuilder,this.clientRequestId,!0),!0===e.user_sync&&et.execUserSync(m.context.remoteLogging,this.privacies,e),_.length?{bids:C,fledgeAuctionConfigs:_}:C},ht.prototype.handleBidWon=function(){},ht.prototype.handleBidTimeout=function(){this.timer.requestReceived(!0),this.timer.finish(),this.metricsManager.sendEvents(this.metricBuilder,this.clientRequestId,!0)},ht.prototype.handleSetTargeting=function(){},ht.prototype.onDataDeletionRequest=function(e){var t=(window.criteo_pubtag_prebid_144||window.criteo_pubtag).context,i=t.bundle;t.identityHelper.deleteCriteoUid(),i&&fetch(\"https://privacy.criteo.com/api/privacy/datadeletionrequest\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({publisherUserId:i})})},ht.prototype.getBannerSizes=function(e,t){var i,n;return(null===(n=null===(i=e.mediaTypes)||void 0===i?void 0:i.banner)||void 0===n?void 0:n.sizes)||(t?e.sizes:[])||[]},ht.prototype.getNativeSizes=function(e){var t,i,n;return(null===(n=null===(i=null===(t=e.mediaTypes)||void 0===t?void 0:t.native)||void 0===i?void 0:i.image)||void 0===n?void 0:n.sizes)||[]},ht.prototype.getSizes=function(e,t){var i=this.getBannerSizes(e,!t).map(function(e){return new Be(e[0],e[1])}),n=this.getNativeSizes(e).map(function(e){return new Be(e[0],e[1])});return i.concat(n).filter(function(e,t,i){return i.indexOf(e)===t})},ht.prototype.createOutstreamVideoRenderer=function(i){if(void 0!==i.video_callback)return{url:\"#\",render:function(e,t){re(i.video_callback,[{slotid:i.impid,vastUrl:i.displayurl,vastXml:i.creative,documentContext:t}])},config:{documentResolver:function(e,t,i){return null!=i?i:t}}}},ht.prototype.parseSizes=function(e){try{if(e)return 2===e.length&&\"number\"==typeof e[0]&&\"number\"==typeof e[1]?[new Be(e[0],e[1])]:(e||[]).map(function(e){return new Be(e[0],e[1])})}catch(e){$.Debug(\"Could not parse size\"+e)}return[]},ht.prototype.pickAvailableGetFloorFunc=function(t){if(t.getFloor)return t.getFloor;if(t.params.bidFloor&&t.params.bidFloorCur)try{var i=parseFloat(t.params.bidFloor);return function(e){return{currency:t.params.bidFloorCur,floor:i}}}catch(e){}},ht.prototype.enrichSlotWithFloors=function(e,t){var i,n,r,o,s,a,c;try{var d={},l=this.pickAvailableGetFloorFunc(t);void 0!==l&&((null===(i=t.mediaTypes)||void 0===i?void 0:i.banner)&&(d.banner={},this.parseSizes(null===(r=null===(n=t.mediaTypes)||void 0===n?void 0:n.banner)||void 0===r?void 0:r.sizes).forEach(function(e){void 0!==l&&(d.banner[e.toString()]=l.call(t,{size:[e.width,e.height],mediaType:ct.Banner}))})),(null===(o=t.mediaTypes)||void 0===o?void 0:o.video)&&(d.video={},this.parseSizes(null===(a=null===(s=t.mediaTypes)||void 0===s?void 0:s.video)||void 0===a?void 0:a.playerSize).forEach(function(e){void 0!==l&&(d.video[e.toString()]=l.call(t,{size:[e.width,e.height],mediaType:ct.Video}))})),(null===(c=t.mediaTypes)||void 0===c?void 0:c.native)&&(d.native={},d.native[\"*\"]=l.call(t,{size:\"*\",mediaType:ct.Native})),Object.keys(d).length&&(e=L(L({},e),{floors:d})))}catch(e){$.Debug(\"Could not parse floors from Prebid: \"+e)}return e},ht);function ht(e,t,i,n,r,o){var s,a,c,d,l,u,p,h,v,f,m,g,y,b,w,C;this.utilMethods=o;var _=window.criteo_pubtag_prebid_144||window.criteo_pubtag;this.clientRequestId=Re(),this.privacies={},n.gdprConsent&&(this.privacies.gdprConsent={},void 0!==n.gdprConsent.consentString&&(this.privacies.gdprConsent.consentData=n.gdprConsent.consentString),void 0!==n.gdprConsent.gdprApplies&&(this.privacies.gdprConsent.gdprApplies=!!n.gdprConsent.gdprApplies),this.privacies.gdprConsent.version=n.gdprConsent.apiVersion),this.privacies.ccpaIabConsent={uspString:n.uspConsent},this.regs=new it(n.coppa,null===(a=null===(s=n.ortb2)||void 0===s?void 0:s.regs)||void 0===a?void 0:a.gpp,null===(d=null===(c=n.ortb2)||void 0===c?void 0:c.regs)||void 0===d?void 0:d.gpp_sid);var S=new Xe(void 0,this.privacies);this.timeout=We(n.timeout),this.metricsManager=new _e(S),this.metricBuilder=new de(this.metricsManager),this.timer=new Fe(this.metricBuilder,n.start,this.timeout);var E,I,T,P=new Ve;this.adBlockFlagManager=B.create(S),this.adBlockFlagManager.adBlockFlagEnabled()&&(e=nt,_.context.isAdBlocked=!0),this.auctionId=n.auctionId,this.bidRequests=i,(window.Criteo_prebid_144||window.Criteo).prebid_adapters=(window.Criteo_prebid_144||window.Criteo).prebid_adapters||{},((window.Criteo_prebid_144||window.Criteo).prebid_adapters[this.auctionId]=this).slots=[];for(var A=!0,x=0,R=i;x<R.length;x++){(M=R[x]).bidId&&((window.Criteo_prebid_144||window.Criteo).prebid_adapters[M.bidId]=this);var D=void 0;M.fpd&&M.fpd.context&&(D=M.fpd.context),(null===(l=M.ortb2Imp)||void 0===l?void 0:l.ext)&&((null==D?void 0:D.data)&&M.ortb2Imp.ext.data&&(D.data=L(L({},D.data),M.ortb2Imp.ext.data)),D=L(L({},M.ortb2Imp.ext),D)),M.params.ext&&((null==D?void 0:D.data)&&M.params.ext.data&&(D.data=L(L({},D.data),M.params.ext.data)),D=L(L({},M.params.ext),D)),(null===(u=M.nativeOrtbRequest)||void 0===u?void 0:u.assets)&&(D=L({assets:M.nativeOrtbRequest.assets},D)),A=this.hasValidNativeParams(M);var k=ht.isPrebid3OrAbove(r);D=this.enrichSlotWithFloors(D,M),this.slots.push(new De(M.adUnitCode,M.params.zoneId,void 0!==M.params.nativeCallback||void 0!==(null===(p=null==M?void 0:M.mediaTypes)||void 0===p?void 0:p.native),M.params.nativeCallback,M.transactionId,this.getSizes(M,k),M.params.publisherSubId,M.mediaTypes,ht.getVideoInfoFromBidRequest(M),D,null===(h=M.ortb2Imp)||void 0===h?void 0:h.rwdd,M.bidId)),E=M.params.networkId||E,I=M.schain||I,N(n.ceh),M.params.integrationMode&&(T=me(M.params.integrationMode))}A||$.Warning(\"All native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, privacyLink, privacyIcon)\");var O,M,U=new ye(!1);0<i.length&&(M=i[0]).userIdAsEids&&0<M.userIdAsEids.length&&(O=M.userIdAsEids);(null===(v=n.ortb2)||void 0===v?void 0:v.user)&&_.context.setUser(n.ortb2.user),(null===(f=n.ortb2)||void 0===f?void 0:f.site)&&_.context.setSite(n.ortb2.site),(null===(m=n.ortb2)||void 0===m?void 0:m.device)&&_.context.setDevice(n.ortb2.device);var F={tid:null===(y=null===(g=n.ortb2)||void 0===g?void 0:g.source)||void 0===y?void 0:y.tid,ext:I?{schain:I}:void 0};this.requestBuilder=new Pe(this.slots,_.context,U,e,T,E,t,{ccpaIabConsent:this.privacies.ccpaIabConsent,gdprConsent:this.privacies.gdprConsent},r,P,this.timeout,this.clientRequestId,O,n.start,F,this.regs,null===(b=n.ortb2)||void 0===b?void 0:b.bcat,null===(w=n.ortb2)||void 0===w?void 0:w.badv,null===(C=n.ortb2)||void 0===C?void 0:C.bapp,n.fledgeEnabled),this.url=this.requestBuilder.getUrl(),this.fledgeEnabled=!!n.fledgeEnabled}function vt(e){try{return JSON.parse(e)}catch(e){return}}var ft=1,mt=(gt.prototype.getCMPFrame=function(){for(var e,t=this.currentWindow,i=0;i<10;++i){try{t.frames.__uspapiLocator&&(e=t)}catch(e){}if(t===this.currentWindow.top)break;t=t.parent}return e},gt.prototype.hasCallerFunctionInWindow=function(){return\"function\"==typeof this.currentWindow.__uspapi},gt.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInWindow()||void 0!==this.getCMPFrame()},gt.prototype.retrieveConsent=function(i){var n=this,r=!1,o=window.setTimeout(function(){r=!0,n.logger(\"Timeout: Unable to resolve CCPA consent after \"+n.timeout+\"ms\"),i(void 0)},this.timeout);this.executeCommand(\"getUSPData\",ft,function(e,t){r||(clearTimeout(o),t?(n.logger(\"CCPA consent retrieved\"),n.processResponseData(e,i)):(n.logger(\"Error retrieving CCPA consent data from CMP\"),i(void 0)))})},gt.prototype.processResponseData=function(e,t){e?t(e):(this.logger(\"Unable to read CCPA consent data from CMP\"),t(void 0))},gt.prototype.executeCommand=function(e,t,i){var o=this;if(!this.hasCallerFunctionInWindow()){this.logger(\"No CCPA CMP defined on current frame\");var s=this.getCMPFrame();this.currentWindow.__uspapi=function(e,t,i){if(!s)return o.logger(\"CCPA CMP not found in any frame\"),void i({msg:\"CCPA CMP not found in any frame\"},!1);var n=Math.random().toString(10),r={__uspapiCall:{command:e,parameter:t,callId:n}};o.uspapiCallbacks[n]=i,s.postMessage(r,\"*\")},this.currentWindow.addEventListener(\"message\",function(e){var t=\"string\"==typeof e.data?vt(e.data):e.data;if(t&&t.__uspapiReturn&&t.__uspapiReturn.callId&&t.__uspapiReturn.returnValue){var i=t.__uspapiReturn;o.uspapiCallbacks&&o.uspapiCallbacks[i.callId]&&(o.uspapiCallbacks[i.callId](i.returnValue,i.success),delete o.uspapiCallbacks[i.callId])}},!1)}this.currentWindow.__uspapi(e,t,i)},gt.prototype.hasUserOptOut=function(e){return!(!e||!e.uspString||\"1YNY\"===e.uspString.toUpperCase()||\"1YNN\"===e.uspString.toUpperCase()||\"1YN-\"===e.uspString.toUpperCase()||\"1-N-\"===e.uspString.toUpperCase()||\"1---\"===e.uspString)},gt);function gt(e,t,i){void 0===i&&(i=function(e){}),this.uspapiCallbacks={},this.currentWindow=e,this.timeout=t.uspApiTimeout,this.logger=i}var yt=(bt.prototype.getReadyToRetrieveProvider=function(){return this.tcfv2ConsentProvider.hasCallerFunctionInFrame()?this.tcfv2ConsentProvider:this.tcfv1ConsentProvider.hasCallerFunctionInFrame()?this.tcfv1ConsentProvider:void 0!==this.tcfv2ConsentProvider.getCMPFrame()?this.tcfv2ConsentProvider:void 0!==this.tcfv1ConsentProvider.getCMPFrame()?this.tcfv1ConsentProvider:void 0},bt.prototype.retrieveConsentForPassback=function(e){var t=this.getReadyToRetrieveProvider();void 0===t&&(this.logger(\"No compatible GDPR privacy provider found\"),e(void 0)),t===this.tcfv1ConsentProvider?this.tcfv1ConsentProvider.retrieveConsentForPassback(e):t===this.tcfv2ConsentProvider&&this.tcfv2ConsentProvider.retrieveConsent(e)},bt.prototype.retrieveConsent=function(e){var t=this.getReadyToRetrieveProvider();void 0===t&&(this.logger(\"No compatible GDPR privacy provider found\"),e(void 0)),null==t||t.retrieveConsent(e)},bt.prototype.readyToRetrieve=function(){return this.tcfv2ConsentProvider.readyToRetrieve()||this.tcfv1ConsentProvider.readyToRetrieve()},bt);function bt(e,t,i){void 0===i&&(i=function(e){}),this.tcfv1ConsentProvider=e,this.tcfv2ConsentProvider=t,this.logger=i}var wt=91,Ct=(_t.prototype.getCMPFrame=function(){for(var e,t=this.currentWindow,i=0;i<10;++i){try{t.frames.__cmpLocator&&(e=t)}catch(e){}if(t===this.currentWindow.top)break;t=t.parent}return e},_t.prototype.hasCallerFunctionInFrame=function(){return\"function\"==typeof this.currentWindow.__cmp},_t.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||void 0!==this.getCMPFrame()},_t.prototype.pingWithTimeout=function(n,e,t,i){function r(e,t){o.logger(t),clearTimeout(e),i()}var o=this;return window.setTimeout(function(){var i=window.setTimeout(function(){r(n,\"Timeout: Unable to get ping return after \"+e+\"ms\")},e);o.executeCommand(\"ping\",null,function(e,t){clearTimeout(i),t?(o.logger(\"GDPR CMP ping returned\"),!0!==e.cmpLoaded&&r(n,\"GDPR ping returned cmpLoaded which is not true\"),o.logger(\"GDPR ping returned cmpLoaded which is true\")):r(n,\"Error sending ping to GDPR CMP\")})},t)},_t.prototype.retrieveConsent=function(e){this.executeRetrieveConsent(\"getConsentData\",null,e)},_t.prototype.retrieveConsentForPassback=function(e){this.executeRetrieveConsent(\"getVendorConsents\",[wt],e)},_t.prototype.executeRetrieveConsent=function(e,t,i){var n=this,r=!1,o=window.setTimeout(function(){r=!0,n.logger(\"Timeout: Unable to resolve GDPR consent after \"+n.timeout+\"ms\"),i(void 0)},this.timeout),s=!1!==this.cmpAutoDetect?this.pingWithTimeout(o,this.pingTimeout,this.pingDelay,function(){r=!0,n.logger(\"Timeout: Unable to ping GDPR API after \"+n.pingTimeout+\"ms\"),i(void 0)}):void 0;this.executeCommand(e,t,function(e,t){clearTimeout(s),r||(clearTimeout(o),t?(n.logger(\"GDPR consent retrieved\"),n.processConsentData(e,i)):(n.logger(\"Error retrieving GDPR consent data from CMP\"),i(void 0)))})},_t.prototype.processConsentData=function(e,t){if(e){var i={};void 0!==e.consentData&&(i.consentData=e.consentData),void 0!==e.gdprApplies&&(i.gdprApplies=!!e.gdprApplies),t(i)}else this.logger(\"Unable to read GDPR consent data from CMP\"),t(void 0)},_t.prototype.executeCommand=function(e,t,i){var o=this;if(!this.hasCallerFunctionInFrame()){this.logger(\"No GDPR CMP defined on current frame\");var s=this.getCMPFrame();this.currentWindow.__cmp=function(e,t,i){if(!s)return o.logger(\"GDPR CMP not found in any frame\"),void i({msg:\"GDPR CMP not found in any frame\"},!1);var n=Math.random().toString(10),r={__cmpCall:{command:e,parameter:t,callId:n}};o.cmpCallbacks[n]=i,s.postMessage(r,\"*\")},this.currentWindow.addEventListener(\"message\",function(e){var t=\"string\"==typeof e.data?vt(e.data):e.data;if(t&&t.__cmpReturn&&t.__cmpReturn.callId&&t.__cmpReturn.returnValue){var i=t.__cmpReturn;o.cmpCallbacks&&o.cmpCallbacks[i.callId]&&(o.cmpCallbacks[i.callId](i.returnValue,i.success),delete o.cmpCallbacks[i.callId])}},!1)}this.currentWindow.__cmp(e,t,i)},_t);function _t(e,t,i){void 0===i&&(i=function(e){}),this.cmpCallbacks={},this.currentWindow=e,this.timeout=t.tcfTimeout,this.pingTimeout=t.tcfPingTimeout,this.pingDelay=t.tcfPingDelay,this.cmpAutoDetect=t.cmpAutoDetect,this.logger=i}var St=2,Et,It;It=Et=Et||{},It.LOADED=\"tcloaded\",It.UI_SHOWN=\"cmpuishown\",It.USER_ACTION_COMPLETE=\"useractioncomplete\";var Tt=(Pt.prototype.getCMPFrame=function(){for(var e,t=this.currentWindow,i=0;i<10;++i){try{t.frames.__tcfapiLocator&&(e=t)}catch(e){}if(t===this.currentWindow.top)break;t=t.parent}return e},Pt.prototype.hasCallerFunctionInFrame=function(){return\"function\"==typeof this.currentWindow.__tcfapi},Pt.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||void 0!==this.getCMPFrame()},Pt.prototype.pingWithTimeout=function(i,e,t,n){function r(e,t){o.logger(t),clearTimeout(e),n()}var o=this;return window.setTimeout(function(){var t=window.setTimeout(function(){r(i,\"Timeout: Unable to get TCFv2 ping return after \"+e+\"ms\")},e);o.executeCommand(\"ping\",St,function(e){clearTimeout(t),o.logger(\"TCFv2 CMP ping returned in ms\"),\"error\"===e.cmpStatus?r(i,\"Error status on ping to TCFv2 CMP\"):!0!==e.cmpLoaded?r(i,\"TCFv2 ping returned cmpLoaded = false\"):o.logger(\"TCFv2 ping returned cmpLoaded = true\")})},t)},Pt.prototype.retrieveConsent=function(i){var n,r,o=this,s=!1,a=window.setTimeout(function(){s=!0,r===Et.UI_SHOWN?(o.logger(\"Timeout: User hasn't confirm their consent settings after \"+o.timeout+\"ms\"),i(n)):(o.logger(\"Timeout: Unable to resolve TCFv2 consent after \"+o.timeout+\"ms\"),i(void 0))},this.timeout),c=!1!==this.cmpAutoDetect?this.pingWithTimeout(a,this.pingTimeout,this.pingDelay,function(){s=!0,o.logger(\"Timeout: Unable to ping TCFv2 API after \"+o.pingTimeout+\"ms\"),i(void 0)}):void 0;this.executeCommand(\"addEventListener\",St,function(e,t){clearTimeout(c),s||((r=e.eventStatus)!==Et.UI_SHOWN&&clearTimeout(a),t?(o.logger(\"TCFv2 consent retrieved in ms\"),e||(o.logger(\"Unable to read GDPR consent data from CMP\"),i(void 0)),n=o.processResponseData(e),r!==Et.LOADED&&r!==Et.USER_ACTION_COMPLETE||i(n)):(o.logger(\"Error retrieving TCFv2 consent data from CMP\"),i(void 0)))})},Pt.prototype.processResponseData=function(e){var t,i,n={};return void 0!==e.tcString&&(n.consentData=e.tcString),void 0!==e.gdprApplies&&(n.gdprApplies=!!e.gdprApplies),n.version=e.tcfPolicyVersion?e.tcfPolicyVersion:St,n.purposes=null===(t=null==e?void 0:e.purpose)||void 0===t?void 0:t.consents,n.vendorConsents=null===(i=null==e?void 0:e.vendor)||void 0===i?void 0:i.consents,n},Pt.prototype.executeCommand=function(e,t,i,n){var s=this;if(!this.hasCallerFunctionInFrame()){this.logger(\"No TCFv2 CMP defined on current frame\");var a=this.getCMPFrame();this.currentWindow.__tcfapi=function(e,t,i,n){if(!a)return s.logger(\"TCFv2 CMP not found in any frame\"),void i({msg:\"TCFv2 CMP not found in any frame\"},!1);var r=Math.random().toString(10),o={__tcfapiCall:{command:e,version:t,parameter:n,callId:r}};s.cmpCallbacks[r]=i,a.postMessage(o,\"*\")},this.currentWindow.addEventListener(\"message\",function(e){var t=\"string\"==typeof e.data?vt(e.data):e.data;if(t&&t.__tcfapiReturn&&t.__tcfapiReturn.callId&&t.__tcfapiReturn.returnValue){var i=t.__tcfapiReturn;s.cmpCallbacks&&s.cmpCallbacks[i.callId]&&\"function\"==typeof s.cmpCallbacks[i.callId]&&(s.cmpCallbacks[i.callId](i.returnValue,i.success),i.returnValue.eventStatus!==Et.UI_SHOWN&&delete s.cmpCallbacks[i.callId])}},!1)}this.currentWindow.__tcfapi(e,t,i,n)},Pt);function Pt(e,t,i){void 0===i&&(i=function(e){}),this.cmpCallbacks={},this.currentWindow=e,this.timeout=t.tcfTimeout,this.pingTimeout=t.tcfPingTimeout,this.pingDelay=t.tcfPingDelay,this.cmpAutoDetect=t.cmpAutoDetect,this.logger=i}var At=\"1.0\",xt=\"1.1\",Rt=(Dt.prototype.getCMPFrame=function(){for(var e,t=this.currentWindow,i=0;i<10;++i){try{void 0!==t&&t.frames.__gppLocator&&(e=t)}catch(e){}if(t===this.currentWindow.top)break;t=t.parent}return e},Dt.prototype.hasCallerFunctionInFrame=function(){return\"function\"==typeof this.currentWindow.__gpp},Dt.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||void 0!==this.getCMPFrame()},Dt.prototype.retrieveConsent=function(i){function n(e,t){r.logger(t),clearTimeout(e),o=!0,r.logger(\"Timeout: Unable to ping GPP after \"+r.pingTimeout+\"ms\"),i(void 0)}var r=this,o=!1,s=window.setTimeout(function(){o=!0,r.logger(\"Timeout: Unable to resolve GPP consent after \"+r.timeout+\"ms\"),i(void 0)},this.timeout);window.setTimeout(function(){var t=window.setTimeout(function(){n(s,\"Timeout: Unable to get GPP ping return after \"+r.pingTimeout+\"ms\")},r.pingTimeout);r.executeCommand(\"ping\",function(e){clearTimeout(t),r.logger(\"GPP CMP ping has responsed\"),e.gppVersion===At?(r.logger(\"Detected GPP CMP 1.0\"),\"error\"===e.cmpStatus?n(s,\"Error status on ping to GPP CMP\"):\"loaded\"===e.cmpStatus?(r.logger(\"GPP ping returned cmpStatus = loaded\"),r.executeCommand(\"getGPPData\",function(e,t){o||(clearTimeout(s),t?(r.logger(\"GPP consent retrieved\"),r.processResponseData(e,i)):(r.logger(\"Error retrieving GPP consent data from CMP\"),i(void 0)))})):n(s,\"GPP ping returned cmpStatus != loaded\")):e.gppVersion===xt?(r.logger(\"Detected GPP CMP 1.1\"),\"ready\"===e.signalStatus?(clearTimeout(s),r.logger(\"GPP consent retrieved\"),r.processResponseData(e,i)):r.executeCommand(\"addEventListener\",function(e,t){o||\"signalStatus\"===e.eventName&&\"ready\"===e.pingData.signalStatus&&(clearTimeout(s),r.logger(\"GPP consent retrieved\"),r.processResponseData(e.pingData,i))})):n(s,\"Unknown GPP version \"+e.gppVersion)})},this.pingDelay)},Dt.prototype.processResponseData=function(e,t){if(e){var i={};void 0!==e.gppString&&(i.gpp=e.gppString),void 0!==e.applicableSections&&(i.gppSid=e.applicableSections),t(i)}else this.logger(\"Unable to read GPP consent data from CMP\"),t(void 0)},Dt.prototype.executeCommand=function(e,t,i){var o=this;if(!this.hasCallerFunctionInFrame()){this.logger(\"No GPP CMP defined on current frame\");var s=this.getCMPFrame();this.currentWindow.__gpp=function(e,t,i){if(!s)return o.logger(\"GPP CMP not found in any frame\"),void t({msg:\"GPP CMP not found in any frame\"},!1);var n=Math.random().toString(10),r={__gppCall:{command:e,parameter:i,callId:n}};o.cmpCallbacks[n]=t,s.postMessage(r,\"*\")},this.currentWindow.addEventListener(\"message\",function(e){var t=\"string\"==typeof e.data?vt(e.data):e.data;if(t&&t.__gppReturn&&t.__gppReturn.callId&&t.__gppReturn.returnValue){var i=t.__gppReturn;o.cmpCallbacks&&o.cmpCallbacks[i.callId]&&\"function\"==typeof o.cmpCallbacks[i.callId]&&(o.cmpCallbacks[i.callId](i.returnValue,i.success),delete o.cmpCallbacks[i.callId])}},!1)}this.currentWindow.__gpp(e,t,i)},Dt);function Dt(e,t,i){void 0===i&&(i=function(e){}),this.cmpCallbacks={},this.currentWindow=e,this.timeout=t.gppTimeout,this.pingTimeout=t.gppPingTimeout,this.pingDelay=t.gppPingDelay,this.logger=i}function kt(e){return{uspApiTimeout:parseInt(\"50\",10),tcfTimeout:parseInt(\"10000\",10),tcfPingTimeout:Math.min(parseInt(\"10000\",10),parseInt(\"50\",10)),tcfPingDelay:Math.min(parseInt(\"10000\",10),parseInt(\"1000\",10)),gppTimeout:parseInt(\"10000\",10),gppPingTimeout:Math.min(parseInt(\"10000\",10),parseInt(\"50\",10)),gppPingDelay:Math.min(parseInt(\"10000\",10),parseInt(\"1000\",10)),cmpAutoDetect:null==e?void 0:e.cmpAutoDetect}}var Ot=(Mt.prototype.checkTcfPurposeOne=function(e){return!(e&&(null==e?void 0:e.gdprConsent)&&e.gdprConsent.purposes)||!0===e.gdprConsent.purposes[1]},Mt.prototype.setCookie=function(e,t,i,n,r){void 0===r&&(r=!1);var o=n||document,s=o.location.hostname,a=new Date;a.setTime(a.getTime()+60*i*60*1e3);var c=\"expires=\"+a.toUTCString();if(!r)return this.setCookieString(e,t,c,void 0,o),s;for(var d=s.split(\".\"),l=1;l<d.length;++l){var u=d.slice(d.length-l-1,d.length).join(\".\");if(!(-1<this.publicTopTlds.indexOf(u)))try{this.setCookieString(e,t,c,u,o);var p=this.getCookie(e,n);if(p&&p===t)return u}catch(e){}}return s},Mt.prototype.deleteCookie=function(e,t,i){void 0===i&&(i=!1),this.setCookie(e,\"\",0,t,i)},Mt.prototype.getCookie=function(e,t){if(this.cookiesEnabled)for(var i=0,n=(t||document).cookie.split(\";\");i<n.length;i++){var r=n[i],o=r.substr(0,r.indexOf(\"=\")).replace(/^\\s+|\\s+$/g,\"\"),s=r.substr(r.indexOf(\"=\")+1);if(o===e)return decodeURIComponent(s)}},Mt.prototype.setCookieString=function(e,t,i,n,r){if(this.cookiesEnabled){var o=e+\"=\"+encodeURIComponent(t)+\";\"+i+\";\";n&&\"\"!==n&&(o+=\"domain=.\"+n+\";\"),r.cookie=o+\"path=/\"}},Mt);function Mt(e){this.publicTopTlds=[\"co.id\",\"co.il\",\"co.jp\",\"co.kr\",\"co.nz\",\"co.th\",\"co.uk\",\"com.au\",\"com.br\",\"com.mx\",\"com.my\",\"com.pl\",\"com.sg\",\"com.tr\",\"com.vn\"],this.cookiesEnabled=this.checkTcfPurposeOne(e)}var Ut=(Ft.prototype.initializeServices=function(){var i=this;this.initializing=!0,this.retrievePrivacyConsent(function(e){var t={localStorageHelper:new Xe(i.topFrame,e),privacies:e,ccpaConsentProvider:i.ccpaConsentProvider,gppConsentProvider:i.gppConsentProvider,cookieHelper:new Ot(e)};i.services=t,i.initialized=!0,i.initializing=!1,i.postInitiliazeServicesCallbacks.forEach(function(e){e(t)})})},Ft.prototype.getServicesAsync=function(e){this.initialized?e(this.services):(this.postInitiliazeServicesCallbacks.push(e),this.initializing||this.initializeServices())},Ft.prototype.retrievePrivacyConsent=function(t){var e=this.tcfCompatibleConsentProvider.readyToRetrieve(),i=this.ccpaConsentProvider.readyToRetrieve(),n=this.gppConsentProvider.readyToRetrieve();e||i||n||t(void 0);var r=[];e&&r.push(yt),i&&r.push(mt),n&&r.push(Rt);var o={};e&&this.tcfCompatibleConsentProvider.retrieveConsent(function(e){o.gdprConsent=e,r.splice(r.indexOf(yt),1),0===r.length&&t(o)}),i&&this.ccpaConsentProvider.retrieveConsent(function(e){o.ccpaIabConsent=e,r.splice(r.indexOf(mt),1),0===r.length&&t(o)}),n&&this.gppConsentProvider.retrieveConsent(function(e){o.gppConsent=e,r.splice(r.indexOf(Rt),1),0===r.length&&t(o)})},Ft);function Ft(e,t,i,n,r){this.initializing=!1,this.initialized=!1,this.postInitiliazeServicesCallbacks=[],this.topFrame=e||window;var o=kt(r);this.ccpaConsentProvider=t||new mt(window,o,$.Warning);var s=new Ct(window,o,$.Warning),a=new Tt(window,o,$.Warning);this.tcfCompatibleConsentProvider=i||new yt(s,a,$.Warning),this.gppConsentProvider=n||new Rt(window,o,$.Warning),this.initializeServices()}var Lt=(Bt=k,t(Nt,Bt),Nt.prototype.getMetricBuilder=function(){return this.metricBuilder},Nt.prototype.eval=function(e){this.evalWithTimeout(e,void 0)},Nt.prototype.evalWithTimeout=function(t,i){var n=this;(this.serviceProvider||new Ut).getServicesAsync(function(e){n.metricsManager||(n.metricsManager=new _e(e.localStorageHelper)),n.metricBuilder||(n.metricBuilder=new de(n.metricsManager)),n.innerEval(t,n.metricBuilder,e.privacies,i)})},Nt.prototype.innerEval=function(n,r,o,e){var s=this,a=Re(),t=Nt.getCriteoAdapterBidRequest(),i=Nt.getRequestAuctionStart(t),c=e||We(t&&t.timeout),d=new Fe(r,i,c),l=new Pe(this.slots,n.context,this.urlBuilder,this.profileId,this.integrationMode,this.networkId,this.adapterVersion,o,void 0,this.viewportComputer,c,a,n.context.userIds,Math.round(new Date/1e3));if(!l.isValid()||\"undefined\"==typeof JSON)return $.Debug(\"Request ignored because it doesnt contain any slot\"),void this.callbackError(void 0,void 0);var u=l.getRequest(),p=JSON.stringify(u),h=l.getUrl(),v=new Ye(h,p,\"application/x-www-form-urlencoded\");d.sendRequest(h),v.send(function(e){try{d.requestReceived();var t=ue(e)||{},i=xe(t);void 0!==s.callbackSuccess&&s.callbackSuccess(JSON.stringify(t),i),d.finish(),!0===t.user_sync&&et.execUserSync(n.context.remoteLogging,o,t),r.getMetricsManager().sendEvents(r,a,!0)}catch(e){s.reportAsyncRequestException(n,\"onSuccess\",e)}n.context.remoteLogging.sendErrorReport(s.urlBuilder,a),s.metricBuilder=void 0},function(e,t){try{d.requestReceived(),void 0!==s.callbackError&&s.callbackError(e,t),d.finish(),r.getMetricsManager().sendEvents(r,a,!0)}catch(e){s.reportAsyncRequestException(n,\"onError\",e)}n.context.remoteLogging.sendErrorReport(s.urlBuilder,a),s.metricBuilder=void 0},function(){try{d.requestReceived(!0),void 0!==s.callbackTimeout&&s.callbackTimeout(),d.finish(),r.getMetricsManager().sendEvents(r,a,!0)}catch(e){s.reportAsyncRequestException(n,\"onTimeout\",e)}n.context.remoteLogging.sendErrorReport(s.urlBuilder,a),s.metricBuilder=void 0},this.timeout)},Nt.prototype.reportAsyncRequestException=function(e,t,i){var n=i.stack?i.stack:i.toString();e.context.remoteLogging.log(\"Exception\",\"Exception caught in AsyncRequest \"+t+\" callback:\\n\"+n),$.Error(\"Error \"+t+\":\\n\\t\"+n)},Nt.getCriteoAdapterBidRequest=function(){try{return window.pbjs._bidsRequested.find(function(e){return\"criteo\"===e.bidderCode})}catch(e){return}},Nt.getRequestAuctionStart=function(e){return e&&e.auctionStart},Nt.NAME=\"directbidding\",Nt),Bt;function Nt(e,t,i,n,r,o,s,a,c,d,l,u,p){var h=Bt.call(this,Nt.NAME)||this;return h.profileId=e,h.urlBuilder=t,h.slots=i,h.callbackSuccess=n,h.callbackError=r,h.callbackTimeout=o,h.serviceProvider=s,h.timeout=c,h.networkId=d,h.integrationMode=l,h.adapterVersion=u,h.viewportComputer=p,h.metricsManager=a,h.metricsManager&&(h.metricBuilder=new de(h.metricsManager)),h}var Wt=(Ht=k,t(qt,Ht),qt.prototype.eval=function(e){var t=this;setTimeout(function(){return t.onTimeout()},this.timeout),this.directBiddingEvent.evalWithTimeout(e,this.timeout)},qt.prototype.onSuccess=function(e,t){this.hasResponded=!0,this.hasTimeouted||this.callbackSuccess(e,t)},qt.prototype.onError=function(e,t){this.hasResponded=!0,this.hasTimeouted||this.callbackError(e,t)},qt.prototype.onHttpTimeout=function(){this.hasResponded=!0,this.hasTimeouted||this.callbackTimeout()},qt.prototype.onTimeout=function(){this.hasResponded||(this.hasTimeouted=!0,this.callbackTimeout())},qt.prototype.getMetricBuilder=function(){return this.directBiddingEvent.getMetricBuilder()},qt.NAME=\"directbidding\",qt),Ht;function qt(e,t,i,n,r,o,s,a,c,d,l,u,p){var h=Ht.call(this,qt.NAME)||this,v=Math.max(10*(c||3e3),3e3);return h.directBiddingEvent=new Lt(e,t,i,function(e,t){return h.onSuccess(e,t)},function(e,t){return h.onError(e,t)},function(){return h.onHttpTimeout()},a,s,v,d,l,u,p),h.slots=i,h.callbackSuccess=n,h.callbackError=r,h.callbackTimeout=o,h.timeout=0===c?0:c||3e3,h.hasTimeouted=!1,h.hasResponded=!1,h}function Gt(t){var i=\"criteo_fast_bid\";null===t.getItem(i,864e5)&&new Ye(\"https://static.criteo.net/js/ld/publishertag.prebid.144.js\",void 0,void 0,!1).send(function(e){t.setItem(i,e,864e5)},function(e,t){$.Error(\"Could not update FastBid\"+(t?\" (\"+t+\")\":\"\"))})}function zt(e){function t(){try{return i.apply(this,arguments)}catch(e){$.Error(\"Exception caught: \"+e.toString())}}var i=e;for(var n in t.prototype=i.prototype,i)i.hasOwnProperty(n)&&(t[n]=i[n]);return t}function Vt(e){for(var t in e)if(t in e){var i=e[t];\"function\"==typeof i?e[t]=zt(i):\"object\"==typeof i&&(e[t]=Vt(i))}return e}function jt(e){var t={push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(void 0!==e)for(var i=0,n=e;i<n.length;i++){var r=n[i];\"function\"==typeof r&&zt(r)()}}};return e&&Array.isArray(e)&&t.push.apply(t,e),t}var Kt=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function Xt(){throw new Error(\"Dynamic requires are not currently supported by rollup-plugin-commonjs\")}function Jt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function Yt(e,t){return e(t={exports:{}},t.exports),t.exports}function Qt(e){return e&&e.default||e}var $t=Yt(function(e,t){var i;i=function(){function c(e){return\"function\"==typeof e}var i=Array.isArray?Array.isArray:function(e){return\"[object Array]\"===Object.prototype.toString.call(e)},n=0,t=void 0,r=void 0,s=function(e,t){p[n]=e,p[n+1]=t,2===(n+=2)&&(r?r(h):y())};var e=\"undefined\"!=typeof window?window:void 0,o=e||{},a=o.MutationObserver||o.WebKitMutationObserver,d=\"undefined\"==typeof self&&\"undefined\"!=typeof process&&\"[object process]\"==={}.toString.call(process),l=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel;function u(){var e=setTimeout;return function(){return e(h,1)}}var p=new Array(1e3);function h(){for(var e=0;e<n;e+=2){(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0}n=0}var v,f,m,g,y=void 0;function b(e,t){var i=this,n=new this.constructor(_);void 0===n[C]&&F(n);var r=i._state;if(r){var o=arguments[r-1];s(function(){return M(r,n,o,i._result)})}else k(i,n,e,t);return n}function w(e){if(e&&\"object\"==typeof e&&e.constructor===this)return e;var t=new this(_);return A(t,e),t}y=d?function(){return process.nextTick(h)}:a?(f=0,m=new a(h),g=document.createTextNode(\"\"),m.observe(g,{characterData:!0}),function(){g.data=f=++f%2}):l?((v=new MessageChannel).port1.onmessage=h,function(){return v.port2.postMessage(0)}):(void 0===e&&\"function\"==typeof Xt?function(){try{var e=Function(\"return this\")().require(\"vertx\");return void 0!==(t=e.runOnLoop||e.runOnContext)?function(){t(h)}:u()}catch(e){return u()}}:u)();var C=Math.random().toString(36).substring(2);function _(){}var S=void 0,E=1,I=2;function T(e,n,r){s(function(t){var i=!1,e=function(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}(r,n,function(e){i||(i=!0,(n!==e?A:R)(t,e))},function(e){i||(i=!0,D(t,e))},t._label);!i&&e&&(i=!0,D(t,e))},e)}function P(e,t,i){var n,r;t.constructor===e.constructor&&i===b&&t.constructor.resolve===w?(n=e,(r=t)._state===E?R(n,r._result):r._state===I?D(n,r._result):k(r,void 0,function(e){return A(n,e)},function(e){return D(n,e)})):void 0===i?R(e,t):c(i)?T(e,t,i):R(e,t)}function A(t,e){if(t===e)D(t,new TypeError(\"You cannot resolve a promise with itself\"));else if(r=typeof(n=e),null===n||\"object\"!=r&&\"function\"!=r)R(t,e);else{var i=void 0;try{i=e.then}catch(e){return void D(t,e)}P(t,e,i)}var n,r}function x(e){e._onerror&&e._onerror(e._result),O(e)}function R(e,t){e._state===S&&(e._result=t,e._state=E,0!==e._subscribers.length&&s(O,e))}function D(e,t){e._state===S&&(e._state=I,e._result=t,s(x,e))}function k(e,t,i,n){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+E]=i,r[o+I]=n,0===o&&e._state&&s(O,e)}function O(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n=void 0,r=void 0,o=e._result,s=0;s<t.length;s+=3)n=t[s],r=t[s+i],n?M(i,n,r,o):r(o);e._subscribers.length=0}}function M(e,t,i,n){var r=c(i),o=void 0,s=void 0,a=!0;if(r){try{o=i(n)}catch(e){a=!1,s=e}if(t===o)return void D(t,new TypeError(\"A promises callback cannot return that same promise.\"))}else o=n;t._state!==S||(r&&a?A(t,o):!1===a?D(t,s):e===E?R(t,o):e===I&&D(t,o))}var U=0;function F(e){e[C]=U++,e._state=void 0,e._result=void 0,e._subscribers=[]}var L=(B.prototype._enumerate=function(e){for(var t=0;this._state===S&&t<e.length;t++)this._eachEntry(e[t],t)},B.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,n=i.resolve;if(n===w){var r=void 0,o=void 0,s=!1;try{r=t.then}catch(e){s=!0,o=e}if(r===b&&t._state!==S)this._settledAt(t._state,e,t._result);else if(\"function\"!=typeof r)this._remaining--,this._result[e]=t;else if(i===N){var a=new i(_);s?D(a,o):P(a,t,r),this._willSettleAt(a,e)}else this._willSettleAt(new i(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},B.prototype._settledAt=function(e,t,i){var n=this.promise;n._state===S&&(this._remaining--,e===I?D(n,i):this._result[t]=i),0===this._remaining&&R(n,this._result)},B.prototype._willSettleAt=function(e,t){var i=this;k(e,void 0,function(e){return i._settledAt(E,t,e)},function(e){return i._settledAt(I,t,e)})},B);function B(e,t){this._instanceConstructor=e,this.promise=new e(_),this.promise[C]||F(this.promise),i(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&R(this.promise,this._result))):D(this.promise,new Error(\"Array Methods must be provided an Array\"))}var N=(W.prototype.catch=function(e){return this.then(null,e)},W.prototype.finally=function(t){var i=this.constructor;return c(t)?this.then(function(e){return i.resolve(t()).then(function(){return e})},function(e){return i.resolve(t()).then(function(){throw e})}):this.then(t,t)},W);function W(e){this[C]=U++,this._result=this._state=void 0,this._subscribers=[],_!==e&&(\"function\"!=typeof e&&function(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}(),this instanceof W?function(t,e){try{e(function(e){A(t,e)},function(e){D(t,e)})}catch(e){D(t,e)}}(this,e):function(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}())}return N.prototype.then=b,N.all=function(e){return new L(this,e).promise},N.race=function(r){var o=this;return i(r)?new o(function(e,t){for(var i=r.length,n=0;n<i;n++)o.resolve(r[n]).then(e,t)}):new o(function(e,t){return t(new TypeError(\"You must pass an array to race.\"))})},N.resolve=w,N.reject=function(e){var t=new this(_);return D(t,e),t},N._setScheduler=function(e){r=e},N._setAsap=function(e){s=e},N._asap=s,N.polyfill=function(){var e=void 0;if(void 0!==Kt)e=Kt;else if(\"undefined\"!=typeof self)e=self;else try{e=Function(\"return this\")()}catch(e){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if(\"[object Promise]\"===i&&!t.cast)return}e.Promise=N},N.Promise=N},e.exports=i()}),Zt=$t.polyfill,ei=(ti.LoadPolyfills=function(){ti.DefineIsArray(),ti.DefineIndexOf(),ti.DefineFilter(),ti.DefinePromise()},ti.DefinePromise=function(){window.Promise||Zt()},ti.DefineIsArray=function(){Array.isArray||(Array.isArray=function(e){return\"[object Array]\"===Object.prototype.toString.call(e)})},ti.DefineIndexOf=function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){if(void 0===t&&(t=0),void 0===this)throw new TypeError(\"'this' is null or not defined\");var i=this.length;if(0===i)return-1;if(i<=t)return-1;for(var n=Math.max(0<=t?t:i-Math.abs(t),0);n<i;){if(n in this&&this[n]===e)return n;n++}return-1})},ti.DefineFilter=function(){Array.prototype.filter||(Array.prototype.filter=function(e){if(void 0===this||void 0===this)throw new TypeError;var t=this.length;if(\"function\"!=typeof e)throw new TypeError;for(var i=[],n=2<=arguments.length?arguments[1]:void 0,r=0;r<t;r++)if(r in this){var o=this[r];e.call(n,o,r,this)&&i.push(o)}return i})},ti);function ti(){}var ii=function(e,t){this.errorType=e,this.messages=t},ni=function(e,t,i){this.environment=e,this.errors=t,this.requestId=i},ri=(oi.prototype.withMessage=function(e,t){return e in this.messages||(this.messages[e]=new Array),this.messages[e].push(t),this},oi.prototype.withRequestId=function(e){return this.requestId=e,this},oi.prototype.build=function(){var e=Array();for(var t in this.messages)null!=t&&e.push(new ii(t,this.messages[t]));return new ni(this.environment,e,this.requestId)},oi);function oi(e){this.messages={},this.environment=e}var si=(di.prototype.reportPending=function(){return this.shouldSend},di.prototype.sendErrorReport=function(e,t){if(this.shouldSend){void 0!==t&&this.builder.withRequestId(t);var i=this.builder.build(),n=e.buildErrorUrl();n+=this.debug?\"?debug=1\":\"\";var r=JSON.stringify(i);navigator.sendBeacon&&navigator.sendBeacon(n,r),this.shouldSend=!1,this.builder=new ri(di.environment)}},di.prototype.log=function(e,t){this.shouldSend=!0,this.builder.withMessage(e,t)},di.environment=\"PublisherTag Version \"+ge,di),ai,ci;function di(e){void 0===e&&(e=!1),this.builder=new ri(di.environment),this.shouldSend=!1,this.debug=e}function li(t,i){try{return decodeURIComponent(t)}catch(e){return void 0!==i?i:t}}function ui(e){var t=document.createElement(\"a\");return t.href=e,{protocol:t.protocol,host:t.host,hostname:t.hostname,pathname:\"/\"===t.pathname[0]?t.pathname.slice(1):t.pathname,search:t.search,href:t.href}}function pi(e,t){var i=document.createElement(\"a\");t&&\"noDecodeWholeURL\"in t&&t.noDecodeWholeURL?i.href=e:i.href=decodeURIComponent(e);var n=t&&\"decodeSearchAsString\"in t&&t.decodeSearchAsString;return{href:i.href,protocol:(i.protocol||\"\").replace(/:$/,\"\"),hostname:i.hostname,port:+i.port,pathname:i.pathname.replace(/^(?!\\/)/,\"/\"),search:n?i.search:fi(i.search||\"\"),hash:(i.hash||\"\").replace(/^#/,\"\"),host:i.host||window.location.host}}function hi(t){return Object.keys(t).map(function(e){return e+\"=\"+t[e]}).join(\"&\")}function vi(e){return(e.protocol||\"http\")+\"://\"+(e.host||e.hostname+(e.port?\":\"+e.port:\"\"))+(e.pathname||\"\")+(e.search?\"?\"+hi(e.search||\"\"):\"\")+(e.hash?\"#\"+e.hash:\"\")}function fi(e){return e?e.replace(/^\\?/,\"\").split(\"&\").reduce(function(e,t){var i=t.split(\"=\"),n=i[0],r=i[1];return/\\[\\]$/.test(n)||(e[n]=r||\"\"),e},{}):{}}function mi(e){var t={},i=e.split(\"?\");if(1<i.length)for(var n=0,r=i[1].split(\"&\");n<r.length;n++){var o=r[n].split(\"=\");t[li(o[0])]=li(o[1])}return t}function gi(e){try{return Boolean(new URL(e))}catch(e){return!1}}ci=ai=ai||{},ci[ci.InFriendlyIframe=1]=\"InFriendlyIframe\",ci[ci.InUnfriendlyIframe=2]=\"InUnfriendlyIframe\",ci[ci.DirectIntegration=3]=\"DirectIntegration\";var yi=(bi.prototype.getUserContextualData=function(){var e,t,i,n,r,o,s,a,c,d,l,u,p,h;return{data:{contentLanguage:this.getContentLanguage(),navigatorLanguage:null===(t=null===(e=this.window)||void 0===e?void 0:e.navigator)||void 0===t?void 0:t.language,orientation:this.getOrientation(),windowInnerWidth:null===(i=this.window)||void 0===i?void 0:i.innerWidth,windowInnerHeight:null===(n=this.window)||void 0===n?void 0:n.innerHeight,pageWidth:null===(s=null===(o=null===(r=this.window)||void 0===r?void 0:r.document)||void 0===o?void 0:o.documentElement)||void 0===s?void 0:s.scrollWidth,pageHeight:null===(d=null===(c=null===(a=this.window)||void 0===a?void 0:a.document)||void 0===c?void 0:c.documentElement)||void 0===d?void 0:d.scrollHeight,sessionDuration:Oe.TimeSincePageLoad()},device:{w:null===(u=null===(l=this.window)||void 0===l?void 0:l.screen)||void 0===u?void 0:u.width,h:null===(h=null===(p=this.window)||void 0===p?void 0:p.screen)||void 0===h?void 0:h.height}}},bi.prototype.getOrientation=function(){var e,t,i,n,r,o;return((null===(t=null===(e=this.window)||void 0===e?void 0:e.screen)||void 0===t?void 0:t.orientation)||{}).type||(null===(n=null===(i=this.window)||void 0===i?void 0:i.screen)||void 0===n?void 0:n.mozOrientation)||(null===(o=null===(r=this.window)||void 0===r?void 0:r.screen)||void 0===o?void 0:o.msOrientation)},bi.prototype.getContentLanguage=function(){var e,t,i,n,r,o=null===(i=null===(t=null===(e=this.window)||void 0===e?void 0:e.document)||void 0===t?void 0:t.documentElement)||void 0===i?void 0:i.lang;if(!o&&\"function\"==typeof(null===(r=null===(n=this.window)||void 0===n?void 0:n.document)||void 0===r?void 0:r.querySelector)){var s=this.window.document.querySelector('meta[http-equiv=\"Content-Language\"]');o=null==s?void 0:s.content}return o},bi);function bi(e){this.window=e}var wi=(Ci=we,t(Ti,Ci),Ti.prototype.sendEvents=function(e){var t={requestId:this.context.getClientSessionId(),events:[e]};this.context.isEligibleForCsmEvents()&&this.sendEventsToBeacon(t,this.urlBuilder.buildCsmEventsUrl())},Ti),Ci,_i,Si,Ei,Ii;function Ti(e){var t=Ci.call(this)||this;return t.context=e,t}Si=_i=_i||{},Si[Si.None=0]=\"None\",Si[Si.Cookie=1]=\"Cookie\",Si[Si.LocalStorage=2]=\"LocalStorage\",Si[Si.Delegation=4]=\"Delegation\",Ii=Ei=Ei||{},Ii[Ii.Unknown=0]=\"Unknown\",Ii[Ii.Deactivated=1]=\"Deactivated\",Ii[Ii.Activated=2]=\"Activated\";var Pi=(Ai.prototype.getSid=function(){return this.userDataHandlers.sid().fromAllStorages()},Ai.prototype.getIdCpy=function(){return this.userDataHandlers.idCpy().fromAllStorages()},Ai.prototype.getLocalWebId=function(){return this.userDataHandlers.localWebId().fromAllStorages()},Ai.prototype.getOptOut=function(){return this.userDataHandlers.optOut().fromAllStorages()},Ai.prototype.getBundle=function(){return this.userDataHandlers.bundle().fromAllStorages()},Ai);function Ai(e){this.userDataHandlers=e}var xi=(Ri.fromUserIdentificationData=function(e){return new Ri(e.value,e.origin)},Ri.fromValue=function(e){return new Ri(e,_i.None)},Ri.prototype.hasValue=function(){return\"\"!==String(this.value)&&null!==this.value&&void 0!==this.value},Ri);function Ri(e,t){this.value=e,this.origin=t}var Di=(ki=xi,t(Oi,ki),Oi.prototype.hasValue=function(){return\"\"!==String(this.value)&&null!==this.value&&void 0!==this.value},Oi.prototype.saveOnAllStorages=function(){if(this.hasValue()){var e=\"boolean\"==typeof this.value?this.value?\"1\":\"0\":String(this.value);this.storageAdapter.writeToAllStorages(this.storageKey,e,this.expirationTimeHours)}},Oi.prototype.toJSON=function(){return{value:this.value,origin:this.origin}},Oi),ki;function Oi(e,t,i,n,r){var o=ki.call(this,i,n)||this;return o.storageKey=e,o.expirationTimeHours=t,o.storageAdapter=r,o}var Mi=(Ui.prototype.sid=function(){return this.createGuid(Ui.SID_COOKIE_NAME)},Ui.prototype.idCpy=function(){return this.createGuid(Ui.IDCPY_COOKIE_NAME)},Ui.prototype.localWebId=function(){return this.createGuid(Ui.LWID_COOKIE_NAME)},Ui.prototype.optOut=function(){return new Fi(Boolean,Ui.OPTOUT_COOKIE_NAME,Ui.OPTOUT_RETENTION_TIME_HOUR,this.storageAdapter)},Ui.prototype.bundle=function(){return this.createGuid(Ui.BUNDLE_COOKIE_NAME)},Ui.prototype.createGuid=function(e){return new Fi(String,e,Ui.GUID_RETENTION_TIME_HOUR,this.storageAdapter)},Ui.SID_COOKIE_NAME=\"cto_sid\",Ui.IDCPY_COOKIE_NAME=\"cto_idcpy\",Ui.LWID_COOKIE_NAME=\"cto_lwid\",Ui.OPTOUT_COOKIE_NAME=\"cto_optout\",Ui.BUNDLE_COOKIE_NAME=\"cto_bundle\",Ui.GUID_RETENTION_TIME_HOUR=9360,Ui.OPTOUT_RETENTION_TIME_HOUR=43200,Ui);function Ui(e){this.storageAdapter=e}var Fi=(Li.prototype.fromAllStorages=function(){var e=this.storageAdapter.readFromAllStorages(this.storageKey),t=\"boolean\"==typeof(new this.type).valueOf()?\"1\"===e.value:e.value;return this.create(t,e.origin)},Li.prototype.fromValue=function(e){return this.create(e,_i.None)},Li.prototype.removeFromAllStorages=function(){this.storageAdapter.removeFromAllStorages(this.storageKey)},Li.prototype.create=function(e,t){return new Di(this.storageKey,this.expirationTimeHours,e,t,this.storageAdapter)},Li);function Li(e,t,i,n){this.type=e,this.storageKey=t,this.expirationTimeHours=i,this.storageAdapter=n}var Bi=(Ni.prototype.getSyncframeListener=function(i,n){var r=this;return function(e){if(!r.discardMessageFromOtherFrames(e)||r.window.criteo_syncframe_state.ForceSyncframeMessageHandling){var t=e.data;(null==t?void 0:t.requestId)===i&&(e.stopImmediatePropagation(),r.handleSyncframeResponse(t,n),r.window.criteo_syncframe_state.firstSyncframeCompleted=!0,r.window.criteo_syncframe_state.syncframeRequested=!1,r.tryUnqueueAppendSyncframeRequests())}}},Ni.prototype.userBundleHasAlreadyBeenRetrieved=function(){return this.userDataHandlers.bundle().fromAllStorages().hasValue()},Ni.prototype.canDropSyncframe=function(){return!this.window.criteo_syncframe_state.syncframeRequested},Ni.prototype.discardMessageFromOtherFrames=function(e){return!e.data||e.origin!=this.syncframeOrigin},Ni.prototype.appendGumIframeIfDoesNotExist=function(e,t,i){var n,r=this;!0===(null===(n=this.window.criteo_syncframe_state)||void 0===n?void 0:n.firstSyncframeCompleted)||this.userBundleHasAlreadyBeenRetrieved()||this.canDropSyncframe()?this.appendGumIframe(e,t,i):this.queueAppendSyncframeRequest(function(){return r.appendGumIframeIfDoesNotExist(e,t,i)})},Ni.prototype.doOnCompletedDom=function(e){var t=this;if(this.window.addEventListener)if(\"complete\"===this.document.readyState)e();else{var i=function(){t.window.removeEventListener(\"load\",i),t.document.removeEventListener(\"DOMContentLoaded\",i),e()};this.window.addEventListener(\"load\",i,!1),this.document.addEventListener(\"DOMContentLoaded\",i,!1)}},Ni.prototype.appendGumIframe=function(e,t,i){t();var n=e();if(this.consentAllowsSyncframeToBeDropped(n.consent)){this.window.addEventListener(\"message\",this.getSyncframeListener(n.requestId,i),!0);var r=this.createIFrame(n);this.document.body.appendChild(r),this.window.criteo_syncframe_state.syncframeRequested=!0}else this.handleSyncframeResponse({},i)},Ni.prototype.consentAllowsSyncframeToBeDropped=function(e){var t;return 2!==(null==e?void 0:e.gdprVersion)||!0!==(null==e?void 0:e.gdprApplies)||!0===(null===(t=null==e?void 0:e.vendorConsents)||void 0===t?void 0:t[this.criteoGlobalVendorListId])},Ni.prototype.queueAppendSyncframeRequest=function(e){void 0!==this.window.criteo_syncframe_state.appendSyncframeRequestQueue&&this.window.criteo_syncframe_state.appendSyncframeRequestQueue.push(e)},Ni.prototype.tryUnqueueAppendSyncframeRequests=function(){for(var e,t,i=null===(e=this.window.criteo_syncframe_state.appendSyncframeRequestQueue)||void 0===e?void 0:e.shift();void 0!==i;)i(),i=null===(t=this.window.criteo_syncframe_state.appendSyncframeRequestQueue)||void 0===t?void 0:t.shift()},Ni.prototype.createIFrame=function(e){var t,i=this.document.createElement(\"iframe\"),n={uid:e.uid,lwid:e.localWebId,bundle:e.bundle,optout:e.optoutCookie,sid:e.secureIdCookie,tld:e.topLevelDomain,topUrl:e.topUrl,version:\"string\"==typeof e.version?null===(t=e.version)||void 0===t?void 0:t.replace(/\\./g,\"_\"):e.version,cw:e.canWriteCookie,lsw:e.canWriteLocalStorage,origin:e.origin,pm:e.privateMode,rtusCallerId:e.rtusCallerId,requestId:e.requestId},r=[];return r.push(\"origin=\"+e.origin),r.push(\"topUrl=\"+e.topUrl),e.consent&&(void 0!==e.consent.gdprApplies&&r.push(\"gdpr=\"+(e.consent.gdprApplies?1:0)),void 0!==e.consent.consentData&&r.push(\"gdpr_consent=\"+e.consent.consentData),void 0!==e.consent.uspString&&r.push(\"us_privacy=\"+e.consent.uspString),void 0!==e.consent.gppString&&r.push(\"gpp=\"+e.consent.gppString),void 0!==e.consent.gppSectionIds&&r.push(\"gpp_sid=\"+e.consent.gppSectionIds)),e.isDebug&&r.push(\"debug=1\"),i.src=this.syncframeEndpoint+\"?\"+r.join(\"&\")+\"#\"+JSON.stringify(n),i.width=\"0\",i.height=\"0\",i.frameBorder=\"0\",i.style.borderWidth=\"0px\",i.style.margin=\"0px\",i.style.display=\"none\",i.title=\"Criteo GUM iframe\",i},Ni);function Ni(e,t,i){this.criteoGlobalVendorListId=91,this.window=e,this.document=e.document,this.userDataHandlers=new Mi(t),i=null!=i?i:\"gum.criteo.com\",this.syncframeOrigin=\"https://\"+i,this.syncframeEndpoint=\"https://\"+i+\"/syncframe\",this.window.criteo_syncframe_state||(this.window.criteo_syncframe_state={syncframeRequested:!1}),this.window.criteo_syncframe_state.appendSyncframeRequestQueue||(this.window.criteo_syncframe_state.appendSyncframeRequestQueue=[])}var Wi=(Hi=Bi,t(qi,Hi),qi.prototype.handleSyncframeResponse=function(e,t){var i;if(e.optout)this.deleteUserData(),this.userDataHandlers.optOut().fromValue(!0).saveOnAllStorages(),null===(i=null==t?void 0:t.resolve)||void 0===i||i.call(t,\"\");else{if(e.uid&&this.userDataHandlers.idCpy().fromValue(e.uid).saveOnAllStorages(),e.callbacks)for(var n=0,r=\"string\"==typeof e.callbacks?[e.callbacks]:e.callbacks;n<r.length;n++){var o=r[n],s=this.document.createElement(\"img\");s.style.display=\"none\",s.width=1,s.height=1,s.setAttribute(\"data-owner\",\"criteo-tag\"),s.src=o}else e.bundle&&this.userDataHandlers.bundle().fromValue(e.bundle).saveOnAllStorages();e.removeSid?this.userDataHandlers.sid().removeFromAllStorages():e.sid&&this.userDataHandlers.sid().fromValue(e.sid).saveOnAllStorages(),(null==t?void 0:t.resolve)&&t.resolve(e.bundle?e.bundle:\"\")}},qi.prototype.appendGumIFrameOnCompletedDomIfItDoesNotExist=function(e,t){function i(){return n.appendGumIframeIfDoesNotExist(function(){return n.createSyncframeRequest(e(),r)},function(){},{resolve:t})}var n=this,r=Math.random().toString();this.adapter.isPubTagIds?i():this.doOnCompletedDom(i)},qi.prototype.createSyncframeRequest=function(e,t){return{uid:this.userDataHandlers.idCpy().fromAllStorages().toJSON(),localWebId:this.userDataHandlers.localWebId().fromAllStorages().toJSON(),bundle:this.userDataHandlers.bundle().fromAllStorages().toJSON(),optoutCookie:this.userDataHandlers.optOut().fromAllStorages().toJSON(),secureIdCookie:this.userDataHandlers.sid().fromAllStorages().toJSON(),topLevelDomain:e.topLevelDomain,topUrl:e.topUrl,version:e.version,canWriteCookie:e.canWriteCookie,canWriteLocalStorage:e.canWriteLocalStorage,origin:this.adapter.isPubTagIds?\"publishertagids\":\"publishertag\",privateMode:void 0,consent:e.consent,rtusCallerId:void 0,isDebug:this.adapter.isDebug,requestId:t}},qi.prototype.fetchUserData=function(){return new Pi(this.userDataHandlers)},qi.prototype.deleteUserData=function(){this.userDataHandlers.idCpy().removeFromAllStorages(),this.userDataHandlers.bundle().removeFromAllStorages(),this.userDataHandlers.sid().removeFromAllStorages()},qi),Hi;function qi(e,t,i){void 0===i&&(i=!1);var n=Hi.call(this,t,e.storageAdapter,i?\"gumi.criteo.com\":\"gum.criteo.com\")||this;return n.adapter=e,n}var Gi=(zi.prototype.synchronizeCriteoUid=function(e,t){var i=this,n=null==e?void 0:e.gdprConsent,r=null==e?void 0:e.ccpaIabConsent,o=null==e?void 0:e.gppConsent;this.syncframe.appendGumIFrameOnCompletedDomIfItDoesNotExist(function(){var e;return{topLevelDomain:i.getTld(),topUrl:encodeURIComponent(ui(i.topUrl).hostname),version:ge,canWriteCookie:i.canWriteCookies,canWriteLocalStorage:i.localStorageHelper.localStorageEnabled,consent:{gdprApplies:null==n?void 0:n.gdprApplies,consentData:null==n?void 0:n.consentData||\"\",gdprVersion:null==n?void 0:n.version,vendorConsents:null==n?void 0:n.vendorConsents,uspString:null==r?void 0:r.uspString,ccpaVersion:null==r?void 0:r.version,gppString:null==o?void 0:o.gpp,gppSectionIds:null===(e=null==o?void 0:o.gppSid)||void 0===e?void 0:e.join(\",\")}}},t)},zi.prototype.checkCookiesAreWriteable=function(){var e=\"cto_writeable\";this.cookieHelper.setCookie(e,\"1\",1,this.topDoc,!0);var t=\"1\"===this.cookieHelper.getCookie(e,this.topDoc);return this.cookieHelper.deleteCookie(e,this.topDoc,!0),t},zi.prototype.writeOnAllStorages=function(e,t,i){this.localStorageHelper.setItem(e,t),this.cookieHelper.setCookie(e,t,i,this.topDoc,!0)},zi.prototype.getFromAllStorages=function(e){var t=this.cookieHelper.getCookie(e,this.topDoc),i=this.localStorageHelper.getItem(e)||void 0;return{value:t||i,origin:(t&&_i.Cookie)|(i&&_i.LocalStorage)}},zi.prototype.deleteFromAllStorage=function(e){this.cookieHelper.deleteCookie(e,this.topDoc,!0),this.localStorageHelper.removeItem(e)},zi.prototype.getTld=function(){var e=this.cookieHelper.setCookie(zi.TLD_TEST_COOKIE_NAME,\"test\",1,this.topDoc,!0);return this.cookieHelper.deleteCookie(zi.TLD_TEST_COOKIE_NAME,this.topDoc,!0),e},zi.prototype.fetchUserData=function(){return this.syncframe.fetchUserData()},zi.prototype.deleteUserData=function(){this.syncframe.deleteUserData()},zi.TLD_TEST_COOKIE_NAME=\"cto_pub_test_tld\",zi);function zi(e,t,i,n,r,o){var s=this;this.topDoc=i.document,this.cookieHelper=e,this.localStorageHelper=t,this.canWriteCookies=this.checkCookiesAreWriteable(),this.topUrl=r;var a=!1;try{a=JSON.parse(\"false\")}catch(e){}this.syncframe=new Wi({storageAdapter:{readFromAllStorages:function(e){var t=s.getFromAllStorages(e);return{value:t.value,origin:t.origin}},writeToAllStorages:function(e,t,i){s.writeOnAllStorages(e,t,i)},removeFromAllStorages:function(e){s.deleteFromAllStorage(e)}},isPubTagIds:null!=o&&o,isDebug:n},i,a)}var Vi=(ji.prototype.synchronizeCriteoUid=function(e,t,i,n){var r,o=(null===(r=this.cookieSynchronizerFactory)||void 0===r?void 0:r.call(this))||new Gi(t,e,this.highestAccessibleWindowStruct.topFrame,this.debugMode,this.highestAccessibleUrl,!1),s=o.fetchUserData();i(\"\",s.getOptOut().value,\"\",s.getBundle().value),o.synchronizeCriteoUid(n)},ji.prototype.getServicesAndSyncCriteoUid=function(n){var r=this;void 0===n&&(n=function(e,t,i,n){}),this.serviceProvider.getServicesAsync(function(e){var t,i;(null===(t=e.ccpaConsentProvider)||void 0===t?void 0:t.hasUserOptOut(null===(i=e.privacies)||void 0===i?void 0:i.ccpaIabConsent))||r.synchronizeCriteoUid(e.localStorageHelper,e.cookieHelper,n,e.privacies)})},ji.prototype.deleteCriteoUid=function(){var i=this;this.serviceProvider.getServicesAsync(function(e){var t;((null===(t=i.cookieSynchronizerFactory)||void 0===t?void 0:t.call(i))||new Gi(e.cookieHelper,e.localStorageHelper,i.highestAccessibleWindowStruct.topFrame,i.debugMode,i.highestAccessibleUrl,!1)).deleteUserData()})},ji);function ji(e,t,i,n){this.highestAccessibleWindowStruct=Ge.getHighestAccessibleWindow(e),this.highestAccessibleUrl=Ge.getHighestAccessibleUrl(this.highestAccessibleWindowStruct);var r=mi(this.highestAccessibleUrl);this.debugMode=\"1\"===r.pbt_debug||!1,this.debugMode&&ee(X.Debug),this.cookieSynchronizerFactory=t,this.serviceProvider=i||new Ut(this.highestAccessibleWindowStruct.topFrame,void 0,void 0,void 0,n)}var Ki=(Xi.prototype.getContextFlags=function(){var e=\"\";return e+=this.debugMode?\"&debug=1\":\"\",e+=this.noLog?\"&nolog=1\":\"\"},Xi.prototype.isEligibleForCsmEvents=function(){return this.sessionRandomId%100==0},Xi.prototype.getClientSessionId=function(){return this.clientSessionId},Xi.prototype.getMetricsManager=function(){return this.contextMetricsManager},Xi.prototype.getDisplayContext=function(e){return Ge.inIframe()?e.err?ai.InUnfriendlyIframe:ai.InFriendlyIframe:ai.DirectIntegration},Xi.prototype.synchronizeCriteoUid=function(){var r=this;this.identityHelper.getServicesAndSyncCriteoUid(function(e,t,i,n){r.isOptOut=t,r.bundle=n})},Xi.prototype.getIdfs=function(){return\"\"},Xi.prototype.setIdfs=function(e){},Xi.prototype.setSite=function(e){this.site=e},Xi.prototype.getSite=function(){return this.site},Xi.prototype.setDevice=function(e){this.device=e},Xi.prototype.getDevice=function(){return this.device},Xi.prototype.setUser=function(e){this.user=e},Xi.prototype.getPublisherExt=function(){return{}},Xi.prototype.getUserExtWithContextualData=function(){return{}},Xi.prototype.getUser=function(){var e,t,i,n=this.user||{},r=this.userContextualDataManager.getUserContextualData();if(null==r?void 0:r.data){var o=L(L({},null===(e=n.ext)||void 0===e?void 0:e.data),r.data);n.ext=L(L({},n.ext),{data:o})}if(null==r?void 0:r.device){var s=L(L({},null===(t=n.ext)||void 0===t?void 0:t.device),r.device);n.ext=L(L({},n.ext),{device:s})}return(null===(i=this.device)||void 0===i?void 0:i.sua)&&(n.ext=L(L({},n.ext),{sua:this.device.sua})),n},Xi);function Xi(e,t,i,n,r,o,s,a){void 0===s&&(s=(new Date).getUTCMilliseconds()),void 0===a&&(a=Re()),this.cloneByImpressionId={},this.sessionRandomId=s,this.clientSessionId=a,this.contextMetricsManager=new wi(this),this.charset=e.charset||e.characterSet||\"\",this.highestAccessibleWindowStruct=Ge.getHighestAccessibleWindow(t),this.displayContext=this.getDisplayContext(this.highestAccessibleWindowStruct),this.highestAccessibleUrl=Ge.getHighestAccessibleUrl(this.highestAccessibleWindowStruct);var c=mi(this.highestAccessibleUrl);this.debugMode=\"1\"===c.pbt_debug||!1,this.noLog=\"1\"===c.pbt_nolog||!1,this.remoteLogging=new si(this.debugMode),this.debugMode&&ee(X.Debug),this.location=t.location,this.dising=!1,this.ct0=void 0,this.wpdt0=void 0,this.isAdBlocked=void 0,this.rtaVarNames=[],this.identityHelper=new Vi(t,i,n,r),this.serviceProvider=this.identityHelper.serviceProvider,this.synchronizeCriteoUid(),this.userContextualDataManager=o||new yi(t)}var Ji=function(){this.bids={},this.lineItemRanges=[],this.impIds=[]};function Yi(e){return\"conditionalEvent\"===e.name}var Qi=($i.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=0,n=e;i<n.length;i++){var r=n[i];this.events.push(r)}this.evalEvents()},$i.prototype.evalEvents=function(){for(var e=0;e<this.events.length;){var t=this.events[e];if(Yi(t)&&!t.canEval())e++;else{var i=this.events.splice(e,1);try{i[0].eval(this)}catch(e){$.Error(\"An exception occurred processing an event: \"+e.toString())}}}},$i.VERSION=ge,$i);function $i(e){var t;void 0===e&&(e=null===(t=window.Criteo_prebid_144||window.Criteo)||void 0===t?void 0:t.config),this.standaloneBidder=new Ji,this.events=[],this.context=new Ki(document,window,void 0,void 0,e),$.Debug(\"Publisher Tag loaded\")}function Zi(e){window.criteo_pubtag&&window.criteo_pubtag.context&&\"serviceProvider\"in window.criteo_pubtag.context||(ei.LoadPolyfills(),window.criteo_pubtag=new Qi,window.criteo_pubtag_prebid_144=window.criteo_pubtag),window.Criteo=en(window.Criteo||{},e),window.Criteo_prebid_144=window.Criteo,$.Debug(\"Publisher Tag initialized with window.criteo_pubtag|criteo_pubtag_prebid_144, window.Criteo|Criteo_prebid_144\")}function en(e,t){if(tn(e)&&tn(t))for(var i in t)if(tn(t[i])){if(!tn(e[i])&&void 0!==e[i])continue;tn(e[i])||(e[i]={}),en(e[i],t[i])}else void 0===e[i]&&(e[i]=t[i]);return e}function tn(e){return e&&\"object\"==typeof e&&!Array.isArray(e)}function nn(){var e,t,i,n,r,o;Zi(Vt({PubTag:{Adapters:{Prebid:pt},DirectBidding:{DirectBiddingEvent:Wt,DirectBiddingSlot:De,DirectBiddingUrlBuilder:ye,Size:Be}},events:null!==(t=null===(e=window.Criteo)||void 0===e?void 0:e.events)&&void 0!==t?t:[],passbackEvents:null!==(n=null===(i=window.Criteo)||void 0===i?void 0:i.passbackEvents)&&void 0!==n?n:[],usePrebidEvents:null===(o=null===(r=window.Criteo)||void 0===r?void 0:r.usePrebidEvents)||void 0===o||o})),!1!==window.Criteo.usePrebidEvents&&(window.Criteo.events=jt(window.Criteo.events)),window.criteo_pubtag.context.serviceProvider.getServicesAsync(function(e){Gt(e.localStorageHelper)})}nn(),e.DeclarePrebid=nn}({});","id5id_cst":"PSytLDEsog==","criteo_pt_cdb_mngr_metrics":"{\"previousBuildRequestTimestamp\":\"1722640433209\"}","id5id_privacy":"{\"jurisdiction\":\"gdpr\",\"id5_consent\":false}","id5id_cached_consent_data_exp":"Sun, 01 Sep 2024 23:13:08 GMT","length":35,"clear":{},"getItem":{},"key":{},"removeItem":{},"setItem":{}}}